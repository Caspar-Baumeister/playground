"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./node_modules/next-urql/dist/next-urql.es.js":
/*!*****************************************************!*\
  !*** ./node_modules/next-urql/dist/next-urql.es.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initUrqlClient\": function() { return /* binding */ initUrqlClient; },\n/* harmony export */   \"withUrqlClient\": function() { return /* binding */ withUrqlClient; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_ssr_prepass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-ssr-prepass */ \"./node_modules/react-ssr-prepass/dist/react-ssr-prepass.es.js\");\n/* harmony import */ var urql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! urql */ \"./node_modules/urql/dist/urql.es.js\");\n\n\n\n\n\n\nlet f = null;\n\nfunction resetClient() {\n  f = null;\n}\n\nfunction initUrqlClient(e, t) {\n  const n = \"undefined\" == typeof window;\n  if (n || !f) {\n    f = (0,urql__WEBPACK_IMPORTED_MODULE_1__.createClient)({\n      ...e,\n      suspense: t && (n || e.suspense)\n    });\n    f.toJSON = () => null;\n  }\n  return f;\n}\n\nlet c;\n\nfunction withUrqlClient(l, f) {\n  if (!f) {\n    f = {};\n  }\n  return d => {\n    const C = Boolean((d.getInitialProps || f.ssr) && !f.neverSuspend);\n    const WithUrql = ({pageProps: r, urqlClient: q, urqlState: g, ...w}) => {\n      const [m, h] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((e => e + 1), 0);\n      const v = r && r.urqlState || g;\n      const y = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((() => {\n        if (q && !m) {\n          return q;\n        }\n        if (!c || \"undefined\" == typeof window) {\n          c = (0,urql__WEBPACK_IMPORTED_MODULE_1__.ssrExchange)({\n            initialState: v,\n            isClient: !0,\n            staleWhileRevalidate: \"undefined\" != typeof window ? f.staleWhileRevalidate : void 0\n          });\n        } else if (!m) {\n          c.restoreData(v);\n        }\n        const e = l(c);\n        if (!e.exchanges) {\n          e.exchanges = [ urql__WEBPACK_IMPORTED_MODULE_1__.dedupExchange, urql__WEBPACK_IMPORTED_MODULE_1__.cacheExchange, c, urql__WEBPACK_IMPORTED_MODULE_1__.fetchExchange ];\n        }\n        return initUrqlClient(e, C);\n      }), [ q, v, m ]);\n      const S = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((() => {\n        resetClient();\n        c = (0,urql__WEBPACK_IMPORTED_MODULE_1__.ssrExchange)({\n          initialState: void 0\n        });\n        h();\n      }), []);\n      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(urql__WEBPACK_IMPORTED_MODULE_1__.Provider, {\n        value: y\n      }, (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(d, {\n        ...w,\n        pageProps: r,\n        urqlClient: y,\n        resetUrqlClient: S\n      }));\n    };\n    WithUrql.displayName = `withUrqlClient(${d.displayName || d.name || \"Component\"})`;\n    if (d.getLayout) {\n      WithUrql.getLayout = d.getLayout;\n    }\n    if (d.getInitialProps || f.ssr) {\n      WithUrql.getInitialProps = async t => {\n        const n = t.AppTree;\n        const i = !!t.Component;\n        const p = i ? t.ctx : t;\n        const c = (0,urql__WEBPACK_IMPORTED_MODULE_1__.ssrExchange)({\n          initialState: void 0\n        });\n        const C = l(c, p);\n        if (!C.exchanges) {\n          C.exchanges = [ urql__WEBPACK_IMPORTED_MODULE_1__.dedupExchange, urql__WEBPACK_IMPORTED_MODULE_1__.cacheExchange, c, urql__WEBPACK_IMPORTED_MODULE_1__.fetchExchange ];\n        }\n        const q = initUrqlClient(C, !f.neverSuspend);\n        if (q) {\n          p.urqlClient = q;\n        }\n        let g = {};\n        if (d.getInitialProps) {\n          g = await d.getInitialProps(t);\n          if (p.res && (p.res.writableEnded || p.res.finished)) {\n            return {\n              ...g,\n              urqlClient: q\n            };\n          }\n        }\n        if (\"undefined\" != typeof window) {\n          return {\n            ...g,\n            urqlClient: q\n          };\n        }\n        const w = {\n          ...g,\n          urqlClient: q\n        };\n        const m = i ? w : {\n          pageProps: w\n        };\n        if (!f.neverSuspend) {\n          await (0,react_ssr_prepass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(n, m));\n        }\n        return {\n          ...g,\n          urqlState: c ? c.extractData() : void 0,\n          urqlClient: q\n        };\n      };\n    }\n    return WithUrql;\n  };\n}\n\n\n//# sourceMappingURL=next-urql.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC11cnFsL2Rpc3QvbmV4dC11cnFsLmVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE0Rjs7QUFFMUQ7O0FBRW9HOztBQUV0STs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBQztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdEQUFnRDtBQUN2RSxxQkFBcUIsaURBQUM7QUFDdEI7QUFDQSxnQkFBZ0IsOENBQUM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlEQUFDO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrQ0FBQyxFQUFFLCtDQUFDLEtBQUssK0NBQUM7QUFDcEM7QUFDQTtBQUNBLE9BQU87QUFDUCxnQkFBZ0Isa0RBQUM7QUFDakI7QUFDQSxZQUFZLGlEQUFDO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsYUFBYSxvREFBQyxDQUFDLDBDQUFDO0FBQ2hCO0FBQ0EsT0FBTyxFQUFFLG9EQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSw2Q0FBNkMsdUNBQXVDO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaURBQUM7QUFDbkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQiwrQ0FBQyxFQUFFLCtDQUFDLEtBQUssK0NBQUM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2REFBQyxDQUFDLG9EQUFDO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBDO0FBQzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0LXVycWwvZGlzdC9uZXh0LXVycWwuZXMuanM/ODFkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IGFzIGUsIHVzZVJlZHVjZXIgYXMgdCwgdXNlTWVtbyBhcyBuLCB1c2VDYWxsYmFjayBhcyBpIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCByIGZyb20gXCJyZWFjdC1zc3ItcHJlcGFzc1wiO1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgYXMgbCwgc3NyRXhjaGFuZ2UgYXMgcywgZGVkdXBFeGNoYW5nZSBhcyBvLCBjYWNoZUV4Y2hhbmdlIGFzIGEsIGZldGNoRXhjaGFuZ2UgYXMgdSwgUHJvdmlkZXIgYXMgcCB9IGZyb20gXCJ1cnFsXCI7XG5cbmxldCBmID0gbnVsbDtcblxuZnVuY3Rpb24gcmVzZXRDbGllbnQoKSB7XG4gIGYgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBpbml0VXJxbENsaWVudChlLCB0KSB7XG4gIGNvbnN0IG4gPSBcInVuZGVmaW5lZFwiID09IHR5cGVvZiB3aW5kb3c7XG4gIGlmIChuIHx8ICFmKSB7XG4gICAgZiA9IGwoe1xuICAgICAgLi4uZSxcbiAgICAgIHN1c3BlbnNlOiB0ICYmIChuIHx8IGUuc3VzcGVuc2UpXG4gICAgfSk7XG4gICAgZi50b0pTT04gPSAoKSA9PiBudWxsO1xuICB9XG4gIHJldHVybiBmO1xufVxuXG5sZXQgYztcblxuZnVuY3Rpb24gd2l0aFVycWxDbGllbnQobCwgZikge1xuICBpZiAoIWYpIHtcbiAgICBmID0ge307XG4gIH1cbiAgcmV0dXJuIGQgPT4ge1xuICAgIGNvbnN0IEMgPSBCb29sZWFuKChkLmdldEluaXRpYWxQcm9wcyB8fCBmLnNzcikgJiYgIWYubmV2ZXJTdXNwZW5kKTtcbiAgICBjb25zdCBXaXRoVXJxbCA9ICh7cGFnZVByb3BzOiByLCB1cnFsQ2xpZW50OiBxLCB1cnFsU3RhdGU6IGcsIC4uLnd9KSA9PiB7XG4gICAgICBjb25zdCBbbSwgaF0gPSB0KChlID0+IGUgKyAxKSwgMCk7XG4gICAgICBjb25zdCB2ID0gciAmJiByLnVycWxTdGF0ZSB8fCBnO1xuICAgICAgY29uc3QgeSA9IG4oKCgpID0+IHtcbiAgICAgICAgaWYgKHEgJiYgIW0pIHtcbiAgICAgICAgICByZXR1cm4gcTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWMgfHwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2Ygd2luZG93KSB7XG4gICAgICAgICAgYyA9IHMoe1xuICAgICAgICAgICAgaW5pdGlhbFN0YXRlOiB2LFxuICAgICAgICAgICAgaXNDbGllbnQ6ICEwLFxuICAgICAgICAgICAgc3RhbGVXaGlsZVJldmFsaWRhdGU6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHdpbmRvdyA/IGYuc3RhbGVXaGlsZVJldmFsaWRhdGUgOiB2b2lkIDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICghbSkge1xuICAgICAgICAgIGMucmVzdG9yZURhdGEodik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZSA9IGwoYyk7XG4gICAgICAgIGlmICghZS5leGNoYW5nZXMpIHtcbiAgICAgICAgICBlLmV4Y2hhbmdlcyA9IFsgbywgYSwgYywgdSBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbml0VXJxbENsaWVudChlLCBDKTtcbiAgICAgIH0pLCBbIHEsIHYsIG0gXSk7XG4gICAgICBjb25zdCBTID0gaSgoKCkgPT4ge1xuICAgICAgICByZXNldENsaWVudCgpO1xuICAgICAgICBjID0gcyh7XG4gICAgICAgICAgaW5pdGlhbFN0YXRlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIGgoKTtcbiAgICAgIH0pLCBbXSk7XG4gICAgICByZXR1cm4gZShwLCB7XG4gICAgICAgIHZhbHVlOiB5XG4gICAgICB9LCBlKGQsIHtcbiAgICAgICAgLi4udyxcbiAgICAgICAgcGFnZVByb3BzOiByLFxuICAgICAgICB1cnFsQ2xpZW50OiB5LFxuICAgICAgICByZXNldFVycWxDbGllbnQ6IFNcbiAgICAgIH0pKTtcbiAgICB9O1xuICAgIFdpdGhVcnFsLmRpc3BsYXlOYW1lID0gYHdpdGhVcnFsQ2xpZW50KCR7ZC5kaXNwbGF5TmFtZSB8fCBkLm5hbWUgfHwgXCJDb21wb25lbnRcIn0pYDtcbiAgICBpZiAoZC5nZXRMYXlvdXQpIHtcbiAgICAgIFdpdGhVcnFsLmdldExheW91dCA9IGQuZ2V0TGF5b3V0O1xuICAgIH1cbiAgICBpZiAoZC5nZXRJbml0aWFsUHJvcHMgfHwgZi5zc3IpIHtcbiAgICAgIFdpdGhVcnFsLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jIHQgPT4ge1xuICAgICAgICBjb25zdCBuID0gdC5BcHBUcmVlO1xuICAgICAgICBjb25zdCBpID0gISF0LkNvbXBvbmVudDtcbiAgICAgICAgY29uc3QgcCA9IGkgPyB0LmN0eCA6IHQ7XG4gICAgICAgIGNvbnN0IGMgPSBzKHtcbiAgICAgICAgICBpbml0aWFsU3RhdGU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgQyA9IGwoYywgcCk7XG4gICAgICAgIGlmICghQy5leGNoYW5nZXMpIHtcbiAgICAgICAgICBDLmV4Y2hhbmdlcyA9IFsgbywgYSwgYywgdSBdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHEgPSBpbml0VXJxbENsaWVudChDLCAhZi5uZXZlclN1c3BlbmQpO1xuICAgICAgICBpZiAocSkge1xuICAgICAgICAgIHAudXJxbENsaWVudCA9IHE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGcgPSB7fTtcbiAgICAgICAgaWYgKGQuZ2V0SW5pdGlhbFByb3BzKSB7XG4gICAgICAgICAgZyA9IGF3YWl0IGQuZ2V0SW5pdGlhbFByb3BzKHQpO1xuICAgICAgICAgIGlmIChwLnJlcyAmJiAocC5yZXMud3JpdGFibGVFbmRlZCB8fCBwLnJlcy5maW5pc2hlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmcsXG4gICAgICAgICAgICAgIHVycWxDbGllbnQ6IHFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZyxcbiAgICAgICAgICAgIHVycWxDbGllbnQ6IHFcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHcgPSB7XG4gICAgICAgICAgLi4uZyxcbiAgICAgICAgICB1cnFsQ2xpZW50OiBxXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG0gPSBpID8gdyA6IHtcbiAgICAgICAgICBwYWdlUHJvcHM6IHdcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFmLm5ldmVyU3VzcGVuZCkge1xuICAgICAgICAgIGF3YWl0IHIoZShuLCBtKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5nLFxuICAgICAgICAgIHVycWxTdGF0ZTogYyA/IGMuZXh0cmFjdERhdGEoKSA6IHZvaWQgMCxcbiAgICAgICAgICB1cnFsQ2xpZW50OiBxXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gV2l0aFVycWw7XG4gIH07XG59XG5cbmV4cG9ydCB7IGluaXRVcnFsQ2xpZW50LCB3aXRoVXJxbENsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV4dC11cnFsLmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next-urql/dist/next-urql.es.js\n"));

/***/ }),

/***/ "./src/pages/index.tsx":
/*!*****************************!*\
  !*** ./src/pages/index.tsx ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/index.esm.js\");\n/* harmony import */ var next_urql__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next-urql */ \"./node_modules/next-urql/dist/next-urql.es.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_ShopContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ShopContext */ \"./src/components/ShopContext.tsx\");\n/* harmony import */ var _generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../generated/graphql/graphql */ \"./src/generated/graphql/graphql.ts\");\n/* harmony import */ var _utils_createUrqlClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/createUrqlClient */ \"./src/utils/createUrqlClient.ts\");\n/* harmony import */ var _utils_isServer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/isServer */ \"./src/utils/isServer.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst Index = ()=>{\n    _s();\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [{ data: shopData  }] = (0,_generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_4__.useShopsQuery)({\n        variables: {\n            limit: 5\n        }\n    });\n    const [{ data: meData , fetching  }] = (0,_generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_4__.useMeQuery)({\n        pause: (0,_utils_isServer__WEBPACK_IMPORTED_MODULE_6__.isServer)()\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ShopContext__WEBPACK_IMPORTED_MODULE_3__.ShopContext.Provider, {\n        value: {\n            value,\n            setValue\n        },\n        children: (meData === null || meData === void 0 ? void 0 : meData.me) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Flex, {\n                    align: \"center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Heading, {\n                            children: \"Your Shops\"\n                        }, void 0, false, {\n                            fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                            lineNumber: 26,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Spacer, {}, void 0, false, {\n                            fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                            lineNumber: 27,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                            href: \"/create-shop\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Link, {\n                                ml: \"auto\",\n                                children: \"create shop\"\n                            }, void 0, false, {\n                                fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                                lineNumber: 29,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                            lineNumber: 28,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                    lineNumber: 25,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                    fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 11\n                }, undefined),\n                !shopData ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: \"loading...\"\n                }, void 0, false, {\n                    fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                    lineNumber: 34,\n                    columnNumber: 13\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Stack, {\n                    spacing: 8,\n                    children: shopData.shops.map((shop)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Box, {\n                            onClick: ()=>{\n                                setValue({\n                                    name: shop.name,\n                                    id: shop._id\n                                });\n                            },\n                            p: 10,\n                            shadow: \"md\",\n                            borderWidth: \"1px\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Heading, {\n                                fontSize: \"xl\",\n                                children: shop.name\n                            }, void 0, false, {\n                                fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                                lineNumber: 47,\n                                columnNumber: 19\n                            }, undefined)\n                        }, shop._id, false, {\n                            fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                            lineNumber: 38,\n                            columnNumber: 17\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                    lineNumber: 36,\n                    columnNumber: 13\n                }, undefined)\n            ]\n        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Flex, {\n                align: \"center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                        href: \"/login\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Link, {\n                            ml: \"auto\",\n                            children: \"Login here\"\n                        }, void 0, false, {\n                            fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                            lineNumber: 57,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                        lineNumber: 56,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Spacer, {}, void 0, false, {\n                        fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                        href: \"/register\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Link, {\n                            ml: \"auto\",\n                            children: \"or create an account\"\n                        }, void 0, false, {\n                            fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                            lineNumber: 61,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n                lineNumber: 55,\n                columnNumber: 11\n            }, undefined)\n        }, void 0, false)\n    }, void 0, false, {\n        fileName: \"/Users/casparbaumeister/code/playground/web/src/pages/index.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Index, \"OAhTqI7X7S2h+QMlNPFHnOLoSSU=\", false, function() {\n    return [\n        _generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_4__.useShopsQuery,\n        _generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_4__.useMeQuery\n    ];\n});\n_c = Index;\n// (Index as PageWithLayoutType).layout = MainLayout;\n// export default withUrqlClient(createUrqlClient, { ssr: false })(Index);\n// import React from \"react\";\n// import Head from \"next/head\";\n// import PageWithLayoutType from \"../types/pageWithLayoutType\";\n// import MainLayout from \"../layouts/mainLayout\";\n// import { createUrqlClient } from \"../utils/createUrqlClient\";\n// import { withUrqlClient } from \"next-urql\";\n// import { NextPage } from \"next\";\n// const Home: React.FC = () => {\n//   return (\n//     <div>\n//       <Head>\n//         <title>Create Next App</title>\n//         <link rel=\"icon\" href=\"/favicon.ico\" />\n//       </Head>\n//       <main>\n//         <h1>\n//           Welcome to <a href=\"https://nextjs.org\">Next.js!</a>\n//         </h1>\n//         <p>\n//           Get started by editing <code>pages/index.js</code>\n//         </p>\n//       </main>\n//     </div>\n//   );\n// };\n// (Home as PageWithLayoutType).layout = MainLayout;\n// export default Index;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,next_urql__WEBPACK_IMPORTED_MODULE_8__.withUrqlClient)(_utils_createUrqlClient__WEBPACK_IMPORTED_MODULE_5__.createUrqlClient, {\n    ssr: false\n})(Index));\nvar _c;\n$RefreshReg$(_c, \"Index\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L19OX0UvLi9zcmMvcGFnZXMvaW5kZXgudHN4PzE5YTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm94LCBGbGV4LCBIZWFkaW5nLCBMaW5rLCBTcGFjZXIsIFN0YWNrIH0gZnJvbSBcIkBjaGFrcmEtdWkvcmVhY3RcIjtcbmltcG9ydCB7IHdpdGhVcnFsQ2xpZW50IH0gZnJvbSBcIm5leHQtdXJxbFwiO1xuaW1wb3J0IE5leHRMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IEZDLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2hvcENvbnRleHQsIFNob3BUeXBlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2hvcENvbnRleHRcIjtcbmltcG9ydCB7IHVzZU1lUXVlcnksIHVzZVNob3BzUXVlcnkgfSBmcm9tIFwiLi4vZ2VuZXJhdGVkL2dyYXBocWwvZ3JhcGhxbFwiO1xuaW1wb3J0IE1haW5MYXlvdXQgZnJvbSBcIi4uL2xheW91dHMvbWFpbkxheW91dFwiO1xuaW1wb3J0IFBhZ2VXaXRoTGF5b3V0VHlwZSBmcm9tIFwiLi4vdHlwZXMvcGFnZVdpdGhMYXlvdXRUeXBlXCI7XG5pbXBvcnQgeyBjcmVhdGVVcnFsQ2xpZW50IH0gZnJvbSBcIi4uL3V0aWxzL2NyZWF0ZVVycWxDbGllbnRcIjtcbmltcG9ydCB7IGlzU2VydmVyIH0gZnJvbSBcIi4uL3V0aWxzL2lzU2VydmVyXCI7XG5pbXBvcnQgeyBBcHBMYXlvdXRQcm9wcyB9IGZyb20gXCIuL19hcHBcIjtcblxuY29uc3QgSW5kZXg6IFJlYWN0LkZDID0gKCkgPT4ge1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlPFNob3BUeXBlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt7IGRhdGE6IHNob3BEYXRhIH1dID0gdXNlU2hvcHNRdWVyeSh7IHZhcmlhYmxlczogeyBsaW1pdDogNSB9IH0pO1xuICBjb25zdCBbeyBkYXRhOiBtZURhdGEsIGZldGNoaW5nIH1dID0gdXNlTWVRdWVyeSh7XG4gICAgcGF1c2U6IGlzU2VydmVyKCksXG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPFNob3BDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHZhbHVlLCBzZXRWYWx1ZSB9fT5cbiAgICAgIHsvKiA8TGF5b3V0PiAqL31cbiAgICAgIHttZURhdGE/Lm1lID8gKFxuICAgICAgICA8PlxuICAgICAgICAgIDxGbGV4IGFsaWduPVwiY2VudGVyXCI+XG4gICAgICAgICAgICA8SGVhZGluZz5Zb3VyIFNob3BzPC9IZWFkaW5nPlxuICAgICAgICAgICAgPFNwYWNlciAvPlxuICAgICAgICAgICAgPE5leHRMaW5rIGhyZWY9XCIvY3JlYXRlLXNob3BcIj5cbiAgICAgICAgICAgICAgPExpbmsgbWw9XCJhdXRvXCI+Y3JlYXRlIHNob3A8L0xpbms+XG4gICAgICAgICAgICA8L05leHRMaW5rPlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICB7IXNob3BEYXRhID8gKFxuICAgICAgICAgICAgPGRpdj5sb2FkaW5nLi4uPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxTdGFjayBzcGFjaW5nPXs4fT5cbiAgICAgICAgICAgICAge3Nob3BEYXRhLnNob3BzLm1hcCgoc2hvcCkgPT4gKFxuICAgICAgICAgICAgICAgIDxCb3hcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoeyBuYW1lOiBzaG9wLm5hbWUsIGlkOiBzaG9wLl9pZCB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBrZXk9e3Nob3AuX2lkfVxuICAgICAgICAgICAgICAgICAgcD17MTB9XG4gICAgICAgICAgICAgICAgICBzaGFkb3c9XCJtZFwiXG4gICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aD1cIjFweFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEhlYWRpbmcgZm9udFNpemU9XCJ4bFwiPntzaG9wLm5hbWV9PC9IZWFkaW5nPlxuICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC8+XG4gICAgICApIDogKFxuICAgICAgICA8PlxuICAgICAgICAgIDxGbGV4IGFsaWduPVwiY2VudGVyXCI+XG4gICAgICAgICAgICA8TmV4dExpbmsgaHJlZj1cIi9sb2dpblwiPlxuICAgICAgICAgICAgICA8TGluayBtbD1cImF1dG9cIj5Mb2dpbiBoZXJlPC9MaW5rPlxuICAgICAgICAgICAgPC9OZXh0TGluaz5cbiAgICAgICAgICAgIDxTcGFjZXIgLz5cbiAgICAgICAgICAgIDxOZXh0TGluayBocmVmPVwiL3JlZ2lzdGVyXCI+XG4gICAgICAgICAgICAgIDxMaW5rIG1sPVwiYXV0b1wiPm9yIGNyZWF0ZSBhbiBhY2NvdW50PC9MaW5rPlxuICAgICAgICAgICAgPC9OZXh0TGluaz5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgIDwvPlxuICAgICAgKX1cbiAgICAgIHsvKiA8L0xheW91dD4gKi99XG4gICAgPC9TaG9wQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbi8vIChJbmRleCBhcyBQYWdlV2l0aExheW91dFR5cGUpLmxheW91dCA9IE1haW5MYXlvdXQ7XG5cbi8vIGV4cG9ydCBkZWZhdWx0IHdpdGhVcnFsQ2xpZW50KGNyZWF0ZVVycWxDbGllbnQsIHsgc3NyOiBmYWxzZSB9KShJbmRleCk7XG5cbi8vIGltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbi8vIGltcG9ydCBIZWFkIGZyb20gXCJuZXh0L2hlYWRcIjtcbi8vIGltcG9ydCBQYWdlV2l0aExheW91dFR5cGUgZnJvbSBcIi4uL3R5cGVzL3BhZ2VXaXRoTGF5b3V0VHlwZVwiO1xuXG4vLyBpbXBvcnQgTWFpbkxheW91dCBmcm9tIFwiLi4vbGF5b3V0cy9tYWluTGF5b3V0XCI7XG4vLyBpbXBvcnQgeyBjcmVhdGVVcnFsQ2xpZW50IH0gZnJvbSBcIi4uL3V0aWxzL2NyZWF0ZVVycWxDbGllbnRcIjtcbi8vIGltcG9ydCB7IHdpdGhVcnFsQ2xpZW50IH0gZnJvbSBcIm5leHQtdXJxbFwiO1xuLy8gaW1wb3J0IHsgTmV4dFBhZ2UgfSBmcm9tIFwibmV4dFwiO1xuXG4vLyBjb25zdCBIb21lOiBSZWFjdC5GQyA9ICgpID0+IHtcbi8vICAgcmV0dXJuIChcbi8vICAgICA8ZGl2PlxuLy8gICAgICAgPEhlYWQ+XG4vLyAgICAgICAgIDx0aXRsZT5DcmVhdGUgTmV4dCBBcHA8L3RpdGxlPlxuLy8gICAgICAgICA8bGluayByZWw9XCJpY29uXCIgaHJlZj1cIi9mYXZpY29uLmljb1wiIC8+XG4vLyAgICAgICA8L0hlYWQ+XG5cbi8vICAgICAgIDxtYWluPlxuLy8gICAgICAgICA8aDE+XG4vLyAgICAgICAgICAgV2VsY29tZSB0byA8YSBocmVmPVwiaHR0cHM6Ly9uZXh0anMub3JnXCI+TmV4dC5qcyE8L2E+XG4vLyAgICAgICAgIDwvaDE+XG5cbi8vICAgICAgICAgPHA+XG4vLyAgICAgICAgICAgR2V0IHN0YXJ0ZWQgYnkgZWRpdGluZyA8Y29kZT5wYWdlcy9pbmRleC5qczwvY29kZT5cbi8vICAgICAgICAgPC9wPlxuLy8gICAgICAgPC9tYWluPlxuLy8gICAgIDwvZGl2PlxuLy8gICApO1xuLy8gfTtcblxuLy8gKEhvbWUgYXMgUGFnZVdpdGhMYXlvdXRUeXBlKS5sYXlvdXQgPSBNYWluTGF5b3V0O1xuXG4vLyBleHBvcnQgZGVmYXVsdCBJbmRleDtcbmV4cG9ydCBkZWZhdWx0IHdpdGhVcnFsQ2xpZW50KGNyZWF0ZVVycWxDbGllbnQsIHsgc3NyOiBmYWxzZSB9KShcbiAgSW5kZXggYXMgUGFnZVdpdGhMYXlvdXRUeXBlXG4pO1xuIl0sIm5hbWVzIjpbIkJveCIsIkZsZXgiLCJIZWFkaW5nIiwiTGluayIsIlNwYWNlciIsIlN0YWNrIiwid2l0aFVycWxDbGllbnQiLCJOZXh0TGluayIsInVzZVN0YXRlIiwiU2hvcENvbnRleHQiLCJ1c2VNZVF1ZXJ5IiwidXNlU2hvcHNRdWVyeSIsImNyZWF0ZVVycWxDbGllbnQiLCJpc1NlcnZlciIsIkluZGV4IiwidmFsdWUiLCJzZXRWYWx1ZSIsImRhdGEiLCJzaG9wRGF0YSIsInZhcmlhYmxlcyIsImxpbWl0IiwibWVEYXRhIiwiZmV0Y2hpbmciLCJwYXVzZSIsIlByb3ZpZGVyIiwibWUiLCJhbGlnbiIsImhyZWYiLCJtbCIsImJyIiwiZGl2Iiwic3BhY2luZyIsInNob3BzIiwibWFwIiwic2hvcCIsIm9uQ2xpY2siLCJuYW1lIiwiaWQiLCJfaWQiLCJwIiwic2hhZG93IiwiYm9yZGVyV2lkdGgiLCJmb250U2l6ZSIsInNzciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/index.tsx\n"));

/***/ }),

/***/ "./src/utils/betterUpdateQuery.tsx":
/*!*****************************************!*\
  !*** ./src/utils/betterUpdateQuery.tsx ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"betterUpdateQuery\": function() { return /* binding */ betterUpdateQuery; }\n/* harmony export */ });\nfunction betterUpdateQuery(cache, qi, result, fn) {\n    return cache.updateQuery(qi, (data)=>fn(result, data));\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvYmV0dGVyVXBkYXRlUXVlcnkudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFFTyxTQUFTQSxrQkFDZEMsS0FBWSxFQUNaQyxFQUFjLEVBQ2RDLE1BQVcsRUFDWEMsRUFBa0MsRUFDbEM7SUFDQSxPQUFPSCxNQUFNSSxXQUFXLENBQUNILElBQUksQ0FBQ0ksT0FBU0YsR0FBR0QsUUFBUUc7QUFDcEQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvdXRpbHMvYmV0dGVyVXBkYXRlUXVlcnkudHN4PzE3YTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FjaGUsIFF1ZXJ5SW5wdXQgfSBmcm9tIFwiQHVycWwvZXhjaGFuZ2UtZ3JhcGhjYWNoZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYmV0dGVyVXBkYXRlUXVlcnk8UmVzdWx0LCBRdWVyeT4oXG4gIGNhY2hlOiBDYWNoZSxcbiAgcWk6IFF1ZXJ5SW5wdXQsXG4gIHJlc3VsdDogYW55LFxuICBmbjogKHI6IFJlc3VsdCwgcTogUXVlcnkpID0+IFF1ZXJ5XG4pIHtcbiAgcmV0dXJuIGNhY2hlLnVwZGF0ZVF1ZXJ5KHFpLCAoZGF0YSkgPT4gZm4ocmVzdWx0LCBkYXRhIGFzIGFueSkgYXMgYW55KTtcbn1cbiJdLCJuYW1lcyI6WyJiZXR0ZXJVcGRhdGVRdWVyeSIsImNhY2hlIiwicWkiLCJyZXN1bHQiLCJmbiIsInVwZGF0ZVF1ZXJ5IiwiZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/betterUpdateQuery.tsx\n"));

/***/ }),

/***/ "./src/utils/createUrqlClient.ts":
/*!***************************************!*\
  !*** ./src/utils/createUrqlClient.ts ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createUrqlClient\": function() { return /* binding */ createUrqlClient; }\n/* harmony export */ });\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @urql/core */ \"./node_modules/@urql/core/dist/urql-core.mjs\");\n/* harmony import */ var _urql_exchange_graphcache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @urql/exchange-graphcache */ \"./node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs\");\n/* harmony import */ var _generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../generated/graphql/graphql */ \"./src/generated/graphql/graphql.ts\");\n/* harmony import */ var _betterUpdateQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./betterUpdateQuery */ \"./src/utils/betterUpdateQuery.tsx\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! wonka */ \"./node_modules/wonka/dist/wonka.mjs\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\n\n// handle all global error handling logic here\nconst errorExchange = (param)=>{\n    let { forward  } = param;\n    return (ops$)=>{\n        return (0,wonka__WEBPACK_IMPORTED_MODULE_3__.pipe)(forward(ops$), (0,wonka__WEBPACK_IMPORTED_MODULE_3__.tap)((param)=>{\n            let { error  } = param;\n            if (error) {\n                if (error.message.includes(\"not authenticated\")) {\n                    next_router__WEBPACK_IMPORTED_MODULE_2___default().replace(\"/login\");\n                }\n            }\n        }));\n    };\n};\nconst createUrqlClient = (ssrExchange)=>({\n        url: \"http://localhost:4000/graphql\",\n        fetchOptions: {\n            credentials: \"include\"\n        },\n        exchanges: [\n            _urql_core__WEBPACK_IMPORTED_MODULE_4__.dedupExchange,\n            (0,_urql_exchange_graphcache__WEBPACK_IMPORTED_MODULE_5__.cacheExchange)({\n                updates: {\n                    Mutation: {\n                        login: (_result, args, cache, info)=>{\n                            (0,_betterUpdateQuery__WEBPACK_IMPORTED_MODULE_1__.betterUpdateQuery)(cache, {\n                                query: _generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_0__.MeDocument\n                            }, _result, (result, query)=>{\n                                if (result.login.errors) {\n                                    return query;\n                                } else {\n                                    return {\n                                        me: result.login.user\n                                    };\n                                }\n                            });\n                            console.log(cache.inspectFields(\"Query\"));\n                            cache.invalidate(\"Query\", \"shops\");\n                            console.log(cache.inspectFields(\"Query\"));\n                        },\n                        logout: (_result, args, cache, info)=>{\n                            (0,_betterUpdateQuery__WEBPACK_IMPORTED_MODULE_1__.betterUpdateQuery)(cache, {\n                                query: _generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_0__.MeDocument\n                            }, _result, ()=>{\n                                return {\n                                    me: null\n                                };\n                            });\n                        },\n                        register: (_result, args, cache, info)=>{\n                            (0,_betterUpdateQuery__WEBPACK_IMPORTED_MODULE_1__.betterUpdateQuery)(cache, {\n                                query: _generated_graphql_graphql__WEBPACK_IMPORTED_MODULE_0__.MeDocument\n                            }, _result, (result, query)=>{\n                                if (result.register.errors) {\n                                    return query;\n                                } else {\n                                    return {\n                                        me: result.register.user\n                                    };\n                                }\n                            });\n                        }\n                    }\n                }\n            }),\n            errorExchange,\n            ssrExchange,\n            _urql_core__WEBPACK_IMPORTED_MODULE_4__.fetchExchange\n        ]\n    });\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvY3JlYXRlVXJxbENsaWVudC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEwRDtBQUNBO0FBUXBCO0FBQ2tCO0FBQ3RCO0FBRUQ7QUFFakMsOENBQThDO0FBQzlDLE1BQU1RLGdCQUNKLFNBQ0E7UUFEQyxFQUFFQyxRQUFPLEVBQUU7V0FDWixDQUFDQyxPQUFTO1FBQ1IsT0FBT0wsMkNBQUlBLENBQ1RJLFFBQVFDLE9BQ1JKLDBDQUFHQSxDQUFDLFNBQWU7Z0JBQWQsRUFBRUssTUFBSyxFQUFFO1lBQ1osSUFBSUEsT0FBTztnQkFDVCxJQUFJQSxNQUFNQyxPQUFPLENBQUNDLFFBQVEsQ0FBQyxzQkFBc0I7b0JBQy9DTiwwREFBYyxDQUFDO2dCQUNqQixDQUFDO1lBQ0gsQ0FBQztRQUNIO0lBRUo7QUFBQTtBQUVLLE1BQU1RLG1CQUFtQixDQUFDQyxjQUFzQjtRQUNyREMsS0FBSztRQUNMQyxjQUFjO1lBQUVDLGFBQWE7UUFBbUI7UUFDaERDLFdBQVc7WUFDVHBCLHFEQUFhQTtZQUNiRSx3RUFBYUEsQ0FBQztnQkFDWm1CLFNBQVM7b0JBQ1BDLFVBQVU7d0JBQ1JDLE9BQU8sQ0FBQ0MsU0FBU0MsTUFBTUMsT0FBT0MsT0FBUzs0QkFDckN2QixxRUFBaUJBLENBQ2ZzQixPQUNBO2dDQUFFRSxPQUFPekIsa0VBQVVBOzRCQUFDLEdBQ3BCcUIsU0FDQSxDQUFDSyxRQUFRRCxRQUFVO2dDQUNqQixJQUFJQyxPQUFPTixLQUFLLENBQUNPLE1BQU0sRUFBRTtvQ0FDdkIsT0FBT0Y7Z0NBQ1QsT0FBTztvQ0FDTCxPQUFPO3dDQUFFRyxJQUFJRixPQUFPTixLQUFLLENBQUNTLElBQUk7b0NBQUM7Z0NBQ2pDLENBQUM7NEJBQ0g7NEJBRUZDLFFBQVFDLEdBQUcsQ0FBQ1IsTUFBTVMsYUFBYSxDQUFDOzRCQUNoQ1QsTUFBTVUsVUFBVSxDQUFDLFNBQVM7NEJBQzFCSCxRQUFRQyxHQUFHLENBQUNSLE1BQU1TLGFBQWEsQ0FBQzt3QkFDbEM7d0JBQ0FFLFFBQVEsQ0FBQ2IsU0FBU0MsTUFBTUMsT0FBT0MsT0FBUzs0QkFDdEN2QixxRUFBaUJBLENBQ2ZzQixPQUNBO2dDQUFFRSxPQUFPekIsa0VBQVVBOzRCQUFDLEdBQ3BCcUIsU0FDQSxJQUFNO2dDQUNKLE9BQU87b0NBQUVPLElBQUksSUFBSTtnQ0FBQzs0QkFDcEI7d0JBRUo7d0JBQ0FPLFVBQVUsQ0FBQ2QsU0FBU0MsTUFBTUMsT0FBT0MsT0FBUzs0QkFDeEN2QixxRUFBaUJBLENBQ2ZzQixPQUNBO2dDQUFFRSxPQUFPekIsa0VBQVVBOzRCQUFDLEdBQ3BCcUIsU0FDQSxDQUFDSyxRQUFRRCxRQUFVO2dDQUNqQixJQUFJQyxPQUFPUyxRQUFRLENBQUNSLE1BQU0sRUFBRTtvQ0FDMUIsT0FBT0Y7Z0NBQ1QsT0FBTztvQ0FDTCxPQUFPO3dDQUFFRyxJQUFJRixPQUFPUyxRQUFRLENBQUNOLElBQUk7b0NBQUM7Z0NBQ3BDLENBQUM7NEJBQ0g7d0JBRUo7b0JBQ0Y7Z0JBQ0Y7WUFDRjtZQUNBeEI7WUFDQVE7WUFDQWYscURBQWFBO1NBQ2Q7SUFDSCxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy91dGlscy9jcmVhdGVVcnFsQ2xpZW50LnRzPzkyNmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVkdXBFeGNoYW5nZSwgZmV0Y2hFeGNoYW5nZSB9IGZyb20gXCJAdXJxbC9jb3JlXCI7XG5pbXBvcnQgeyBjYWNoZUV4Y2hhbmdlIH0gZnJvbSBcIkB1cnFsL2V4Y2hhbmdlLWdyYXBoY2FjaGVcIjtcblxuaW1wb3J0IHtcbiAgTG9naW5NdXRhdGlvbixcbiAgTWVRdWVyeSxcbiAgTWVEb2N1bWVudCxcbiAgTG9nb3V0TXV0YXRpb24sXG4gIFJlZ2lzdGVyTXV0YXRpb24sXG59IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ3JhcGhxbC9ncmFwaHFsXCI7XG5pbXBvcnQgeyBiZXR0ZXJVcGRhdGVRdWVyeSB9IGZyb20gXCIuL2JldHRlclVwZGF0ZVF1ZXJ5XCI7XG5pbXBvcnQgeyBwaXBlLCB0YXAgfSBmcm9tIFwid29ua2FcIjtcbmltcG9ydCB7IEV4Y2hhbmdlIH0gZnJvbSBcInVycWxcIjtcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIm5leHQvcm91dGVyXCI7XG5cbi8vIGhhbmRsZSBhbGwgZ2xvYmFsIGVycm9yIGhhbmRsaW5nIGxvZ2ljIGhlcmVcbmNvbnN0IGVycm9yRXhjaGFuZ2U6IEV4Y2hhbmdlID1cbiAgKHsgZm9yd2FyZCB9KSA9PlxuICAob3BzJCkgPT4ge1xuICAgIHJldHVybiBwaXBlKFxuICAgICAgZm9yd2FyZChvcHMkKSxcbiAgICAgIHRhcCgoeyBlcnJvciB9KSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwibm90IGF1dGhlbnRpY2F0ZWRcIikpIHtcbiAgICAgICAgICAgIFJvdXRlci5yZXBsYWNlKFwiL2xvZ2luXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlVXJxbENsaWVudCA9IChzc3JFeGNoYW5nZTogYW55KSA9PiAoe1xuICB1cmw6IFwiaHR0cDovL2xvY2FsaG9zdDo0MDAwL2dyYXBocWxcIixcbiAgZmV0Y2hPcHRpb25zOiB7IGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIiBhcyBjb25zdCB9LFxuICBleGNoYW5nZXM6IFtcbiAgICBkZWR1cEV4Y2hhbmdlLFxuICAgIGNhY2hlRXhjaGFuZ2Uoe1xuICAgICAgdXBkYXRlczoge1xuICAgICAgICBNdXRhdGlvbjoge1xuICAgICAgICAgIGxvZ2luOiAoX3Jlc3VsdCwgYXJncywgY2FjaGUsIGluZm8pID0+IHtcbiAgICAgICAgICAgIGJldHRlclVwZGF0ZVF1ZXJ5PExvZ2luTXV0YXRpb24sIE1lUXVlcnk+KFxuICAgICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgICAgICAgeyBxdWVyeTogTWVEb2N1bWVudCB9LFxuICAgICAgICAgICAgICBfcmVzdWx0LFxuICAgICAgICAgICAgICAocmVzdWx0LCBxdWVyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubG9naW4uZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7IG1lOiByZXN1bHQubG9naW4udXNlciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhY2hlLmluc3BlY3RGaWVsZHMoXCJRdWVyeVwiKSk7XG4gICAgICAgICAgICBjYWNoZS5pbnZhbGlkYXRlKFwiUXVlcnlcIiwgXCJzaG9wc1wiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhY2hlLmluc3BlY3RGaWVsZHMoXCJRdWVyeVwiKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsb2dvdXQ6IChfcmVzdWx0LCBhcmdzLCBjYWNoZSwgaW5mbykgPT4ge1xuICAgICAgICAgICAgYmV0dGVyVXBkYXRlUXVlcnk8TG9nb3V0TXV0YXRpb24sIE1lUXVlcnk+KFxuICAgICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgICAgICAgeyBxdWVyeTogTWVEb2N1bWVudCB9LFxuICAgICAgICAgICAgICBfcmVzdWx0LFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWU6IG51bGwgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlZ2lzdGVyOiAoX3Jlc3VsdCwgYXJncywgY2FjaGUsIGluZm8pID0+IHtcbiAgICAgICAgICAgIGJldHRlclVwZGF0ZVF1ZXJ5PFJlZ2lzdGVyTXV0YXRpb24sIE1lUXVlcnk+KFxuICAgICAgICAgICAgICBjYWNoZSxcbiAgICAgICAgICAgICAgeyBxdWVyeTogTWVEb2N1bWVudCB9LFxuICAgICAgICAgICAgICBfcmVzdWx0LFxuICAgICAgICAgICAgICAocmVzdWx0LCBxdWVyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVnaXN0ZXIuZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7IG1lOiByZXN1bHQucmVnaXN0ZXIudXNlciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBlcnJvckV4Y2hhbmdlLFxuICAgIHNzckV4Y2hhbmdlLFxuICAgIGZldGNoRXhjaGFuZ2UsXG4gIF0sXG59KTtcbiJdLCJuYW1lcyI6WyJkZWR1cEV4Y2hhbmdlIiwiZmV0Y2hFeGNoYW5nZSIsImNhY2hlRXhjaGFuZ2UiLCJNZURvY3VtZW50IiwiYmV0dGVyVXBkYXRlUXVlcnkiLCJwaXBlIiwidGFwIiwiUm91dGVyIiwiZXJyb3JFeGNoYW5nZSIsImZvcndhcmQiLCJvcHMkIiwiZXJyb3IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJyZXBsYWNlIiwiY3JlYXRlVXJxbENsaWVudCIsInNzckV4Y2hhbmdlIiwidXJsIiwiZmV0Y2hPcHRpb25zIiwiY3JlZGVudGlhbHMiLCJleGNoYW5nZXMiLCJ1cGRhdGVzIiwiTXV0YXRpb24iLCJsb2dpbiIsIl9yZXN1bHQiLCJhcmdzIiwiY2FjaGUiLCJpbmZvIiwicXVlcnkiLCJyZXN1bHQiLCJlcnJvcnMiLCJtZSIsInVzZXIiLCJjb25zb2xlIiwibG9nIiwiaW5zcGVjdEZpZWxkcyIsImludmFsaWRhdGUiLCJsb2dvdXQiLCJyZWdpc3RlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/createUrqlClient.ts\n"));

/***/ }),

/***/ "./node_modules/react-ssr-prepass/dist/react-ssr-prepass.es.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-ssr-prepass/dist/react-ssr-prepass.es.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ renderPrepass; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction _extends() {\n  _extends = Object.assign || function(e) {\n    for (var r = 1; r < arguments.length; r++) {\n      var t = arguments[r];\n      for (var n in t) {\n        if (Object.prototype.hasOwnProperty.call(t, n)) {\n          e[n] = t[n];\n        }\n      }\n    }\n    return e;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar n = 60103;\n\nvar u = 60106;\n\nvar o = 60107;\n\nvar a = 60108;\n\nvar i = 60114;\n\nvar c = 60109;\n\nvar l = 60110;\n\nvar f = 60111;\n\nvar s = 60112;\n\nvar v = 60113;\n\nvar p = 60115;\n\nvar d = 60116;\n\nif (\"function\" == typeof Symbol && Symbol.for) {\n  var m = Symbol.for;\n  n = m(\"react.element\");\n  u = m(\"react.portal\");\n  o = m(\"react.fragment\");\n  a = m(\"react.strict_mode\");\n  i = m(\"react.profiler\");\n  c = m(\"react.provider\");\n  l = m(\"react.context\");\n  f = Symbol.for(\"react.concurrent_mode\");\n  s = m(\"react.forward_ref\");\n  v = m(\"react.suspense\");\n  p = m(\"react.memo\");\n  d = m(\"react.lazy\");\n}\n\nvar h = n;\n\nvar y = u;\n\nvar _ = o;\n\nvar S = a;\n\nvar x = i;\n\nvar b = c;\n\nvar M = l;\n\nvar g = f;\n\nvar k = s;\n\nvar w = v;\n\nvar F = p;\n\nvar I = d;\n\nvar q = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray;\n\nvar isAbstractElement = function(e) {\n  return null !== e && \"object\" == typeof e;\n};\n\nvar getChildrenArray = function(e) {\n  return q(e).filter(isAbstractElement);\n};\n\nvar computeProps = function(e, r) {\n  return \"object\" == typeof r ? _extends({}, r, e) : e;\n};\n\nvar E = new Map;\n\nvar C = {};\n\nvar D = void 0;\n\nvar P = void 0;\n\nvar getCurrentContextMap = function() {\n  return _extends({}, C);\n};\n\nvar getCurrentContextStore = function() {\n  return new Map(E);\n};\n\nvar flushPrevContextMap = function() {\n  var e = D;\n  D = void 0;\n  return e;\n};\n\nvar flushPrevContextStore = function() {\n  var e = P;\n  P = void 0;\n  return e;\n};\n\nvar restoreContextMap = function(e) {\n  if (void 0 !== e) {\n    _extends(C, e);\n  }\n};\n\nvar restoreContextStore = function(e) {\n  if (void 0 !== e) {\n    E.set(e[0], e[1]);\n  }\n};\n\nvar setCurrentContextMap = function(e) {\n  D = void 0;\n  C = e;\n};\n\nvar setCurrentContextStore = function(e) {\n  P = void 0;\n  E = e;\n};\n\nvar readContextValue = function(e) {\n  var r = E.get(e);\n  if (void 0 !== r) {\n    return r;\n  }\n  return e._currentValue;\n};\n\nvar R = {};\n\nvar maskContext = function(e) {\n  var r = e.contextType;\n  var t = e.contextTypes;\n  if (r) {\n    return readContextValue(r);\n  } else if (!t) {\n    return R;\n  }\n  var n = {};\n  for (var u in t) {\n    n[u] = C[u];\n  }\n  return n;\n};\n\nvar z = null;\n\nvar getCurrentErrorFrame = function() {\n  return z;\n};\n\nvar setCurrentErrorFrame = function(e) {\n  z = e || null;\n};\n\nvar O = {\n  current: {\n    uniqueID: 0\n  }\n};\n\nvar W = \"function\" == typeof Object.is ? Object.is : function is(e, r) {\n  return e === r && (0 !== e || 1 / e == 1 / r) || e != e && r != r;\n};\n\nvar j = null;\n\nvar setCurrentIdentity = function(e) {\n  j = e;\n};\n\nvar getCurrentIdentity = function() {\n  if (null === j) {\n    throw new Error(\"[react-ssr-prepass] Hooks can only be called inside the body of a function component. (https://fb.me/react-invalid-hook-call)\");\n  }\n  return j;\n};\n\nvar H = null;\n\nvar T = null;\n\nvar U = !1;\n\nvar $ = null;\n\nvar A = 0;\n\nvar setFirstHook = function(e) {\n  H = e;\n};\n\nfunction createWorkInProgressHook() {\n  if (null === T) {\n    if (null === H) {\n      return H = T = {\n        memoizedState: null,\n        queue: null,\n        next: null\n      };\n    } else {\n      return T = H;\n    }\n  } else if (null === T.next) {\n    return T = T.next = {\n      memoizedState: null,\n      queue: null,\n      next: null\n    };\n  } else {\n    return T = T.next;\n  }\n}\n\nfunction basicStateReducer(e, r) {\n  return \"function\" == typeof r ? r(e) : r;\n}\n\nfunction useReducer(e, r, t) {\n  var n = getCurrentIdentity();\n  if (null === (T = createWorkInProgressHook()).queue) {\n    var u;\n    if (e === basicStateReducer) {\n      u = \"function\" == typeof r ? r() : r;\n    } else {\n      u = void 0 !== t ? t(r) : r;\n    }\n    T.memoizedState = u;\n  }\n  var o = T.queue || (T.queue = {\n    last: null,\n    dispatch: null\n  });\n  var a = o.dispatch || (o.dispatch = dispatchAction.bind(null, n, o));\n  if (null !== $) {\n    var i = $.get(o);\n    if (void 0 !== i) {\n      $.delete(o);\n      var c = T.memoizedState;\n      var l = i;\n      do {\n        c = e(c, l.action);\n        l = l.next;\n      } while (null !== l);\n      T.memoizedState = c;\n    }\n  }\n  return [ T.memoizedState, a ];\n}\n\nfunction useMemo(e, r) {\n  getCurrentIdentity();\n  var t = void 0 === r ? null : r;\n  var n = (T = createWorkInProgressHook()).memoizedState;\n  if (null !== n && null !== t) {\n    if (function areHookInputsEqual(e, r) {\n      if (null === r) {\n        return !1;\n      }\n      for (var t = 0; t < r.length && t < e.length; t++) {\n        if (!W(e[t], r[t])) {\n          return !1;\n        }\n      }\n      return !0;\n    }(t, n[1])) {\n      return n[0];\n    }\n  }\n  var u = e();\n  T.memoizedState = [ u, t ];\n  return u;\n}\n\nfunction useOpaqueIdentifier() {\n  getCurrentIdentity();\n  if (!(T = createWorkInProgressHook()).memoizedState) {\n    T.memoizedState = \"R:\" + (O.current.uniqueID++).toString(36);\n  }\n  return T.memoizedState;\n}\n\nfunction dispatchAction(e, r, t) {\n  if (e === j) {\n    U = !0;\n    var n = {\n      action: t,\n      next: null\n    };\n    if (null === $) {\n      $ = new Map;\n    }\n    var u = $.get(r);\n    if (void 0 === u) {\n      $.set(r, n);\n    } else {\n      var o = u;\n      while (null !== o.next) {\n        o = o.next;\n      }\n      o.next = n;\n    }\n  }\n}\n\nfunction noop() {}\n\nfunction _ref$2(e) {\n  e();\n}\n\nvar N = {\n  readContext: function readContext(e, r) {\n    return readContextValue(e);\n  },\n  useSyncExternalStore: function useSyncExternalStore(e, r, t) {\n    return r();\n  },\n  useContext: function useContext(e, r) {\n    getCurrentIdentity();\n    return readContextValue(e);\n  },\n  useMemo: useMemo,\n  useReducer: useReducer,\n  useRef: function useRef(e) {\n    getCurrentIdentity();\n    var r = (T = createWorkInProgressHook()).memoizedState;\n    if (null === r) {\n      var t = {\n        current: e\n      };\n      T.memoizedState = t;\n      return t;\n    } else {\n      return r;\n    }\n  },\n  useState: function useState(e) {\n    return useReducer(basicStateReducer, e);\n  },\n  useCallback: function useCallback(e, r) {\n    return useMemo((function() {\n      return e;\n    }), r);\n  },\n  useMutableSource: function useMutableSource(e, r, t) {\n    getCurrentIdentity();\n    return r(e._source);\n  },\n  useTransition: function useTransition() {\n    return [ _ref$2, !1 ];\n  },\n  useDeferredValue: function useDeferredValue(e) {\n    return e;\n  },\n  useOpaqueIdentifier: useOpaqueIdentifier,\n  useId: useOpaqueIdentifier,\n  unstable_useId: useOpaqueIdentifier,\n  unstable_useOpaqueIdentifier: useOpaqueIdentifier,\n  useLayoutEffect: noop,\n  useImperativeHandle: noop,\n  useEffect: noop,\n  useDebugValue: noop\n};\n\nvar resolve = function(e) {\n  var r = e._payload || e;\n  if (0 === r._status) {\n    return r._result;\n  } else if (1 === r._status) {\n    return Promise.resolve(r._result);\n  } else if (2 === r._status) {\n    return Promise.reject(r._result);\n  }\n  r._status = 0;\n  return r._result = (r._ctor || r._result)().then((function(e) {\n    r._result = e;\n    if (\"function\" == typeof e) {\n      r._status = 1;\n    } else if (null !== e && \"object\" == typeof e && \"function\" == typeof e.default) {\n      r._result = e.default;\n      r._status = 1;\n    } else {\n      r._status = 2;\n    }\n  })).catch((function(e) {\n    r._status = 2;\n    r._result = e;\n    return Promise.reject(e);\n  }));\n};\n\nvar render$3 = function(e, r, n) {\n  var u = e._payload || e;\n  if (1 === u._status) {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(u._result, r);\n  }\n  return null;\n};\n\nvar makeFrame$1 = function(e, r, t) {\n  return {\n    contextMap: getCurrentContextMap(),\n    contextStore: getCurrentContextStore(),\n    id: getCurrentIdentity(),\n    hook: H,\n    kind: \"frame.hooks\",\n    errorFrame: getCurrentErrorFrame(),\n    thenable: t,\n    props: r,\n    type: e\n  };\n};\n\nvar render$2 = function(e, r, t) {\n  try {\n    return function renderWithHooks(e, r, t) {\n      T = null;\n      var n = e(r, t);\n      while (A < 25 && U) {\n        U = !1;\n        A += 1;\n        T = null;\n        n = e(r, t);\n      }\n      A = 0;\n      $ = null;\n      T = null;\n      return n;\n    }(e, computeProps(r, e.defaultProps), maskContext(e));\n  } catch (n) {\n    if (\"function\" != typeof n.then) {\n      throw n;\n    }\n    t.push(makeFrame$1(e, r, n));\n    return null;\n  }\n};\n\nfunction _ref$1() {\n  return !1;\n}\n\nfunction _ref2() {\n  return null;\n}\n\nvar createInstance = function(e, r) {\n  var t = {\n    _thrown: 0,\n    queue: n = [],\n    isMounted: _ref$1,\n    enqueueForceUpdate: _ref2,\n    enqueueReplaceState: function(e, r) {\n      if (e._isMounted) {\n        n.length = 0;\n        n.push(r);\n      }\n    },\n    enqueueSetState: function(e, r) {\n      if (e._isMounted) {\n        n.push(r);\n      }\n    }\n  };\n  var n;\n  var u = computeProps(r, e.defaultProps);\n  var o = maskContext(e);\n  var a = new e(u, o, t);\n  a.props = u;\n  a.context = o;\n  a.updater = t;\n  a._isMounted = !0;\n  if (void 0 === a.state) {\n    a.state = null;\n  }\n  if (\"function\" == typeof a.componentDidCatch || \"function\" == typeof e.getDerivedStateFromError) {\n    var i = makeFrame(e, a, null);\n    i.errorFrame = i;\n    setCurrentErrorFrame(i);\n  }\n  if (\"function\" == typeof e.getDerivedStateFromProps) {\n    var c = (0, e.getDerivedStateFromProps)(a.props, a.state);\n    if (null != c) {\n      a.state = _extends({}, a.state, c);\n    }\n  } else if (\"function\" == typeof a.componentWillMount) {\n    a.componentWillMount();\n  } else if (\"function\" == typeof a.UNSAFE_componentWillMount) {\n    a.UNSAFE_componentWillMount();\n  }\n  return a;\n};\n\nvar makeFrame = function(e, r, t) {\n  return {\n    contextMap: getCurrentContextMap(),\n    contextStore: getCurrentContextStore(),\n    errorFrame: getCurrentErrorFrame(),\n    thenable: t,\n    kind: \"frame.class\",\n    error: null,\n    instance: r,\n    type: e\n  };\n};\n\nvar render$1 = function(e, r, t) {\n  !function(e) {\n    var r = e.updater.queue;\n    if (r.length > 0) {\n      var t = _extends({}, e.state);\n      for (var n = 0, u = r.length; n < u; n++) {\n        var o = r[n];\n        var a = \"function\" == typeof o ? o.call(e, t, e.props, e.context) : o;\n        if (null !== a) {\n          _extends(t, a);\n        }\n      }\n      e.state = t;\n      r.length = 0;\n    }\n  }(r);\n  var n = null;\n  try {\n    n = r.render();\n  } catch (n) {\n    if (\"function\" != typeof n.then) {\n      throw n;\n    }\n    t.push(makeFrame(e, r, n));\n    return null;\n  }\n  if (void 0 !== e.childContextTypes && \"function\" == typeof r.getChildContext) {\n    var u = r.getChildContext();\n    if (null !== u && \"object\" == typeof u) {\n      !function(e) {\n        D = {};\n        for (var r in e) {\n          D[r] = C[r];\n          C[r] = e[r];\n        }\n      }(u);\n    }\n  }\n  if (\"function\" != typeof r.getDerivedStateFromProps && (\"function\" == typeof r.componentWillMount || \"function\" == typeof r.UNSAFE_componentWillMount) && \"function\" == typeof r.componentWillUnmount) {\n    try {\n      r.componentWillUnmount();\n    } catch (e) {}\n  }\n  r._isMounted = !1;\n  return n;\n};\n\nvar L = (react__WEBPACK_IMPORTED_MODULE_0___default().__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher);\n\nvar V = \"function\" == typeof setImmediate;\n\nvar render = function(e, r, t, n, u) {\n  return (o = e).prototype && o.prototype.isReactComponent ? function(e, r, t, n, u) {\n    setCurrentIdentity(null);\n    var o = createInstance(e, r);\n    var a = n(u, o);\n    if (a) {\n      t.push(makeFrame(e, o, a));\n      return null;\n    }\n    return render$1(e, o, t);\n  }(e, r, t, n, u) : function(e, r, t, n, u) {\n    setFirstHook(null);\n    setCurrentIdentity({});\n    var o = n(u);\n    if (o) {\n      t.push(makeFrame$1(e, r, o));\n      return null;\n    }\n    return render$2(e, r, t);\n  }(e, r, t, n, u);\n  var o;\n};\n\nvar visitElement = function(e, r, n) {\n  switch (function(e) {\n    switch (e.$$typeof) {\n     case y:\n      return y;\n\n     case h:\n      switch (e.type) {\n       case g:\n        return g;\n\n       case _:\n        return _;\n\n       case x:\n        return x;\n\n       case S:\n        return S;\n\n       case w:\n        return w;\n\n       default:\n        switch (e.type && e.type.$$typeof) {\n         case I:\n          return I;\n\n         case F:\n          return F;\n\n         case M:\n          return M;\n\n         case b:\n          return b;\n\n         case k:\n          return k;\n\n         default:\n          return h;\n        }\n      }\n\n     default:\n      return;\n    }\n  }(e)) {\n   case w:\n   case S:\n   case g:\n   case x:\n   case _:\n    return getChildrenArray(e.props.children);\n\n   case b:\n    var u = e.props;\n    var o = u.children;\n    !function(e, r) {\n      P = [ e, E.get(e) ];\n      E.set(e, r);\n    }(e.type._context, u.value);\n    return getChildrenArray(o);\n\n   case M:\n    var a = e.props.children;\n    if (\"function\" == typeof a) {\n      var i = e.type;\n      var c = readContextValue(\"object\" == typeof i._context ? i._context : i);\n      return getChildrenArray(a(c));\n    } else {\n      return [];\n    }\n\n   case I:\n    var l = function(e, r, t) {\n      if ((e._payload || e)._status <= 0) {\n        t.push({\n          kind: \"frame.lazy\",\n          contextMap: getCurrentContextMap(),\n          contextStore: getCurrentContextStore(),\n          errorFrame: getCurrentErrorFrame(),\n          thenable: resolve(e),\n          props: r,\n          type: e\n        });\n        return null;\n      }\n      return render$3(e, r);\n    }(e.type, e.props, r);\n    return getChildrenArray(l);\n\n   case F:\n    var f = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(e.type.type, e.props);\n    return getChildrenArray(f);\n\n   case k:\n    var s = e.type;\n    var v = s.render;\n    var p = computeProps(e.props, s.defaultProps);\n    var d = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(v, p);\n    return getChildrenArray(d);\n\n   case h:\n    if (\"string\" == typeof e.type) {\n      return getChildrenArray(e.props.children);\n    } else {\n      var m = render(e.type, e.props, r, n, e);\n      return getChildrenArray(m);\n    }\n\n   default:\n    return [];\n  }\n};\n\nvar visitLoop = function(e, r, t, n, u, o) {\n  var a = L.current;\n  var i = Date.now();\n  try {\n    L.current = N;\n    while (e.length > 0) {\n      var c = e[e.length - 1].shift();\n      if (void 0 !== c) {\n        var l = visitElement(c, u, o);\n        e.push(l);\n        r.push(flushPrevContextMap());\n        t.push(flushPrevContextStore());\n        n.push(getCurrentErrorFrame());\n      } else {\n        e.pop();\n        restoreContextMap(r.pop());\n        restoreContextStore(t.pop());\n        setCurrentErrorFrame(n.pop());\n      }\n      if (V && Date.now() - i > 5) {\n        return !0;\n      }\n    }\n    return !1;\n  } catch (e) {\n    var f = getCurrentErrorFrame();\n    if (!f) {\n      throw e;\n    }\n    f.error = e;\n    u.unshift(f);\n    return !1;\n  } finally {\n    L.current = a;\n  }\n};\n\nvar makeYieldFrame = function(e, r, t, n) {\n  return {\n    contextMap: getCurrentContextMap(),\n    contextStore: getCurrentContextStore(),\n    errorFrame: getCurrentErrorFrame(),\n    thenable: null,\n    kind: \"frame.yield\",\n    traversalChildren: e,\n    traversalMap: r,\n    traversalStore: t,\n    traversalErrorFrame: n\n  };\n};\n\nvar visit = function(e, r, t) {\n  var n = [ e ];\n  var u = [ flushPrevContextMap() ];\n  var o = [ flushPrevContextStore() ];\n  var a = [ getCurrentErrorFrame() ];\n  if (visitLoop(n, u, o, a, r, t)) {\n    r.unshift(makeYieldFrame(n, u, o, a));\n  }\n};\n\nvar update = function(e, r, t) {\n  if (\"frame.yield\" === e.kind) {\n    setCurrentIdentity(null);\n    setCurrentContextMap(e.contextMap);\n    setCurrentContextStore(e.contextStore);\n    setCurrentErrorFrame(e.errorFrame);\n    if (visitLoop(e.traversalChildren, e.traversalMap, e.traversalStore, e.traversalErrorFrame, r, t)) {\n      r.unshift(makeYieldFrame(e.traversalChildren, e.traversalMap, e.traversalStore, e.traversalErrorFrame));\n    }\n  } else {\n    var n = L.current;\n    var u = null;\n    L.current = N;\n    try {\n      if (\"frame.class\" === e.kind) {\n        u = function(e, r) {\n          setCurrentIdentity(null);\n          setCurrentContextMap(r.contextMap);\n          setCurrentContextStore(r.contextStore);\n          setCurrentErrorFrame(r.errorFrame);\n          if (r.error) {\n            if (++r.instance.updater._thrown >= 25) {\n              return null;\n            }\n            r.instance._isMounted = !0;\n            if (\"function\" == typeof r.instance.componentDidCatch) {\n              r.instance.componentDidCatch(r.error);\n            }\n            if (\"function\" == typeof r.type.getDerivedStateFromError) {\n              r.instance.updater.enqueueSetState(r.instance, r.type.getDerivedStateFromError(r.error));\n            }\n          }\n          return render$1(r.type, r.instance, e);\n        }(r, e);\n      } else if (\"frame.hooks\" === e.kind) {\n        u = function(e, r) {\n          setFirstHook(r.hook);\n          setCurrentIdentity(r.id);\n          setCurrentContextMap(r.contextMap);\n          setCurrentContextStore(r.contextStore);\n          setCurrentErrorFrame(r.errorFrame);\n          return render$2(r.type, r.props, e);\n        }(r, e);\n      } else if (\"frame.lazy\" === e.kind) {\n        u = function(e, r) {\n          setCurrentIdentity(null);\n          setCurrentContextMap(r.contextMap);\n          setCurrentContextStore(r.contextStore);\n          setCurrentErrorFrame(r.errorFrame);\n          return render$3(r.type, r.props);\n        }(0, e);\n      }\n    } catch (e) {\n      var o = getCurrentErrorFrame();\n      if (!o) {\n        throw e;\n      }\n      o.error = e;\n      r.unshift(o);\n      u = null;\n    } finally {\n      L.current = n;\n    }\n    visit(getChildrenArray(u), r, t);\n  }\n};\n\nfunction _ref(e, r) {\n  setImmediate(e);\n}\n\nvar flushFrames = function(e, r, t) {\n  var n = e.shift();\n  if (!n) {\n    return Promise.resolve();\n  }\n  if (V && \"frame.yield\" === n.kind) {\n    n.thenable = new Promise(_ref);\n  }\n  return Promise.resolve(n.thenable).then((function() {\n    !function(e) {\n      O.current = e;\n    }(t);\n    update(n, e, r);\n    return flushFrames(e, r, t);\n  }), (function(t) {\n    if (!n.errorFrame) {\n      throw t;\n    }\n    n.errorFrame.error = t;\n    update(n.errorFrame, e, r);\n  }));\n};\n\nvar defaultVisitor = function() {\n  return;\n};\n\nvar renderPrepass = function(e, r) {\n  if (!r) {\n    r = defaultVisitor;\n  }\n  var t = [];\n  var n = O.current = {\n    uniqueID: 0\n  };\n  setCurrentContextMap({});\n  setCurrentContextStore(new Map);\n  setCurrentErrorFrame(null);\n  try {\n    visit(getChildrenArray(e), t, r);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n  return flushFrames(t, r, n);\n};\n\n\n//# sourceMappingURL=react-ssr-prepass.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtc3NyLXByZXBhc3MvZGlzdC9yZWFjdC1zc3ItcHJlcGFzcy5lcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkQ7O0FBRTdEO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLFFBQVEsbURBQVM7O0FBRWpCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0M7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxvQkFBb0I7QUFDcEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOEJBQThCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9EQUFDO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsd0hBQTJFOztBQUVuRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFlBQVksb0RBQUM7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQUM7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRW9DO0FBQ3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC1zc3ItcHJlcGFzcy9kaXN0L3JlYWN0LXNzci1wcmVwYXNzLmVzLmpzP2FiZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGUsIHsgQ2hpbGRyZW4gYXMgciwgY3JlYXRlRWxlbWVudCBhcyB0IH0gZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24oZSkge1xuICAgIGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7XG4gICAgICB2YXIgdCA9IGFyZ3VtZW50c1tyXTtcbiAgICAgIGZvciAodmFyIG4gaW4gdCkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIG4pKSB7XG4gICAgICAgICAgZVtuXSA9IHRbbl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgbiA9IDYwMTAzO1xuXG52YXIgdSA9IDYwMTA2O1xuXG52YXIgbyA9IDYwMTA3O1xuXG52YXIgYSA9IDYwMTA4O1xuXG52YXIgaSA9IDYwMTE0O1xuXG52YXIgYyA9IDYwMTA5O1xuXG52YXIgbCA9IDYwMTEwO1xuXG52YXIgZiA9IDYwMTExO1xuXG52YXIgcyA9IDYwMTEyO1xuXG52YXIgdiA9IDYwMTEzO1xuXG52YXIgcCA9IDYwMTE1O1xuXG52YXIgZCA9IDYwMTE2O1xuXG5pZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLmZvcikge1xuICB2YXIgbSA9IFN5bWJvbC5mb3I7XG4gIG4gPSBtKFwicmVhY3QuZWxlbWVudFwiKTtcbiAgdSA9IG0oXCJyZWFjdC5wb3J0YWxcIik7XG4gIG8gPSBtKFwicmVhY3QuZnJhZ21lbnRcIik7XG4gIGEgPSBtKFwicmVhY3Quc3RyaWN0X21vZGVcIik7XG4gIGkgPSBtKFwicmVhY3QucHJvZmlsZXJcIik7XG4gIGMgPSBtKFwicmVhY3QucHJvdmlkZXJcIik7XG4gIGwgPSBtKFwicmVhY3QuY29udGV4dFwiKTtcbiAgZiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIik7XG4gIHMgPSBtKFwicmVhY3QuZm9yd2FyZF9yZWZcIik7XG4gIHYgPSBtKFwicmVhY3Quc3VzcGVuc2VcIik7XG4gIHAgPSBtKFwicmVhY3QubWVtb1wiKTtcbiAgZCA9IG0oXCJyZWFjdC5sYXp5XCIpO1xufVxuXG52YXIgaCA9IG47XG5cbnZhciB5ID0gdTtcblxudmFyIF8gPSBvO1xuXG52YXIgUyA9IGE7XG5cbnZhciB4ID0gaTtcblxudmFyIGIgPSBjO1xuXG52YXIgTSA9IGw7XG5cbnZhciBnID0gZjtcblxudmFyIGsgPSBzO1xuXG52YXIgdyA9IHY7XG5cbnZhciBGID0gcDtcblxudmFyIEkgPSBkO1xuXG52YXIgcSA9IHIudG9BcnJheTtcblxudmFyIGlzQWJzdHJhY3RFbGVtZW50ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gbnVsbCAhPT0gZSAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBlO1xufTtcblxudmFyIGdldENoaWxkcmVuQXJyYXkgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBxKGUpLmZpbHRlcihpc0Fic3RyYWN0RWxlbWVudCk7XG59O1xuXG52YXIgY29tcHV0ZVByb3BzID0gZnVuY3Rpb24oZSwgcikge1xuICByZXR1cm4gXCJvYmplY3RcIiA9PSB0eXBlb2YgciA/IF9leHRlbmRzKHt9LCByLCBlKSA6IGU7XG59O1xuXG52YXIgRSA9IG5ldyBNYXA7XG5cbnZhciBDID0ge307XG5cbnZhciBEID0gdm9pZCAwO1xuXG52YXIgUCA9IHZvaWQgMDtcblxudmFyIGdldEN1cnJlbnRDb250ZXh0TWFwID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgQyk7XG59O1xuXG52YXIgZ2V0Q3VycmVudENvbnRleHRTdG9yZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IE1hcChFKTtcbn07XG5cbnZhciBmbHVzaFByZXZDb250ZXh0TWFwID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gRDtcbiAgRCA9IHZvaWQgMDtcbiAgcmV0dXJuIGU7XG59O1xuXG52YXIgZmx1c2hQcmV2Q29udGV4dFN0b3JlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gUDtcbiAgUCA9IHZvaWQgMDtcbiAgcmV0dXJuIGU7XG59O1xuXG52YXIgcmVzdG9yZUNvbnRleHRNYXAgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh2b2lkIDAgIT09IGUpIHtcbiAgICBfZXh0ZW5kcyhDLCBlKTtcbiAgfVxufTtcblxudmFyIHJlc3RvcmVDb250ZXh0U3RvcmUgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh2b2lkIDAgIT09IGUpIHtcbiAgICBFLnNldChlWzBdLCBlWzFdKTtcbiAgfVxufTtcblxudmFyIHNldEN1cnJlbnRDb250ZXh0TWFwID0gZnVuY3Rpb24oZSkge1xuICBEID0gdm9pZCAwO1xuICBDID0gZTtcbn07XG5cbnZhciBzZXRDdXJyZW50Q29udGV4dFN0b3JlID0gZnVuY3Rpb24oZSkge1xuICBQID0gdm9pZCAwO1xuICBFID0gZTtcbn07XG5cbnZhciByZWFkQ29udGV4dFZhbHVlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgciA9IEUuZ2V0KGUpO1xuICBpZiAodm9pZCAwICE9PSByKSB7XG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgcmV0dXJuIGUuX2N1cnJlbnRWYWx1ZTtcbn07XG5cbnZhciBSID0ge307XG5cbnZhciBtYXNrQ29udGV4dCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHIgPSBlLmNvbnRleHRUeXBlO1xuICB2YXIgdCA9IGUuY29udGV4dFR5cGVzO1xuICBpZiAocikge1xuICAgIHJldHVybiByZWFkQ29udGV4dFZhbHVlKHIpO1xuICB9IGVsc2UgaWYgKCF0KSB7XG4gICAgcmV0dXJuIFI7XG4gIH1cbiAgdmFyIG4gPSB7fTtcbiAgZm9yICh2YXIgdSBpbiB0KSB7XG4gICAgblt1XSA9IENbdV07XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuXG52YXIgeiA9IG51bGw7XG5cbnZhciBnZXRDdXJyZW50RXJyb3JGcmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gejtcbn07XG5cbnZhciBzZXRDdXJyZW50RXJyb3JGcmFtZSA9IGZ1bmN0aW9uKGUpIHtcbiAgeiA9IGUgfHwgbnVsbDtcbn07XG5cbnZhciBPID0ge1xuICBjdXJyZW50OiB7XG4gICAgdW5pcXVlSUQ6IDBcbiAgfVxufTtcblxudmFyIFcgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5pcyA/IE9iamVjdC5pcyA6IGZ1bmN0aW9uIGlzKGUsIHIpIHtcbiAgcmV0dXJuIGUgPT09IHIgJiYgKDAgIT09IGUgfHwgMSAvIGUgPT0gMSAvIHIpIHx8IGUgIT0gZSAmJiByICE9IHI7XG59O1xuXG52YXIgaiA9IG51bGw7XG5cbnZhciBzZXRDdXJyZW50SWRlbnRpdHkgPSBmdW5jdGlvbihlKSB7XG4gIGogPSBlO1xufTtcblxudmFyIGdldEN1cnJlbnRJZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuICBpZiAobnVsbCA9PT0gaikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIltyZWFjdC1zc3ItcHJlcGFzc10gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gKGh0dHBzOi8vZmIubWUvcmVhY3QtaW52YWxpZC1ob29rLWNhbGwpXCIpO1xuICB9XG4gIHJldHVybiBqO1xufTtcblxudmFyIEggPSBudWxsO1xuXG52YXIgVCA9IG51bGw7XG5cbnZhciBVID0gITE7XG5cbnZhciAkID0gbnVsbDtcblxudmFyIEEgPSAwO1xuXG52YXIgc2V0Rmlyc3RIb29rID0gZnVuY3Rpb24oZSkge1xuICBIID0gZTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVdvcmtJblByb2dyZXNzSG9vaygpIHtcbiAgaWYgKG51bGwgPT09IFQpIHtcbiAgICBpZiAobnVsbCA9PT0gSCkge1xuICAgICAgcmV0dXJuIEggPSBUID0ge1xuICAgICAgICBtZW1vaXplZFN0YXRlOiBudWxsLFxuICAgICAgICBxdWV1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFQgPSBIO1xuICAgIH1cbiAgfSBlbHNlIGlmIChudWxsID09PSBULm5leHQpIHtcbiAgICByZXR1cm4gVCA9IFQubmV4dCA9IHtcbiAgICAgIG1lbW9pemVkU3RhdGU6IG51bGwsXG4gICAgICBxdWV1ZTogbnVsbCxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBUID0gVC5uZXh0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2ljU3RhdGVSZWR1Y2VyKGUsIHIpIHtcbiAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgciA/IHIoZSkgOiByO1xufVxuXG5mdW5jdGlvbiB1c2VSZWR1Y2VyKGUsIHIsIHQpIHtcbiAgdmFyIG4gPSBnZXRDdXJyZW50SWRlbnRpdHkoKTtcbiAgaWYgKG51bGwgPT09IChUID0gY3JlYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkpLnF1ZXVlKSB7XG4gICAgdmFyIHU7XG4gICAgaWYgKGUgPT09IGJhc2ljU3RhdGVSZWR1Y2VyKSB7XG4gICAgICB1ID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiByID8gcigpIDogcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdSA9IHZvaWQgMCAhPT0gdCA/IHQocikgOiByO1xuICAgIH1cbiAgICBULm1lbW9pemVkU3RhdGUgPSB1O1xuICB9XG4gIHZhciBvID0gVC5xdWV1ZSB8fCAoVC5xdWV1ZSA9IHtcbiAgICBsYXN0OiBudWxsLFxuICAgIGRpc3BhdGNoOiBudWxsXG4gIH0pO1xuICB2YXIgYSA9IG8uZGlzcGF0Y2ggfHwgKG8uZGlzcGF0Y2ggPSBkaXNwYXRjaEFjdGlvbi5iaW5kKG51bGwsIG4sIG8pKTtcbiAgaWYgKG51bGwgIT09ICQpIHtcbiAgICB2YXIgaSA9ICQuZ2V0KG8pO1xuICAgIGlmICh2b2lkIDAgIT09IGkpIHtcbiAgICAgICQuZGVsZXRlKG8pO1xuICAgICAgdmFyIGMgPSBULm1lbW9pemVkU3RhdGU7XG4gICAgICB2YXIgbCA9IGk7XG4gICAgICBkbyB7XG4gICAgICAgIGMgPSBlKGMsIGwuYWN0aW9uKTtcbiAgICAgICAgbCA9IGwubmV4dDtcbiAgICAgIH0gd2hpbGUgKG51bGwgIT09IGwpO1xuICAgICAgVC5tZW1vaXplZFN0YXRlID0gYztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFsgVC5tZW1vaXplZFN0YXRlLCBhIF07XG59XG5cbmZ1bmN0aW9uIHVzZU1lbW8oZSwgcikge1xuICBnZXRDdXJyZW50SWRlbnRpdHkoKTtcbiAgdmFyIHQgPSB2b2lkIDAgPT09IHIgPyBudWxsIDogcjtcbiAgdmFyIG4gPSAoVCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzSG9vaygpKS5tZW1vaXplZFN0YXRlO1xuICBpZiAobnVsbCAhPT0gbiAmJiBudWxsICE9PSB0KSB7XG4gICAgaWYgKGZ1bmN0aW9uIGFyZUhvb2tJbnB1dHNFcXVhbChlLCByKSB7XG4gICAgICBpZiAobnVsbCA9PT0gcikge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoICYmIHQgPCBlLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgIGlmICghVyhlW3RdLCByW3RdKSkge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH0odCwgblsxXSkpIHtcbiAgICAgIHJldHVybiBuWzBdO1xuICAgIH1cbiAgfVxuICB2YXIgdSA9IGUoKTtcbiAgVC5tZW1vaXplZFN0YXRlID0gWyB1LCB0IF07XG4gIHJldHVybiB1O1xufVxuXG5mdW5jdGlvbiB1c2VPcGFxdWVJZGVudGlmaWVyKCkge1xuICBnZXRDdXJyZW50SWRlbnRpdHkoKTtcbiAgaWYgKCEoVCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzSG9vaygpKS5tZW1vaXplZFN0YXRlKSB7XG4gICAgVC5tZW1vaXplZFN0YXRlID0gXCJSOlwiICsgKE8uY3VycmVudC51bmlxdWVJRCsrKS50b1N0cmluZygzNik7XG4gIH1cbiAgcmV0dXJuIFQubWVtb2l6ZWRTdGF0ZTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hBY3Rpb24oZSwgciwgdCkge1xuICBpZiAoZSA9PT0gaikge1xuICAgIFUgPSAhMDtcbiAgICB2YXIgbiA9IHtcbiAgICAgIGFjdGlvbjogdCxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGlmIChudWxsID09PSAkKSB7XG4gICAgICAkID0gbmV3IE1hcDtcbiAgICB9XG4gICAgdmFyIHUgPSAkLmdldChyKTtcbiAgICBpZiAodm9pZCAwID09PSB1KSB7XG4gICAgICAkLnNldChyLCBuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG8gPSB1O1xuICAgICAgd2hpbGUgKG51bGwgIT09IG8ubmV4dCkge1xuICAgICAgICBvID0gby5uZXh0O1xuICAgICAgfVxuICAgICAgby5uZXh0ID0gbjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIF9yZWYkMihlKSB7XG4gIGUoKTtcbn1cblxudmFyIE4gPSB7XG4gIHJlYWRDb250ZXh0OiBmdW5jdGlvbiByZWFkQ29udGV4dChlLCByKSB7XG4gICAgcmV0dXJuIHJlYWRDb250ZXh0VmFsdWUoZSk7XG4gIH0sXG4gIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiB1c2VTeW5jRXh0ZXJuYWxTdG9yZShlLCByLCB0KSB7XG4gICAgcmV0dXJuIHIoKTtcbiAgfSxcbiAgdXNlQ29udGV4dDogZnVuY3Rpb24gdXNlQ29udGV4dChlLCByKSB7XG4gICAgZ2V0Q3VycmVudElkZW50aXR5KCk7XG4gICAgcmV0dXJuIHJlYWRDb250ZXh0VmFsdWUoZSk7XG4gIH0sXG4gIHVzZU1lbW86IHVzZU1lbW8sXG4gIHVzZVJlZHVjZXI6IHVzZVJlZHVjZXIsXG4gIHVzZVJlZjogZnVuY3Rpb24gdXNlUmVmKGUpIHtcbiAgICBnZXRDdXJyZW50SWRlbnRpdHkoKTtcbiAgICB2YXIgciA9IChUID0gY3JlYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkpLm1lbW9pemVkU3RhdGU7XG4gICAgaWYgKG51bGwgPT09IHIpIHtcbiAgICAgIHZhciB0ID0ge1xuICAgICAgICBjdXJyZW50OiBlXG4gICAgICB9O1xuICAgICAgVC5tZW1vaXplZFN0YXRlID0gdDtcbiAgICAgIHJldHVybiB0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gIH0sXG4gIHVzZVN0YXRlOiBmdW5jdGlvbiB1c2VTdGF0ZShlKSB7XG4gICAgcmV0dXJuIHVzZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIsIGUpO1xuICB9LFxuICB1c2VDYWxsYmFjazogZnVuY3Rpb24gdXNlQ2FsbGJhY2soZSwgcikge1xuICAgIHJldHVybiB1c2VNZW1vKChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBlO1xuICAgIH0pLCByKTtcbiAgfSxcbiAgdXNlTXV0YWJsZVNvdXJjZTogZnVuY3Rpb24gdXNlTXV0YWJsZVNvdXJjZShlLCByLCB0KSB7XG4gICAgZ2V0Q3VycmVudElkZW50aXR5KCk7XG4gICAgcmV0dXJuIHIoZS5fc291cmNlKTtcbiAgfSxcbiAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gdXNlVHJhbnNpdGlvbigpIHtcbiAgICByZXR1cm4gWyBfcmVmJDIsICExIF07XG4gIH0sXG4gIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uIHVzZURlZmVycmVkVmFsdWUoZSkge1xuICAgIHJldHVybiBlO1xuICB9LFxuICB1c2VPcGFxdWVJZGVudGlmaWVyOiB1c2VPcGFxdWVJZGVudGlmaWVyLFxuICB1c2VJZDogdXNlT3BhcXVlSWRlbnRpZmllcixcbiAgdW5zdGFibGVfdXNlSWQ6IHVzZU9wYXF1ZUlkZW50aWZpZXIsXG4gIHVuc3RhYmxlX3VzZU9wYXF1ZUlkZW50aWZpZXI6IHVzZU9wYXF1ZUlkZW50aWZpZXIsXG4gIHVzZUxheW91dEVmZmVjdDogbm9vcCxcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogbm9vcCxcbiAgdXNlRWZmZWN0OiBub29wLFxuICB1c2VEZWJ1Z1ZhbHVlOiBub29wXG59O1xuXG52YXIgcmVzb2x2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHIgPSBlLl9wYXlsb2FkIHx8IGU7XG4gIGlmICgwID09PSByLl9zdGF0dXMpIHtcbiAgICByZXR1cm4gci5fcmVzdWx0O1xuICB9IGVsc2UgaWYgKDEgPT09IHIuX3N0YXR1cykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoci5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICgyID09PSByLl9zdGF0dXMpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoci5fcmVzdWx0KTtcbiAgfVxuICByLl9zdGF0dXMgPSAwO1xuICByZXR1cm4gci5fcmVzdWx0ID0gKHIuX2N0b3IgfHwgci5fcmVzdWx0KSgpLnRoZW4oKGZ1bmN0aW9uKGUpIHtcbiAgICByLl9yZXN1bHQgPSBlO1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpIHtcbiAgICAgIHIuX3N0YXR1cyA9IDE7XG4gICAgfSBlbHNlIGlmIChudWxsICE9PSBlICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIGUgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmRlZmF1bHQpIHtcbiAgICAgIHIuX3Jlc3VsdCA9IGUuZGVmYXVsdDtcbiAgICAgIHIuX3N0YXR1cyA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHIuX3N0YXR1cyA9IDI7XG4gICAgfVxuICB9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpIHtcbiAgICByLl9zdGF0dXMgPSAyO1xuICAgIHIuX3Jlc3VsdCA9IGU7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICB9KSk7XG59O1xuXG52YXIgcmVuZGVyJDMgPSBmdW5jdGlvbihlLCByLCBuKSB7XG4gIHZhciB1ID0gZS5fcGF5bG9hZCB8fCBlO1xuICBpZiAoMSA9PT0gdS5fc3RhdHVzKSB7XG4gICAgcmV0dXJuIHQodS5fcmVzdWx0LCByKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBtYWtlRnJhbWUkMSA9IGZ1bmN0aW9uKGUsIHIsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0TWFwOiBnZXRDdXJyZW50Q29udGV4dE1hcCgpLFxuICAgIGNvbnRleHRTdG9yZTogZ2V0Q3VycmVudENvbnRleHRTdG9yZSgpLFxuICAgIGlkOiBnZXRDdXJyZW50SWRlbnRpdHkoKSxcbiAgICBob29rOiBILFxuICAgIGtpbmQ6IFwiZnJhbWUuaG9va3NcIixcbiAgICBlcnJvckZyYW1lOiBnZXRDdXJyZW50RXJyb3JGcmFtZSgpLFxuICAgIHRoZW5hYmxlOiB0LFxuICAgIHByb3BzOiByLFxuICAgIHR5cGU6IGVcbiAgfTtcbn07XG5cbnZhciByZW5kZXIkMiA9IGZ1bmN0aW9uKGUsIHIsIHQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVuZGVyV2l0aEhvb2tzKGUsIHIsIHQpIHtcbiAgICAgIFQgPSBudWxsO1xuICAgICAgdmFyIG4gPSBlKHIsIHQpO1xuICAgICAgd2hpbGUgKEEgPCAyNSAmJiBVKSB7XG4gICAgICAgIFUgPSAhMTtcbiAgICAgICAgQSArPSAxO1xuICAgICAgICBUID0gbnVsbDtcbiAgICAgICAgbiA9IGUociwgdCk7XG4gICAgICB9XG4gICAgICBBID0gMDtcbiAgICAgICQgPSBudWxsO1xuICAgICAgVCA9IG51bGw7XG4gICAgICByZXR1cm4gbjtcbiAgICB9KGUsIGNvbXB1dGVQcm9wcyhyLCBlLmRlZmF1bHRQcm9wcyksIG1hc2tDb250ZXh0KGUpKTtcbiAgfSBjYXRjaCAobikge1xuICAgIGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG4udGhlbikge1xuICAgICAgdGhyb3cgbjtcbiAgICB9XG4gICAgdC5wdXNoKG1ha2VGcmFtZSQxKGUsIHIsIG4pKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZnVuY3Rpb24gX3JlZiQxKCkge1xuICByZXR1cm4gITE7XG59XG5cbmZ1bmN0aW9uIF9yZWYyKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIGNyZWF0ZUluc3RhbmNlID0gZnVuY3Rpb24oZSwgcikge1xuICB2YXIgdCA9IHtcbiAgICBfdGhyb3duOiAwLFxuICAgIHF1ZXVlOiBuID0gW10sXG4gICAgaXNNb3VudGVkOiBfcmVmJDEsXG4gICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBfcmVmMixcbiAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbihlLCByKSB7XG4gICAgICBpZiAoZS5faXNNb3VudGVkKSB7XG4gICAgICAgIG4ubGVuZ3RoID0gMDtcbiAgICAgICAgbi5wdXNoKHIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbihlLCByKSB7XG4gICAgICBpZiAoZS5faXNNb3VudGVkKSB7XG4gICAgICAgIG4ucHVzaChyKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBuO1xuICB2YXIgdSA9IGNvbXB1dGVQcm9wcyhyLCBlLmRlZmF1bHRQcm9wcyk7XG4gIHZhciBvID0gbWFza0NvbnRleHQoZSk7XG4gIHZhciBhID0gbmV3IGUodSwgbywgdCk7XG4gIGEucHJvcHMgPSB1O1xuICBhLmNvbnRleHQgPSBvO1xuICBhLnVwZGF0ZXIgPSB0O1xuICBhLl9pc01vdW50ZWQgPSAhMDtcbiAgaWYgKHZvaWQgMCA9PT0gYS5zdGF0ZSkge1xuICAgIGEuc3RhdGUgPSBudWxsO1xuICB9XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGEuY29tcG9uZW50RGlkQ2F0Y2ggfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcikge1xuICAgIHZhciBpID0gbWFrZUZyYW1lKGUsIGEsIG51bGwpO1xuICAgIGkuZXJyb3JGcmFtZSA9IGk7XG4gICAgc2V0Q3VycmVudEVycm9yRnJhbWUoaSk7XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpIHtcbiAgICB2YXIgYyA9ICgwLCBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcykoYS5wcm9wcywgYS5zdGF0ZSk7XG4gICAgaWYgKG51bGwgIT0gYykge1xuICAgICAgYS5zdGF0ZSA9IF9leHRlbmRzKHt9LCBhLnN0YXRlLCBjKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLmNvbXBvbmVudFdpbGxNb3VudCkge1xuICAgIGEuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gIH0gZWxzZSBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQpIHtcbiAgICBhLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgfVxuICByZXR1cm4gYTtcbn07XG5cbnZhciBtYWtlRnJhbWUgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gIHJldHVybiB7XG4gICAgY29udGV4dE1hcDogZ2V0Q3VycmVudENvbnRleHRNYXAoKSxcbiAgICBjb250ZXh0U3RvcmU6IGdldEN1cnJlbnRDb250ZXh0U3RvcmUoKSxcbiAgICBlcnJvckZyYW1lOiBnZXRDdXJyZW50RXJyb3JGcmFtZSgpLFxuICAgIHRoZW5hYmxlOiB0LFxuICAgIGtpbmQ6IFwiZnJhbWUuY2xhc3NcIixcbiAgICBlcnJvcjogbnVsbCxcbiAgICBpbnN0YW5jZTogcixcbiAgICB0eXBlOiBlXG4gIH07XG59O1xuXG52YXIgcmVuZGVyJDEgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gICFmdW5jdGlvbihlKSB7XG4gICAgdmFyIHIgPSBlLnVwZGF0ZXIucXVldWU7XG4gICAgaWYgKHIubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIHQgPSBfZXh0ZW5kcyh7fSwgZS5zdGF0ZSk7XG4gICAgICBmb3IgKHZhciBuID0gMCwgdSA9IHIubGVuZ3RoOyBuIDwgdTsgbisrKSB7XG4gICAgICAgIHZhciBvID0gcltuXTtcbiAgICAgICAgdmFyIGEgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG8gPyBvLmNhbGwoZSwgdCwgZS5wcm9wcywgZS5jb250ZXh0KSA6IG87XG4gICAgICAgIGlmIChudWxsICE9PSBhKSB7XG4gICAgICAgICAgX2V4dGVuZHModCwgYSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGUuc3RhdGUgPSB0O1xuICAgICAgci5sZW5ndGggPSAwO1xuICAgIH1cbiAgfShyKTtcbiAgdmFyIG4gPSBudWxsO1xuICB0cnkge1xuICAgIG4gPSByLnJlbmRlcigpO1xuICB9IGNhdGNoIChuKSB7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2Ygbi50aGVuKSB7XG4gICAgICB0aHJvdyBuO1xuICAgIH1cbiAgICB0LnB1c2gobWFrZUZyYW1lKGUsIHIsIG4pKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodm9pZCAwICE9PSBlLmNoaWxkQ29udGV4dFR5cGVzICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5nZXRDaGlsZENvbnRleHQpIHtcbiAgICB2YXIgdSA9IHIuZ2V0Q2hpbGRDb250ZXh0KCk7XG4gICAgaWYgKG51bGwgIT09IHUgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgdSkge1xuICAgICAgIWZ1bmN0aW9uKGUpIHtcbiAgICAgICAgRCA9IHt9O1xuICAgICAgICBmb3IgKHZhciByIGluIGUpIHtcbiAgICAgICAgICBEW3JdID0gQ1tyXTtcbiAgICAgICAgICBDW3JdID0gZVtyXTtcbiAgICAgICAgfVxuICAgICAgfSh1KTtcbiAgICB9XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2Ygci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5jb21wb25lbnRXaWxsTW91bnQgfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiByLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQpICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5jb21wb25lbnRXaWxsVW5tb3VudCkge1xuICAgIHRyeSB7XG4gICAgICByLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByLl9pc01vdW50ZWQgPSAhMTtcbiAgcmV0dXJuIG47XG59O1xuXG52YXIgTCA9IGUuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcjtcblxudmFyIFYgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHNldEltbWVkaWF0ZTtcblxudmFyIHJlbmRlciA9IGZ1bmN0aW9uKGUsIHIsIHQsIG4sIHUpIHtcbiAgcmV0dXJuIChvID0gZSkucHJvdG90eXBlICYmIG8ucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPyBmdW5jdGlvbihlLCByLCB0LCBuLCB1KSB7XG4gICAgc2V0Q3VycmVudElkZW50aXR5KG51bGwpO1xuICAgIHZhciBvID0gY3JlYXRlSW5zdGFuY2UoZSwgcik7XG4gICAgdmFyIGEgPSBuKHUsIG8pO1xuICAgIGlmIChhKSB7XG4gICAgICB0LnB1c2gobWFrZUZyYW1lKGUsIG8sIGEpKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyJDEoZSwgbywgdCk7XG4gIH0oZSwgciwgdCwgbiwgdSkgOiBmdW5jdGlvbihlLCByLCB0LCBuLCB1KSB7XG4gICAgc2V0Rmlyc3RIb29rKG51bGwpO1xuICAgIHNldEN1cnJlbnRJZGVudGl0eSh7fSk7XG4gICAgdmFyIG8gPSBuKHUpO1xuICAgIGlmIChvKSB7XG4gICAgICB0LnB1c2gobWFrZUZyYW1lJDEoZSwgciwgbykpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXIkMihlLCByLCB0KTtcbiAgfShlLCByLCB0LCBuLCB1KTtcbiAgdmFyIG87XG59O1xuXG52YXIgdmlzaXRFbGVtZW50ID0gZnVuY3Rpb24oZSwgciwgbikge1xuICBzd2l0Y2ggKGZ1bmN0aW9uKGUpIHtcbiAgICBzd2l0Y2ggKGUuJCR0eXBlb2YpIHtcbiAgICAgY2FzZSB5OlxuICAgICAgcmV0dXJuIHk7XG5cbiAgICAgY2FzZSBoOlxuICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICBjYXNlIGc6XG4gICAgICAgIHJldHVybiBnO1xuXG4gICAgICAgY2FzZSBfOlxuICAgICAgICByZXR1cm4gXztcblxuICAgICAgIGNhc2UgeDpcbiAgICAgICAgcmV0dXJuIHg7XG5cbiAgICAgICBjYXNlIFM6XG4gICAgICAgIHJldHVybiBTO1xuXG4gICAgICAgY2FzZSB3OlxuICAgICAgICByZXR1cm4gdztcblxuICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHN3aXRjaCAoZS50eXBlICYmIGUudHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgY2FzZSBJOlxuICAgICAgICAgIHJldHVybiBJO1xuXG4gICAgICAgICBjYXNlIEY6XG4gICAgICAgICAgcmV0dXJuIEY7XG5cbiAgICAgICAgIGNhc2UgTTpcbiAgICAgICAgICByZXR1cm4gTTtcblxuICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgIHJldHVybiBiO1xuXG4gICAgICAgICBjYXNlIGs6XG4gICAgICAgICAgcmV0dXJuIGs7XG5cbiAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfShlKSkge1xuICAgY2FzZSB3OlxuICAgY2FzZSBTOlxuICAgY2FzZSBnOlxuICAgY2FzZSB4OlxuICAgY2FzZSBfOlxuICAgIHJldHVybiBnZXRDaGlsZHJlbkFycmF5KGUucHJvcHMuY2hpbGRyZW4pO1xuXG4gICBjYXNlIGI6XG4gICAgdmFyIHUgPSBlLnByb3BzO1xuICAgIHZhciBvID0gdS5jaGlsZHJlbjtcbiAgICAhZnVuY3Rpb24oZSwgcikge1xuICAgICAgUCA9IFsgZSwgRS5nZXQoZSkgXTtcbiAgICAgIEUuc2V0KGUsIHIpO1xuICAgIH0oZS50eXBlLl9jb250ZXh0LCB1LnZhbHVlKTtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW5BcnJheShvKTtcblxuICAgY2FzZSBNOlxuICAgIHZhciBhID0gZS5wcm9wcy5jaGlsZHJlbjtcbiAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBhKSB7XG4gICAgICB2YXIgaSA9IGUudHlwZTtcbiAgICAgIHZhciBjID0gcmVhZENvbnRleHRWYWx1ZShcIm9iamVjdFwiID09IHR5cGVvZiBpLl9jb250ZXh0ID8gaS5fY29udGV4dCA6IGkpO1xuICAgICAgcmV0dXJuIGdldENoaWxkcmVuQXJyYXkoYShjKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgIGNhc2UgSTpcbiAgICB2YXIgbCA9IGZ1bmN0aW9uKGUsIHIsIHQpIHtcbiAgICAgIGlmICgoZS5fcGF5bG9hZCB8fCBlKS5fc3RhdHVzIDw9IDApIHtcbiAgICAgICAgdC5wdXNoKHtcbiAgICAgICAgICBraW5kOiBcImZyYW1lLmxhenlcIixcbiAgICAgICAgICBjb250ZXh0TWFwOiBnZXRDdXJyZW50Q29udGV4dE1hcCgpLFxuICAgICAgICAgIGNvbnRleHRTdG9yZTogZ2V0Q3VycmVudENvbnRleHRTdG9yZSgpLFxuICAgICAgICAgIGVycm9yRnJhbWU6IGdldEN1cnJlbnRFcnJvckZyYW1lKCksXG4gICAgICAgICAgdGhlbmFibGU6IHJlc29sdmUoZSksXG4gICAgICAgICAgcHJvcHM6IHIsXG4gICAgICAgICAgdHlwZTogZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVuZGVyJDMoZSwgcik7XG4gICAgfShlLnR5cGUsIGUucHJvcHMsIHIpO1xuICAgIHJldHVybiBnZXRDaGlsZHJlbkFycmF5KGwpO1xuXG4gICBjYXNlIEY6XG4gICAgdmFyIGYgPSB0KGUudHlwZS50eXBlLCBlLnByb3BzKTtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW5BcnJheShmKTtcblxuICAgY2FzZSBrOlxuICAgIHZhciBzID0gZS50eXBlO1xuICAgIHZhciB2ID0gcy5yZW5kZXI7XG4gICAgdmFyIHAgPSBjb21wdXRlUHJvcHMoZS5wcm9wcywgcy5kZWZhdWx0UHJvcHMpO1xuICAgIHZhciBkID0gdCh2LCBwKTtcbiAgICByZXR1cm4gZ2V0Q2hpbGRyZW5BcnJheShkKTtcblxuICAgY2FzZSBoOlxuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBlLnR5cGUpIHtcbiAgICAgIHJldHVybiBnZXRDaGlsZHJlbkFycmF5KGUucHJvcHMuY2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbSA9IHJlbmRlcihlLnR5cGUsIGUucHJvcHMsIHIsIG4sIGUpO1xuICAgICAgcmV0dXJuIGdldENoaWxkcmVuQXJyYXkobSk7XG4gICAgfVxuXG4gICBkZWZhdWx0OlxuICAgIHJldHVybiBbXTtcbiAgfVxufTtcblxudmFyIHZpc2l0TG9vcCA9IGZ1bmN0aW9uKGUsIHIsIHQsIG4sIHUsIG8pIHtcbiAgdmFyIGEgPSBMLmN1cnJlbnQ7XG4gIHZhciBpID0gRGF0ZS5ub3coKTtcbiAgdHJ5IHtcbiAgICBMLmN1cnJlbnQgPSBOO1xuICAgIHdoaWxlIChlLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBjID0gZVtlLmxlbmd0aCAtIDFdLnNoaWZ0KCk7XG4gICAgICBpZiAodm9pZCAwICE9PSBjKSB7XG4gICAgICAgIHZhciBsID0gdmlzaXRFbGVtZW50KGMsIHUsIG8pO1xuICAgICAgICBlLnB1c2gobCk7XG4gICAgICAgIHIucHVzaChmbHVzaFByZXZDb250ZXh0TWFwKCkpO1xuICAgICAgICB0LnB1c2goZmx1c2hQcmV2Q29udGV4dFN0b3JlKCkpO1xuICAgICAgICBuLnB1c2goZ2V0Q3VycmVudEVycm9yRnJhbWUoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlLnBvcCgpO1xuICAgICAgICByZXN0b3JlQ29udGV4dE1hcChyLnBvcCgpKTtcbiAgICAgICAgcmVzdG9yZUNvbnRleHRTdG9yZSh0LnBvcCgpKTtcbiAgICAgICAgc2V0Q3VycmVudEVycm9yRnJhbWUobi5wb3AoKSk7XG4gICAgICB9XG4gICAgICBpZiAoViAmJiBEYXRlLm5vdygpIC0gaSA+IDUpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgZiA9IGdldEN1cnJlbnRFcnJvckZyYW1lKCk7XG4gICAgaWYgKCFmKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBmLmVycm9yID0gZTtcbiAgICB1LnVuc2hpZnQoZik7XG4gICAgcmV0dXJuICExO1xuICB9IGZpbmFsbHkge1xuICAgIEwuY3VycmVudCA9IGE7XG4gIH1cbn07XG5cbnZhciBtYWtlWWllbGRGcmFtZSA9IGZ1bmN0aW9uKGUsIHIsIHQsIG4pIHtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0TWFwOiBnZXRDdXJyZW50Q29udGV4dE1hcCgpLFxuICAgIGNvbnRleHRTdG9yZTogZ2V0Q3VycmVudENvbnRleHRTdG9yZSgpLFxuICAgIGVycm9yRnJhbWU6IGdldEN1cnJlbnRFcnJvckZyYW1lKCksXG4gICAgdGhlbmFibGU6IG51bGwsXG4gICAga2luZDogXCJmcmFtZS55aWVsZFwiLFxuICAgIHRyYXZlcnNhbENoaWxkcmVuOiBlLFxuICAgIHRyYXZlcnNhbE1hcDogcixcbiAgICB0cmF2ZXJzYWxTdG9yZTogdCxcbiAgICB0cmF2ZXJzYWxFcnJvckZyYW1lOiBuXG4gIH07XG59O1xuXG52YXIgdmlzaXQgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gIHZhciBuID0gWyBlIF07XG4gIHZhciB1ID0gWyBmbHVzaFByZXZDb250ZXh0TWFwKCkgXTtcbiAgdmFyIG8gPSBbIGZsdXNoUHJldkNvbnRleHRTdG9yZSgpIF07XG4gIHZhciBhID0gWyBnZXRDdXJyZW50RXJyb3JGcmFtZSgpIF07XG4gIGlmICh2aXNpdExvb3AobiwgdSwgbywgYSwgciwgdCkpIHtcbiAgICByLnVuc2hpZnQobWFrZVlpZWxkRnJhbWUobiwgdSwgbywgYSkpO1xuICB9XG59O1xuXG52YXIgdXBkYXRlID0gZnVuY3Rpb24oZSwgciwgdCkge1xuICBpZiAoXCJmcmFtZS55aWVsZFwiID09PSBlLmtpbmQpIHtcbiAgICBzZXRDdXJyZW50SWRlbnRpdHkobnVsbCk7XG4gICAgc2V0Q3VycmVudENvbnRleHRNYXAoZS5jb250ZXh0TWFwKTtcbiAgICBzZXRDdXJyZW50Q29udGV4dFN0b3JlKGUuY29udGV4dFN0b3JlKTtcbiAgICBzZXRDdXJyZW50RXJyb3JGcmFtZShlLmVycm9yRnJhbWUpO1xuICAgIGlmICh2aXNpdExvb3AoZS50cmF2ZXJzYWxDaGlsZHJlbiwgZS50cmF2ZXJzYWxNYXAsIGUudHJhdmVyc2FsU3RvcmUsIGUudHJhdmVyc2FsRXJyb3JGcmFtZSwgciwgdCkpIHtcbiAgICAgIHIudW5zaGlmdChtYWtlWWllbGRGcmFtZShlLnRyYXZlcnNhbENoaWxkcmVuLCBlLnRyYXZlcnNhbE1hcCwgZS50cmF2ZXJzYWxTdG9yZSwgZS50cmF2ZXJzYWxFcnJvckZyYW1lKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBuID0gTC5jdXJyZW50O1xuICAgIHZhciB1ID0gbnVsbDtcbiAgICBMLmN1cnJlbnQgPSBOO1xuICAgIHRyeSB7XG4gICAgICBpZiAoXCJmcmFtZS5jbGFzc1wiID09PSBlLmtpbmQpIHtcbiAgICAgICAgdSA9IGZ1bmN0aW9uKGUsIHIpIHtcbiAgICAgICAgICBzZXRDdXJyZW50SWRlbnRpdHkobnVsbCk7XG4gICAgICAgICAgc2V0Q3VycmVudENvbnRleHRNYXAoci5jb250ZXh0TWFwKTtcbiAgICAgICAgICBzZXRDdXJyZW50Q29udGV4dFN0b3JlKHIuY29udGV4dFN0b3JlKTtcbiAgICAgICAgICBzZXRDdXJyZW50RXJyb3JGcmFtZShyLmVycm9yRnJhbWUpO1xuICAgICAgICAgIGlmIChyLmVycm9yKSB7XG4gICAgICAgICAgICBpZiAoKytyLmluc3RhbmNlLnVwZGF0ZXIuX3Rocm93biA+PSAyNSkge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIuaW5zdGFuY2UuX2lzTW91bnRlZCA9ICEwO1xuICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5pbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCkge1xuICAgICAgICAgICAgICByLmluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoKHIuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcikge1xuICAgICAgICAgICAgICByLmluc3RhbmNlLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHIuaW5zdGFuY2UsIHIudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3Ioci5lcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVuZGVyJDEoci50eXBlLCByLmluc3RhbmNlLCBlKTtcbiAgICAgICAgfShyLCBlKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJmcmFtZS5ob29rc1wiID09PSBlLmtpbmQpIHtcbiAgICAgICAgdSA9IGZ1bmN0aW9uKGUsIHIpIHtcbiAgICAgICAgICBzZXRGaXJzdEhvb2soci5ob29rKTtcbiAgICAgICAgICBzZXRDdXJyZW50SWRlbnRpdHkoci5pZCk7XG4gICAgICAgICAgc2V0Q3VycmVudENvbnRleHRNYXAoci5jb250ZXh0TWFwKTtcbiAgICAgICAgICBzZXRDdXJyZW50Q29udGV4dFN0b3JlKHIuY29udGV4dFN0b3JlKTtcbiAgICAgICAgICBzZXRDdXJyZW50RXJyb3JGcmFtZShyLmVycm9yRnJhbWUpO1xuICAgICAgICAgIHJldHVybiByZW5kZXIkMihyLnR5cGUsIHIucHJvcHMsIGUpO1xuICAgICAgICB9KHIsIGUpO1xuICAgICAgfSBlbHNlIGlmIChcImZyYW1lLmxhenlcIiA9PT0gZS5raW5kKSB7XG4gICAgICAgIHUgPSBmdW5jdGlvbihlLCByKSB7XG4gICAgICAgICAgc2V0Q3VycmVudElkZW50aXR5KG51bGwpO1xuICAgICAgICAgIHNldEN1cnJlbnRDb250ZXh0TWFwKHIuY29udGV4dE1hcCk7XG4gICAgICAgICAgc2V0Q3VycmVudENvbnRleHRTdG9yZShyLmNvbnRleHRTdG9yZSk7XG4gICAgICAgICAgc2V0Q3VycmVudEVycm9yRnJhbWUoci5lcnJvckZyYW1lKTtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyJDMoci50eXBlLCByLnByb3BzKTtcbiAgICAgICAgfSgwLCBlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB2YXIgbyA9IGdldEN1cnJlbnRFcnJvckZyYW1lKCk7XG4gICAgICBpZiAoIW8pIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICAgIG8uZXJyb3IgPSBlO1xuICAgICAgci51bnNoaWZ0KG8pO1xuICAgICAgdSA9IG51bGw7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIEwuY3VycmVudCA9IG47XG4gICAgfVxuICAgIHZpc2l0KGdldENoaWxkcmVuQXJyYXkodSksIHIsIHQpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfcmVmKGUsIHIpIHtcbiAgc2V0SW1tZWRpYXRlKGUpO1xufVxuXG52YXIgZmx1c2hGcmFtZXMgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gIHZhciBuID0gZS5zaGlmdCgpO1xuICBpZiAoIW4pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgaWYgKFYgJiYgXCJmcmFtZS55aWVsZFwiID09PSBuLmtpbmQpIHtcbiAgICBuLnRoZW5hYmxlID0gbmV3IFByb21pc2UoX3JlZik7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuLnRoZW5hYmxlKS50aGVuKChmdW5jdGlvbigpIHtcbiAgICAhZnVuY3Rpb24oZSkge1xuICAgICAgTy5jdXJyZW50ID0gZTtcbiAgICB9KHQpO1xuICAgIHVwZGF0ZShuLCBlLCByKTtcbiAgICByZXR1cm4gZmx1c2hGcmFtZXMoZSwgciwgdCk7XG4gIH0pLCAoZnVuY3Rpb24odCkge1xuICAgIGlmICghbi5lcnJvckZyYW1lKSB7XG4gICAgICB0aHJvdyB0O1xuICAgIH1cbiAgICBuLmVycm9yRnJhbWUuZXJyb3IgPSB0O1xuICAgIHVwZGF0ZShuLmVycm9yRnJhbWUsIGUsIHIpO1xuICB9KSk7XG59O1xuXG52YXIgZGVmYXVsdFZpc2l0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuO1xufTtcblxudmFyIHJlbmRlclByZXBhc3MgPSBmdW5jdGlvbihlLCByKSB7XG4gIGlmICghcikge1xuICAgIHIgPSBkZWZhdWx0VmlzaXRvcjtcbiAgfVxuICB2YXIgdCA9IFtdO1xuICB2YXIgbiA9IE8uY3VycmVudCA9IHtcbiAgICB1bmlxdWVJRDogMFxuICB9O1xuICBzZXRDdXJyZW50Q29udGV4dE1hcCh7fSk7XG4gIHNldEN1cnJlbnRDb250ZXh0U3RvcmUobmV3IE1hcCk7XG4gIHNldEN1cnJlbnRFcnJvckZyYW1lKG51bGwpO1xuICB0cnkge1xuICAgIHZpc2l0KGdldENoaWxkcmVuQXJyYXkoZSksIHQsIHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICB9XG4gIHJldHVybiBmbHVzaEZyYW1lcyh0LCByLCBuKTtcbn07XG5cbmV4cG9ydCB7IHJlbmRlclByZXBhc3MgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3NyLXByZXBhc3MuZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-ssr-prepass/dist/react-ssr-prepass.es.js\n"));

/***/ }),

/***/ "./node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Store\": function() { return /* binding */ Store; },\n/* harmony export */   \"cacheExchange\": function() { return /* binding */ cacheExchange; },\n/* harmony export */   \"offlineExchange\": function() { return /* binding */ offlineExchange; },\n/* harmony export */   \"query\": function() { return /* binding */ query; },\n/* harmony export */   \"write\": function() { return /* binding */ write; }\n/* harmony export */ });\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @urql/core */ \"./node_modules/@urql/core/dist/urql-core.mjs\");\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wonka */ \"./node_modules/wonka/dist/wonka.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql */ \"./node_modules/graphql/index.mjs\");\n\n\n\n\n\n\nvar getName = e => e.name.value;\n\nvar getFragmentTypeName = e => e.typeCondition.name.value;\n\nvar getFieldAlias = e => e.alias ? e.alias.value : e.name.value;\n\nvar y = [];\n\nvar getSelectionSet = e => e.selectionSet ? e.selectionSet.selections : y;\n\nvar getTypeCondition = e => e.typeCondition ? e.typeCondition.name.value : null;\n\nvar isFieldNode = e => e.kind === graphql__WEBPACK_IMPORTED_MODULE_0__.Kind.FIELD;\n\nvar isInlineFragment = e => e.kind === graphql__WEBPACK_IMPORTED_MODULE_0__.Kind.INLINE_FRAGMENT;\n\nvar getFieldArguments = (e, r) => {\n  var t = null;\n  if (e.arguments) {\n    for (var i = 0, a = e.arguments.length; i < a; i++) {\n      var n = e.arguments[i];\n      var o = (0,graphql__WEBPACK_IMPORTED_MODULE_0__.valueFromASTUntyped)(n.value, r);\n      if (null != o) {\n        if (!t) {\n          t = {};\n        }\n        t[getName(n)] = o;\n      }\n    }\n  }\n  return t;\n};\n\nvar filterVariables = (e, r) => {\n  if (!r || !e.variableDefinitions) {\n    return;\n  }\n  var t = {};\n  for (var i = 0, a = e.variableDefinitions.length; i < a; i++) {\n    var n = getName(e.variableDefinitions[i].variable);\n    t[n] = r[n];\n  }\n  return t;\n};\n\nvar normalizeVariables = (e, r) => {\n  var t = {};\n  if (!r) {\n    return t;\n  }\n  if (e.variableDefinitions) {\n    for (var i = 0, a = e.variableDefinitions.length; i < a; i++) {\n      var n = e.variableDefinitions[i];\n      var o = getName(n.variable);\n      t[o] = void 0 === r[o] && n.defaultValue ? (0,graphql__WEBPACK_IMPORTED_MODULE_0__.valueFromASTUntyped)(n.defaultValue, r) : r[o];\n    }\n  }\n  for (var s in r) {\n    if (!(s in t)) {\n      t[s] = r[s];\n    }\n  }\n  return t;\n};\n\nvar h = \"\\nhttps://bit.ly/2XbVrpR#\";\n\nvar m = new Set;\n\nvar g = [];\n\nvar popDebugNode = () => g.pop();\n\nvar pushDebugNode = (e, r) => {\n  var t = \"\";\n  if (r.kind === graphql__WEBPACK_IMPORTED_MODULE_0__.Kind.INLINE_FRAGMENT) {\n    t = e ? `Inline Fragment on \"${e}\"` : \"Inline Fragment\";\n  } else if (r.kind === graphql__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n    t = `${r.name ? `\"${r.name.value}\"` : \"Unnamed\"} ${r.operation}`;\n  } else if (r.kind === graphql__WEBPACK_IMPORTED_MODULE_0__.Kind.FRAGMENT_DEFINITION) {\n    t = `\"${r.name.value}\" Fragment`;\n  }\n  if (t) {\n    g.push(t);\n  }\n};\n\nvar getDebugOutput = () => g.length ? \"\\n(Caused At: \" + g.join(\", \") + \")\" : \"\";\n\nfunction invariant(e, r, t) {\n  if (!e) {\n    var i = r || \"Minfied Error #\" + t + \"\\n\";\n    if (true) {\n      i += getDebugOutput();\n    }\n    var a = new Error(i + h + t);\n    a.name = \"Graphcache Error\";\n    throw a;\n  }\n}\n\nfunction warn(e, r) {\n  if (!m.has(e)) {\n    console.warn(e + getDebugOutput() + h + r);\n    m.add(e);\n  }\n}\n\nvar getMainOperation = e => {\n  for (var r = 0; r < e.definitions.length; r++) {\n    if (e.definitions[r].kind === graphql__WEBPACK_IMPORTED_MODULE_0__.Kind.OPERATION_DEFINITION) {\n      return e.definitions[r];\n    }\n  }\n  invariant(!1,  true ? \"Invalid GraphQL document: All GraphQL documents must contain an OperationDefinitionnode for a query, subscription, or mutation.\" : 0, 1);\n};\n\nvar getFragments = e => {\n  var r = {};\n  for (var t = 0; t < e.definitions.length; t++) {\n    var i = e.definitions[t];\n    if (i.kind === graphql__WEBPACK_IMPORTED_MODULE_0__.Kind.FRAGMENT_DEFINITION) {\n      r[getName(i)] = i;\n    }\n  }\n  return r;\n};\n\nvar shouldInclude = (e, r) => {\n  for (var t = 0; e.directives && t < e.directives.length; t++) {\n    var i = e.directives[t];\n    var a = getName(i);\n    if ((\"include\" === a || \"skip\" === a) && i.arguments && i.arguments[0] && \"if\" === getName(i.arguments[0])) {\n      var n = (0,graphql__WEBPACK_IMPORTED_MODULE_0__.valueFromASTUntyped)(i.arguments[0].value, r);\n      return \"include\" === a ? !!n : !n;\n    }\n  }\n  return !0;\n};\n\nvar isDeferred = (e, r) => {\n  for (var t = 0; e.directives && t < e.directives.length; t++) {\n    var i = e.directives[t];\n    if (\"defer\" === getName(i)) {\n      for (var a = 0; i.arguments && a < i.arguments.length; a++) {\n        var n = i.arguments[t];\n        if (\"if\" === getName(n)) {\n          return !!(0,graphql__WEBPACK_IMPORTED_MODULE_0__.valueFromASTUntyped)(n.value, r);\n        }\n      }\n      return !0;\n    }\n  }\n  return !1;\n};\n\nvar isFieldNullable = (e, r, t) => {\n  var i = getField(e, r, t);\n  return !!i && \"NON_NULL\" !== i.type.kind;\n};\n\nvar isListNullable = (e, r, t) => {\n  var i = getField(e, r, t);\n  if (!i) {\n    return !1;\n  }\n  var a = \"NON_NULL\" === i.type.kind ? i.type.ofType : i.type;\n  return \"LIST\" === a.kind && \"NON_NULL\" !== a.ofType.kind;\n};\n\nvar isFieldAvailableOnType = (e, r, t) => 0 === t.indexOf(\"__\") || 0 === r.indexOf(\"__\") || !!getField(e, r, t);\n\nvar isInterfaceOfType = (e, r, t) => {\n  if (!t) {\n    return !1;\n  }\n  var i = getTypeCondition(r);\n  if (!i || t === i) {\n    return !0;\n  } else if (e.types.has(i) && \"OBJECT\" === e.types.get(i).kind) {\n    return i === t;\n  }\n  !function expectAbstractType(e, r) {\n    invariant(e.types.has(r) && (\"INTERFACE\" === e.types.get(r).kind || \"UNION\" === e.types.get(r).kind),  true ? \"Invalid Abstract type: The type `\" + r + \"` is not an Interface or Union type in the defined schema, but a fragment in the GraphQL document is using it as a type condition.\" : 0, 5);\n  }(e, i);\n  expectObjectType(e, t);\n  return e.isSubType(i, t);\n};\n\nvar getField = (e, r, t) => {\n  if (0 === t.indexOf(\"__\") || 0 === r.indexOf(\"__\")) {\n    return;\n  }\n  expectObjectType(e, r);\n  var i = e.types.get(r).fields()[t];\n  if (true) {\n    if (!i) {\n      warn(\"Invalid field: The field `\" + t + \"` does not exist on `\" + r + \"`, but the GraphQL document expects it to exist.\\nTraversal will continue, however this may lead to undefined behavior!\", 4);\n    }\n  }\n  return i;\n};\n\nfunction expectObjectType(e, r) {\n  invariant(e.types.has(r) && \"OBJECT\" === e.types.get(r).kind,  true ? \"Invalid Object type: The type `\" + r + \"` is not an object in the defined schema, but the GraphQL document is traversing it.\" : 0, 3);\n}\n\nfunction warnAboutResolver(e) {\n   true && warn(`Invalid resolver: \\`${e}\\` is not in the defined schema, but the \\`resolvers\\` option is referencing it.`, 23);\n}\n\nvar keyOfField = (r, t) => t ? `${r}(${(0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.stringifyVariables)(t)})` : r;\n\nvar joinKeys = (e, r) => `${e}.${r}`;\n\nvar fieldInfoOfKey = e => {\n  var r = e.indexOf(\"(\");\n  if (r > -1) {\n    return {\n      fieldKey: e,\n      fieldName: e.slice(0, r),\n      arguments: JSON.parse(e.slice(r + 1, -1))\n    };\n  } else {\n    return {\n      fieldKey: e,\n      fieldName: e,\n      arguments: null\n    };\n  }\n};\n\nvar deserializeKeyInfo = e => {\n  var r = e.indexOf(\".\");\n  return {\n    entityKey: e.slice(0, r).replace(/%2e/g, \".\"),\n    fieldKey: e.slice(r + 1)\n  };\n};\n\nvar makeDict = () => Object.create(null);\n\nvar _ = null;\n\nvar N = null;\n\nvar k = null;\n\nvar E = null;\n\nvar O = null;\n\nvar w = null;\n\nvar b = !1;\n\nvar makeData = e => {\n  var r;\n  if (e) {\n    if (_.has(e)) {\n      return e;\n    }\n    r = N.get(e) || {\n      ...e\n    };\n    N.set(e, r);\n  } else {\n    r = {};\n  }\n  _.add(r);\n  return r;\n};\n\nvar ownsData = e => !!e && _.has(e);\n\nvar initDataState = (e, r, t, i) => {\n  _ = new WeakSet;\n  N = new WeakMap;\n  k = e;\n  E = r;\n  O = new Set;\n  b = !!i;\n  if (true) {\n    g.length = 0;\n  }\n  if (!t) {\n    w = null;\n  } else if (\"read\" === k) {\n    w = t;\n  } else if (i || r.optimisticOrder.length > 1) {\n    if (!i && !r.commutativeKeys.has(t)) {\n      reserveLayer(r, t);\n    } else if (i) {\n      if (-1 !== r.optimisticOrder.indexOf(t) && !r.commutativeKeys.has(t)) {\n        r.optimisticOrder.splice(r.optimisticOrder.indexOf(t), 1);\n      }\n      r.commutativeKeys.delete(t);\n    }\n    w = t;\n    createLayer(r, t);\n  } else {\n    w = null;\n    deleteLayer(r, t);\n  }\n};\n\nvar clearDataState = () => {\n  if (true) {\n    getCurrentDependencies();\n  }\n  var e = E;\n  var r = w;\n  b = !1;\n  w = null;\n  if (r && e.optimisticOrder.indexOf(r) > -1) {\n    var t = e.optimisticOrder.length;\n    while (--t >= 0 && e.refLock.has(e.optimisticOrder[t]) && e.commutativeKeys.has(e.optimisticOrder[t]) && !e.deferredKeys.has(e.optimisticOrder[t])) {\n      squashLayer(e.optimisticOrder[t]);\n    }\n  }\n  _ = null;\n  N = null;\n  k = null;\n  E = null;\n  O = null;\n  if (true) {\n    g.length = 0;\n  }\n  if ( true && !e.defer) {\n    e.defer = !0;\n    setTimeout((() => {\n      initDataState(\"read\", e, null);\n      gc();\n      persistData();\n      clearDataState();\n      e.defer = !1;\n    }));\n  }\n};\n\nvar noopDataState = (e, r, t) => {\n  if (r && !t) {\n    e.deferredKeys.delete(r);\n  }\n  initDataState(\"write\", e, r, t);\n  clearDataState();\n};\n\nvar getCurrentOperation = () => {\n  invariant(null !== k,  true ? \"Invalid Cache call: The cache may only be accessed or mutated duringoperations like write or query, or as part of its resolvers, updaters, or optimistic configs.\" : 0, 2);\n  return k;\n};\n\nvar getCurrentDependencies = () => {\n  invariant(null !== O,  true ? \"Invalid Cache call: The cache may only be accessed or mutated duringoperations like write or query, or as part of its resolvers, updaters, or optimistic configs.\" : 0, 2);\n  return O;\n};\n\nvar setNode = (e, r, t, i) => {\n  var a = w ? e.optimistic.get(w) : e.base;\n  var n = a.get(r);\n  if (void 0 === n) {\n    a.set(r, n = makeDict());\n  }\n  if (void 0 === i && !w) {\n    delete n[t];\n  } else {\n    n[t] = i;\n  }\n};\n\nvar getNode = (e, r, t) => {\n  var i;\n  var a = !b && \"read\" === k && w && E.commutativeKeys.has(w);\n  for (var n = 0, o = E.optimisticOrder.length; n < o; n++) {\n    var s = E.optimisticOrder[n];\n    var v = e.optimistic.get(s);\n    a = a && s !== w;\n    if (v && (!a || !E.commutativeKeys.has(s)) && (!b || \"write\" === k || E.commutativeKeys.has(s)) && void 0 !== (i = v.get(r)) && t in i) {\n      return i[t];\n    }\n  }\n  return void 0 !== (i = e.base.get(r)) ? i[t] : void 0;\n};\n\nvar updateRCForEntity = (e, r, t, i) => {\n  var a = r.get(t) || 0;\n  var n = a + i;\n  r.set(t, n);\n  if (e) {\n    if (n <= 0) {\n      e.add(t);\n    } else if (a <= 0 && n > 0) {\n      e.delete(t);\n    }\n  }\n};\n\nvar updateRCForLink = (e, r, t, i) => {\n  if (\"string\" == typeof t) {\n    updateRCForEntity(e, r, t, i);\n  } else if (Array.isArray(t)) {\n    for (var a = 0, n = t.length; a < n; a++) {\n      if (Array.isArray(t[a])) {\n        updateRCForLink(e, r, t[a], i);\n      } else if (t[a]) {\n        updateRCForEntity(e, r, t[a], i);\n      }\n    }\n  }\n};\n\nvar extractNodeFields = (e, r, t) => {\n  if (void 0 !== t) {\n    for (var i in t) {\n      if (!r.has(i)) {\n        e.push(fieldInfoOfKey(i));\n        r.add(i);\n      }\n    }\n  }\n};\n\nvar extractNodeMapFields = (e, r, t, i) => {\n  extractNodeFields(e, r, i.base.get(t));\n  for (var a = 0, n = E.optimisticOrder.length; a < n; a++) {\n    var o = i.optimistic.get(E.optimisticOrder[a]);\n    if (void 0 !== o) {\n      extractNodeFields(e, r, o.get(t));\n    }\n  }\n};\n\nvar gc = () => {\n  var {gc: e} = E;\n  for (var r of e.keys()) {\n    if ((E.refCount.get(r) || 0) > 0) {\n      e.delete(r);\n      return;\n    }\n    for (var t of E.refLock.keys()) {\n      var i = E.refLock.get(t);\n      if (i) {\n        if ((i.get(r) || 0) > 0) {\n          return;\n        }\n        i.delete(r);\n      }\n    }\n    E.refCount.delete(r);\n    e.delete(r);\n    E.records.base.delete(r);\n    var a = E.links.base.get(r);\n    if (a) {\n      E.links.base.delete(r);\n      for (var n in a) {\n        updateRCForLink(e, E.refCount, a[n], -1);\n      }\n    }\n  }\n};\n\nvar updateDependencies = (e, r) => {\n  if (\"__typename\" !== r) {\n    if (e !== E.queryRootKey) {\n      O.add(e);\n    } else if (void 0 !== r) {\n      O.add(joinKeys(e, r));\n    }\n  }\n};\n\nvar updatePersist = (e, r) => {\n  if (!b && E.storage) {\n    E.persist.add(((e, r) => `${e.replace(/\\./g, \"%2e\")}.${r}`)(e, r));\n  }\n};\n\nvar readRecord = (e, r) => {\n  updateDependencies(e, r);\n  return getNode(E.records, e, r);\n};\n\nvar readLink = (e, r) => {\n  updateDependencies(e, r);\n  return getNode(E.links, e, r);\n};\n\nvar writeRecord = (e, r, t) => {\n  updateDependencies(e, r);\n  updatePersist(e, r);\n  setNode(E.records, e, r, t);\n};\n\nvar writeLink = (e, r, t) => {\n  var i = E;\n  var a;\n  var n;\n  var o;\n  if (w) {\n    if (!(a = i.refLock.get(w))) {\n      i.refLock.set(w, a = new Map);\n    }\n    n = i.links.optimistic.get(w);\n  } else {\n    a = i.refCount;\n    n = i.links.base;\n    o = i.gc;\n  }\n  var s = n && n.get(e);\n  var v = s && s[r];\n  updateDependencies(e, r);\n  updatePersist(e, r);\n  setNode(i.links, e, r, t);\n  updateRCForLink(o, a, v, -1);\n  updateRCForLink(o, a, t, 1);\n};\n\nvar reserveLayer = (e, r, t) => {\n  if (t) {\n    e.deferredKeys.add(r);\n  } else {\n    e.deferredKeys.delete(r);\n  }\n  var i = e.optimisticOrder.indexOf(r);\n  if (i > -1) {\n    if (!e.commutativeKeys.has(r) && !t) {\n      e.optimisticOrder.splice(i, 1);\n      clearLayer(e, r);\n    } else {\n      return;\n    }\n  }\n  for (i = 0; t && i < e.optimisticOrder.length && !e.deferredKeys.has(e.optimisticOrder[i]) && (!e.refLock.has(e.optimisticOrder[i]) || !e.commutativeKeys.has(e.optimisticOrder[i])); i++) {}\n  e.optimisticOrder.splice(i, 0, r);\n  e.commutativeKeys.add(r);\n};\n\nvar createLayer = (e, r) => {\n  if (-1 === e.optimisticOrder.indexOf(r)) {\n    e.optimisticOrder.unshift(r);\n  }\n  if (!e.refLock.has(r)) {\n    e.refLock.set(r, new Map);\n    e.links.optimistic.set(r, new Map);\n    e.records.optimistic.set(r, new Map);\n  }\n};\n\nvar clearLayer = (e, r) => {\n  if (e.refLock.has(r)) {\n    e.refLock.delete(r);\n    e.records.optimistic.delete(r);\n    e.links.optimistic.delete(r);\n    e.deferredKeys.delete(r);\n  }\n};\n\nvar deleteLayer = (e, r) => {\n  var t = e.optimisticOrder.indexOf(r);\n  if (t > -1) {\n    e.optimisticOrder.splice(t, 1);\n    e.commutativeKeys.delete(r);\n  }\n  clearLayer(e, r);\n};\n\nvar squashLayer = e => {\n  var r = O;\n  O = new Set;\n  var t = E.links.optimistic.get(e);\n  if (t) {\n    for (var i of t.entries()) {\n      var a = i[0];\n      var n = i[1];\n      for (var o in n) {\n        writeLink(a, o, n[o]);\n      }\n    }\n  }\n  var s = E.records.optimistic.get(e);\n  if (s) {\n    for (var v of s.entries()) {\n      var l = v[0];\n      var u = v[1];\n      for (var d in u) {\n        writeRecord(l, d, u[d]);\n      }\n    }\n  }\n  O = r;\n  deleteLayer(E, e);\n};\n\nvar inspectFields = e => {\n  var {links: r, records: t} = E;\n  var i = [];\n  var a = new Set;\n  updateDependencies(e);\n  extractNodeMapFields(i, a, e, r);\n  extractNodeMapFields(i, a, e, t);\n  return i;\n};\n\nvar persistData = () => {\n  if (E.storage) {\n    b = !0;\n    k = \"read\";\n    var r = makeDict();\n    for (var t of E.persist.keys()) {\n      var {entityKey: i, fieldKey: a} = deserializeKeyInfo(t);\n      var n = void 0;\n      if (void 0 !== (n = readLink(i, a))) {\n        r[t] = `:${(0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.stringifyVariables)(n)}`;\n      } else if (void 0 !== (n = readRecord(i, a))) {\n        r[t] = (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.stringifyVariables)(n);\n      } else {\n        r[t] = void 0;\n      }\n    }\n    b = !1;\n    E.storage.writeData(r);\n    E.persist.clear();\n  }\n};\n\nvar D = {\n  current: null\n};\n\nvar q = {\n  current: !1\n};\n\nvar getFieldError = e => e.__internal.path.length > 0 && e.__internal.errorMap ? e.__internal.errorMap[e.__internal.path.join(\".\")] : void 0;\n\nvar makeContext = (e, r, t, i, a, n, o) => {\n  var s = {\n    store: e,\n    variables: r,\n    fragments: t,\n    parent: {\n      __typename: i\n    },\n    parentTypeName: i,\n    parentKey: a,\n    parentFieldKey: \"\",\n    fieldName: \"\",\n    error: void 0,\n    partial: !1,\n    optimistic: !!n,\n    __internal: {\n      path: [],\n      errorMap: void 0\n    }\n  };\n  if (o && o.graphQLErrors) {\n    for (var v = 0; v < o.graphQLErrors.length; v++) {\n      var l = o.graphQLErrors[v];\n      if (l.path && l.path.length) {\n        if (!s.__internal.errorMap) {\n          s.__internal.errorMap = Object.create(null);\n        }\n        s.__internal.errorMap[l.path.join(\".\")] = l;\n      }\n    }\n  }\n  return s;\n};\n\nvar updateContext = (e, r, t, i, a, n) => {\n  D.current = e;\n  e.parent = r;\n  e.parentTypeName = t;\n  e.parentKey = i;\n  e.parentFieldKey = a;\n  e.fieldName = n;\n  e.error = getFieldError(e);\n};\n\nvar isFragmentHeuristicallyMatching = (e, r, t, i) => {\n  if (!r) {\n    return !1;\n  }\n  var a = getTypeCondition(e);\n  if (!a || r === a) {\n    return !0;\n  }\n   true && warn(\"Heuristic Fragment Matching: A fragment is trying to match against the `\" + r + \"` type, but the type condition is `\" + a + \"`. Since GraphQL allows for interfaces `\" + a + \"` may be aninterface.\\nA schema needs to be defined for this match to be deterministic, otherwise the fragment will be matched heuristically!\", 16);\n  return \"write\" === k || !getSelectionSet(e).some((e => {\n    if (!isFieldNode(e)) {\n      return !1;\n    }\n    var r = keyOfField(getName(e), getFieldArguments(e, i));\n    return !((e, r) => void 0 !== readRecord(e, r) || void 0 !== readLink(e, r))(t, r);\n  }));\n};\n\nvar makeSelectionIterator = (e, r, t, i) => {\n  var a = !1;\n  var n;\n  var o = 0;\n  return function next() {\n    if (!q.current && a) {\n      q.current = a;\n    }\n    if (n) {\n      var s = n();\n      if (null != s) {\n        return s;\n      }\n      n = void 0;\n      a = !1;\n      if (true) {\n        popDebugNode();\n      }\n    }\n    while (o < t.length) {\n      var v = t[o++];\n      if (!shouldInclude(v, i.variables)) {\n        continue;\n      } else if (!isFieldNode(v)) {\n        var l = !isInlineFragment(v) ? i.fragments[getName(v)] : v;\n        if (void 0 !== l) {\n          if (i.store.schema ? isInterfaceOfType(i.store.schema, l, e) : isFragmentHeuristicallyMatching(l, e, r, i.variables)) {\n            if (true) {\n              pushDebugNode(e, l);\n            }\n            a = !!isDeferred(v, i.variables);\n            if (!q.current && a) {\n              q.current = a;\n            }\n            return (n = makeSelectionIterator(e, r, getSelectionSet(l), i))();\n          }\n        }\n      } else {\n        return v;\n      }\n    }\n  };\n};\n\nvar ensureData = e => null == e ? null : e;\n\nvar ensureLink = (e, r) => {\n  if (null == r) {\n    return r;\n  } else if (Array.isArray(r)) {\n    var t = new Array(r.length);\n    for (var i = 0, a = t.length; i < a; i++) {\n      t[i] = ensureLink(e, r[i]);\n    }\n    return t;\n  }\n  var n = e.keyOfEntity(r);\n  if (true) {\n    if (!n && r && \"object\" == typeof r) {\n      warn(\"Can't generate a key for link(...) item.\\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `\" + r.__typename + \"`.\", 12);\n    }\n  }\n  return n;\n};\n\nvar write = (e, r, t, i, a) => {\n  initDataState(\"write\", e.data, a || null);\n  var n = startWrite(e, r, t, i);\n  clearDataState();\n  return n;\n};\n\nvar startWrite = (e, r, t, i, a) => {\n  var n = getMainOperation(r.query);\n  var o = {\n    data: t,\n    dependencies: getCurrentDependencies()\n  };\n  var s = e.rootFields[n.operation];\n  var v = makeContext(e, normalizeVariables(n, r.variables), getFragments(r.query), s, s, !!a, i);\n  if (true) {\n    pushDebugNode(s, n);\n  }\n  writeSelection(v, s, getSelectionSet(n), t);\n  if (true) {\n    popDebugNode();\n  }\n  return o;\n};\n\nvar writeSelection = (e, r, t, i) => {\n  var a = r === e.store.rootFields.query;\n  var n = !a && !!e.store.rootNames[r];\n  var o = n || a ? r : i.__typename;\n  if (!o) {\n     true && warn(\"Couldn't find __typename when writing.\\nIf you're writing to the cache manually have to pass a `__typename` property on each entity in your data.\", 14);\n    return;\n  } else if (!n && !a && r) {\n    writeRecord(r, \"__typename\", o);\n  }\n  var s = makeSelectionIterator(o, r || o, t, e);\n  var v;\n  while (v = s()) {\n    var l = getName(v);\n    var u = getFieldArguments(v, e.variables);\n    var d = keyOfField(l, u);\n    var p = getFieldAlias(v);\n    var c = i[e.optimistic ? l : p];\n    if (true) {\n      if (!n && void 0 === c && !q.current && !e.optimistic) {\n         true && warn(\"Invalid undefined: The field at `\" + d + \"` is `undefined`, but the GraphQL query expects a \" + (void 0 === v.selectionSet ? \"scalar (number, boolean, etc)\" : \"selection set\") + \" for this field.\", 13);\n        continue;\n      } else if (e.store.schema && o && \"__typename\" !== l) {\n        isFieldAvailableOnType(e.store.schema, o, l);\n      }\n    }\n    if (\"__typename\" === l || void 0 === c && (q.current || e.optimistic && !n)) {\n      continue;\n    }\n    e.__internal.path.push(p);\n    var f = void 0;\n    if (e.optimistic && n) {\n      if (!(f = e.store.optimisticMutations[l])) {\n        continue;\n      }\n    } else if (e.optimistic && \"function\" == typeof c) {\n      f = c;\n    }\n    if (f) {\n      updateContext(e, i, o, o, d, l);\n      c = ensureData(f(u || {}, e.store, e));\n    }\n    if (v.selectionSet) {\n      if (r && !n) {\n        var y = joinKeys(r, d);\n        var h = writeField(e, getSelectionSet(v), ensureData(c), y);\n        writeLink(r || o, d, h);\n      } else {\n        writeField(e, getSelectionSet(v), ensureData(c));\n      }\n    } else if (r && !n) {\n      writeRecord(r || o, d, null !== c || !getFieldError(e) ? c : void 0);\n    }\n    if (n) {\n      var m = e.store.updates[o][l];\n      if (m) {\n        updateContext(e, i, o, o, joinKeys(o, d), l);\n        i[l] = c;\n        m(i, u || {}, e.store, e);\n      }\n    }\n    e.__internal.path.pop();\n  }\n};\n\nvar V = /^__|PageInfo|(Connection|Edge)$/;\n\nvar writeField = (e, r, t, i) => {\n  if (Array.isArray(t)) {\n    var a = new Array(t.length);\n    for (var n = 0, o = t.length; n < o; n++) {\n      e.__internal.path.push(n);\n      var s = i ? joinKeys(i, `${n}`) : void 0;\n      var v = writeField(e, r, t[n], s);\n      a[n] = v;\n      e.__internal.path.pop();\n    }\n    return a;\n  } else if (null === t) {\n    return getFieldError(e) ? void 0 : null;\n  }\n  var l = e.store.keyOfEntity(t);\n  var u = t.__typename;\n  if (true) {\n    if (i && !e.store.keys[t.__typename] && null === l && \"string\" == typeof u && !V.test(u)) {\n      warn(\"Invalid key: The GraphQL query at the field at `\" + i + \"` has a selection set, but no key could be generated for the data at this field.\\nYou have to request `id` or `_id` fields for all selection sets or create a custom `keys` config for `\" + u + \"`.\\nEntities without keys will be embedded directly on the parent entity. If this is intentional, create a `keys` config for `\" + u + \"` that always returns null.\", 15);\n    }\n  }\n  var d = l || i;\n  writeSelection(e, d, r, t);\n  return d || null;\n};\n\nclass Store {\n  constructor(e) {\n    Store.prototype.__init.call(this);\n    Store.prototype.__init2.call(this);\n    if (!e) {\n      e = {};\n    }\n    this.resolvers = e.resolvers || {};\n    this.optimisticMutations = e.optimistic || {};\n    this.keys = e.keys || {};\n    var r = \"Query\";\n    var t = \"Mutation\";\n    var i = \"Subscription\";\n    if (e.schema) {\n      var a = (({__schema: e}) => {\n        var r = new Map;\n        var buildNameMap = e => {\n          var r;\n          return () => {\n            if (!r) {\n              r = {};\n              for (var t = 0; t < e.length; t++) {\n                r[e[t].name] = e[t];\n              }\n            }\n            return r;\n          };\n        };\n        var buildType = e => {\n          switch (e.kind) {\n           case \"OBJECT\":\n           case \"INTERFACE\":\n            return {\n              name: e.name,\n              kind: e.kind,\n              interfaces: buildNameMap(e.interfaces || []),\n              fields: buildNameMap(e.fields.map((e => ({\n                name: e.name,\n                type: e.type,\n                args: buildNameMap(e.args)\n              }))))\n            };\n\n           case \"UNION\":\n            return {\n              name: e.name,\n              kind: e.kind,\n              types: buildNameMap(e.possibleTypes || [])\n            };\n          }\n        };\n        var t = {\n          query: e.queryType ? e.queryType.name : null,\n          mutation: e.mutationType ? e.mutationType.name : null,\n          subscription: e.subscriptionType ? e.subscriptionType.name : null,\n          types: void 0,\n          isSubType(e, t) {\n            var i = r.get(e);\n            var a = r.get(t);\n            if (!i || !a) {\n              return !1;\n            } else if (\"UNION\" === i.kind) {\n              return !!i.types()[t];\n            } else if (\"OBJECT\" !== i.kind && \"OBJECT\" === a.kind) {\n              return !!a.interfaces()[e];\n            } else {\n              return e === t;\n            }\n          }\n        };\n        if (e.types) {\n          t.types = r;\n          for (var i = 0; i < e.types.length; i++) {\n            var a = e.types[i];\n            if (a && a.name) {\n              var n = buildType(a);\n              if (n) {\n                r.set(a.name, n);\n              }\n            }\n          }\n        }\n        return t;\n      })(e.schema);\n      r = a.query || r;\n      t = a.mutation || t;\n      i = a.subscription || i;\n      if (a.types) {\n        this.schema = a;\n      }\n    }\n    this.updates = {\n      [t]: e.updates && e.updates.Mutation || {},\n      [i]: e.updates && e.updates.Subscription || {}\n    };\n    this.rootFields = {\n      query: r,\n      mutation: t,\n      subscription: i\n    };\n    this.rootNames = {\n      [r]: \"query\",\n      [t]: \"mutation\",\n      [i]: \"subscription\"\n    };\n    this.data = (n = r, {\n      defer: !1,\n      gc: new Set,\n      persist: new Set,\n      queryRootKey: n,\n      refCount: new Map,\n      refLock: new Map,\n      links: {\n        optimistic: new Map,\n        base: new Map\n      },\n      records: {\n        optimistic: new Map,\n        base: new Map\n      },\n      deferredKeys: new Set,\n      commutativeKeys: new Set,\n      optimisticOrder: [],\n      storage: null\n    });\n    var n;\n    if (this.schema && \"production\" !== \"development\") {\n      !function expectValidKeyingConfig(e, r) {\n        if (true) {\n          for (var t in r) {\n            if (true) {\n              if (!e.types.has(t)) {\n                warn(\"Invalid Object type: The type `\" + t + \"` is not an object in the defined schema, but the `keys` option is referencing it.\", 20);\n              }\n            }\n          }\n        }\n      }(this.schema, this.keys);\n      !function expectValidUpdatesConfig(e, r) {\n        if (false) {}\n        if (e.mutation) {\n          var t = e.types.get(e.mutation).fields();\n          var i = r[e.mutation] || {};\n          for (var a in i) {\n            if (true) {\n              if (void 0 === t[a]) {\n                warn(\"Invalid mutation field: `\" + a + \"` is not in the defined schema, but the `updates.Mutation` option is referencing it.\", 21);\n              }\n            }\n          }\n        }\n        if (e.subscription) {\n          var n = e.types.get(e.subscription).fields();\n          var o = r[e.subscription] || {};\n          for (var s in o) {\n            if (true) {\n              if (void 0 === n[s]) {\n                warn(\"Invalid subscription field: `\" + s + \"` is not in the defined schema, but the `updates.Subscription` option is referencing it.\", 22);\n              }\n            }\n          }\n        }\n      }(this.schema, this.updates);\n      !function expectValidResolversConfig(e, r) {\n        if (false) {}\n        for (var t in r) {\n          if (\"Query\" === t) {\n            if (e.query) {\n              var i = e.types.get(e.query).fields();\n              for (var a in r.Query) {\n                if (!i[a]) {\n                  warnAboutResolver(\"Query.\" + a);\n                }\n              }\n            } else {\n              warnAboutResolver(\"Query\");\n            }\n          } else if (!e.types.has(t)) {\n            warnAboutResolver(t);\n          } else if (\"INTERFACE\" === e.types.get(t).kind || \"UNION\" === e.types.get(t).kind) {\n            s = t, v = e.types.get(t).kind,  true && warn(`Invalid resolver: \\`${s}\\` does not match to a concrete type in the schema, but the \\`resolvers\\` option is referencing it. Implement the resolver for the types that ${\"UNION\" === v ? \"make up the union\" : \"implement the interface\"} instead.`, 26);\n          } else {\n            var n = e.types.get(t).fields();\n            for (var o in r[t]) {\n              if (!n[o]) {\n                warnAboutResolver(t + \".\" + o);\n              }\n            }\n          }\n        }\n        var s, v;\n      }(this.schema, this.resolvers);\n      !function expectValidOptimisticMutationsConfig(e, r) {\n        if (false) {}\n        if (e.mutation) {\n          var t = e.types.get(e.mutation).fields();\n          for (var i in r) {\n            if (true) {\n              if (!t[i]) {\n                warn(`Invalid optimistic mutation field: \\`${i}\\` is not a mutation field in the defined schema, but the \\`optimistic\\` option is referencing it.`, 24);\n              }\n            }\n          }\n        }\n      }(this.schema, this.optimisticMutations);\n    }\n  }\n  __init() {\n    this.keyOfField = keyOfField;\n  }\n  keyOfEntity(e) {\n    if (D.current && e === D.current.parent) {\n      return D.current.parentKey;\n    }\n    if (null == e || \"string\" == typeof e) {\n      return e || null;\n    }\n    if (!e.__typename) {\n      return null;\n    }\n    if (this.rootNames[e.__typename]) {\n      return e.__typename;\n    }\n    var r;\n    if (this.keys[e.__typename]) {\n      r = this.keys[e.__typename](e);\n    } else if (null != e.id) {\n      r = `${e.id}`;\n    } else if (null != e._id) {\n      r = `${e._id}`;\n    }\n    return r ? `${e.__typename}:${r}` : null;\n  }\n  resolve(e, r, t) {\n    var i = keyOfField(r, t);\n    var a = this.keyOfEntity(e);\n    if (!a) {\n      return null;\n    }\n    var n = readRecord(a, i);\n    if (void 0 !== n) {\n      return n;\n    }\n    return readLink(a, i) || null;\n  }\n  __init2() {\n    this.resolveFieldByKey = this.resolve;\n  }\n  invalidate(e, r, t) {\n    var i = this.keyOfEntity(e);\n    invariant(i,  true ? \"Can't generate a key for invalidate(...).\\nYou have to pass an id or _id field or create a custom `keys` field for `\" + typeof e == \"object\" ? e.__typename : e + \"`.\" : 0, 19);\n    ((e, r, t) => {\n      var i = r ? [ {\n        fieldKey: keyOfField(r, t)\n      } ] : inspectFields(e);\n      for (var a = 0, n = i.length; a < n; a++) {\n        var {fieldKey: o} = i[a];\n        if (void 0 !== readLink(e, o)) {\n          writeLink(e, o, void 0);\n        } else {\n          writeRecord(e, o, void 0);\n        }\n      }\n    })(i, r, t);\n  }\n  inspectFields(e) {\n    var r = this.keyOfEntity(e);\n    return r ? inspectFields(r) : [];\n  }\n  updateQuery(e, i) {\n    var a = (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.createRequest)(e.query, e.variables);\n    a.query = (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.formatDocument)(a.query);\n    var n = i(this.readQuery(a));\n    if (null !== n) {\n      startWrite(this, a, n);\n    }\n  }\n  readQuery(e) {\n    var i = (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.createRequest)(e.query, e.variables);\n    i.query = (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.formatDocument)(i.query);\n    return read(this, i).data;\n  }\n  readFragment(e, r, i, a) {\n    return readFragment(this, (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.formatDocument)(e), r, i, a);\n  }\n  writeFragment(e, r, i, a) {\n    ((e, r, t, i, a) => {\n      var n = getFragments(r);\n      var o;\n      if (a) {\n        if (!(o = n[a])) {\n           true && warn(\"writeFragment(...) was called with a fragment name that does not exist.\\nYou provided \" + a + \" but could only find \" + Object.keys(n).join(\", \") + \".\", 11);\n          return null;\n        }\n      } else if (!(o = n[Object.keys(n)[0]])) {\n         true && warn(\"writeFragment(...) was called with an empty fragment.\\nYou have to call it with at least one fragment in your GraphQL document.\", 11);\n        return null;\n      }\n      var s = getFragmentTypeName(o);\n      var v = {\n        __typename: s,\n        ...t\n      };\n      var l = e.keyOfEntity(v);\n      if (!l) {\n        return  true ? warn(\"Can't generate a key for writeFragment(...) data.\\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `\" + s + \"`.\", 12) : 0;\n      }\n      if (true) {\n        pushDebugNode(s, o);\n      }\n      var u = makeContext(e, i || {}, n, s, l, void 0);\n      writeSelection(u, l, getSelectionSet(o), v);\n      if (true) {\n        popDebugNode();\n      }\n    })(this, (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.formatDocument)(e), r, i, a);\n  }\n  link(e, r, t, i) {\n    var a = void 0 !== i ? t : null;\n    var n = void 0 !== i ? i : t;\n    var o = ensureLink(this, e);\n    if (\"string\" == typeof o) {\n      writeLink(o, keyOfField(r, a), ensureLink(this, n));\n    }\n  }\n}\n\nvar query = (e, r, t, i, a) => {\n  initDataState(\"read\", e.data, a);\n  var n = read(e, r, t, i);\n  clearDataState();\n  return n;\n};\n\nvar read = (e, r, t, i) => {\n  var a = getMainOperation(r.query);\n  var n = e.rootFields[a.operation];\n  var o = getSelectionSet(a);\n  var s = makeContext(e, normalizeVariables(a, r.variables), getFragments(r.query), n, n, !1, i);\n  if (true) {\n    pushDebugNode(n, a);\n  }\n  if (!t) {\n    t = makeData();\n  }\n  var v = n !== s.store.rootFields.query ? readRoot(s, n, o, t) : readSelection(s, n, o, t);\n  if (true) {\n    popDebugNode();\n  }\n  return {\n    dependencies: getCurrentDependencies(),\n    partial: s.partial || !v,\n    data: v || null\n  };\n};\n\nvar readRoot = (e, r, t, i) => {\n  if (\"string\" != typeof (e.store.rootNames[r] ? r : i.__typename)) {\n    return i;\n  }\n  var a = makeSelectionIterator(r, r, t, e);\n  var n;\n  var o = !1;\n  var s = makeData(i);\n  while (n = a()) {\n    var v = getFieldAlias(n);\n    var l = i[v];\n    e.__internal.path.push(v);\n    var u = void 0;\n    if (n.selectionSet && null !== l) {\n      u = readRootField(e, getSelectionSet(n), ensureData(l));\n    } else {\n      u = l;\n    }\n    o = o || u !== l;\n    if (void 0 !== u) {\n      s[v] = u;\n    }\n    e.__internal.path.pop();\n  }\n  return o ? s : i;\n};\n\nvar readRootField = (e, r, t) => {\n  if (Array.isArray(t)) {\n    var i = new Array(t.length);\n    var a = !1;\n    for (var n = 0, o = t.length; n < o; n++) {\n      e.__internal.path.push(n);\n      i[n] = readRootField(e, r, t[n]);\n      a = a || i[n] !== t[n];\n      e.__internal.path.pop();\n    }\n    return a ? i : t;\n  } else if (null === t) {\n    return null;\n  }\n  var s = e.store.keyOfEntity(t);\n  if (null !== s) {\n    return readSelection(e, s, r, t) || null;\n  } else {\n    return readRoot(e, t.__typename, r, t);\n  }\n};\n\nvar readFragment = (e, r, t, i, a) => {\n  var n = getFragments(r);\n  var o;\n  if (a) {\n    if (!(o = n[a])) {\n       true && warn(\"readFragment(...) was called with a fragment name that does not exist.\\nYou provided \" + a + \" but could only find \" + Object.keys(n).join(\", \") + \".\", 6);\n      return null;\n    }\n  } else {\n    if (!(o = n[Object.keys(n)[0]])) {\n       true && warn(\"readFragment(...) was called with an empty fragment.\\nYou have to call it with at least one fragment in your GraphQL document.\", 6);\n      return null;\n    }\n  }\n  var s = getFragmentTypeName(o);\n  if (\"string\" != typeof t && !t.__typename) {\n    t.__typename = s;\n  }\n  var v = e.keyOfEntity(t);\n  if (!v) {\n     true && warn(\"Can't generate a key for readFragment(...).\\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `\" + s + \"`.\", 7);\n    return null;\n  }\n  if (true) {\n    pushDebugNode(s, o);\n  }\n  var l = makeContext(e, i || {}, n, s, v);\n  var u = readSelection(l, v, getSelectionSet(o), makeData()) || null;\n  if (true) {\n    popDebugNode();\n  }\n  return u;\n};\n\nvar readSelection = (e, r, t, i, a) => {\n  var {store: n} = e;\n  var o = r === n.rootFields.query;\n  var s = a && n.keyOfEntity(a) || r;\n  if (true) {\n    if (!o && e.store.rootNames[s]) {\n      warn(\"Invalid root traversal: A selection was being read on `\" + s + \"` which is an uncached root type.\\nThe `\" + e.store.rootFields.mutation + \"` and `\" + e.store.rootFields.subscription + \"` types are special Operation Root Types and cannot be read back from the cache.\", 25);\n    }\n  }\n  var v = !o ? readRecord(s, \"__typename\") || a && a.__typename : r;\n  if (\"string\" != typeof v) {\n    return;\n  } else if (a && v !== a.__typename) {\n     true && warn(\"Invalid resolver data: The resolver at `\" + s + \"` returned an invalid typename that could not be reconciled with the cache.\", 8);\n    return;\n  }\n  var l = makeSelectionIterator(v, s, t, e);\n  var u = !1;\n  var d = !1;\n  var p = v !== i.__typename;\n  var c;\n  var f = makeData(i);\n  while (void 0 !== (c = l())) {\n    var y = getName(c);\n    var h = getFieldArguments(c, e.variables);\n    var m = getFieldAlias(c);\n    var g = keyOfField(y, h);\n    var _ = joinKeys(s, g);\n    var N = readRecord(s, g);\n    var k = a ? a[y] : void 0;\n    var E = n.resolvers[v];\n    if ( true && n.schema && v) {\n      isFieldAvailableOnType(n.schema, v, y);\n    }\n    e.__internal.path.push(m);\n    var O = void 0;\n    if (\"__typename\" === y) {\n      O = v;\n    } else if (void 0 !== k && void 0 === c.selectionSet) {\n      O = k;\n    } else if (\"read\" === getCurrentOperation() && E && \"function\" == typeof E[y]) {\n      updateContext(e, f, v, s, _, y);\n      if (void 0 !== N) {\n        f[m] = N;\n      }\n      O = E[y](f, h || {}, n, e);\n      if (c.selectionSet) {\n        O = resolveResolverResult(e, v, y, _, getSelectionSet(c), void 0 !== f[m] ? f[m] : i[m], O, ownsData(i));\n      }\n      if (n.schema && null === O && !isFieldNullable(n.schema, v, y)) {\n        return;\n      }\n    } else if (!c.selectionSet) {\n      O = N;\n    } else if (void 0 !== k) {\n      O = resolveResolverResult(e, v, y, _, getSelectionSet(c), void 0 !== f[m] ? f[m] : i[m], k, ownsData(i));\n    } else {\n      var w = readLink(s, g);\n      if (void 0 !== w) {\n        O = resolveLink(e, w, v, y, getSelectionSet(c), void 0 !== f[m] ? f[m] : i[m], ownsData(i));\n      } else if (\"object\" == typeof N && null !== N) {\n        O = N;\n      }\n    }\n    if (void 0 === O && q.current) {\n      u = !0;\n    } else if (void 0 === O && (n.schema && isFieldNullable(n.schema, v, y) || getFieldError(e))) {\n      d = !0;\n      O = null;\n    } else if (void 0 === O) {\n      e.__internal.path.pop();\n      return;\n    } else {\n      u = u || \"__typename\" !== y;\n    }\n    e.__internal.path.pop();\n    p = p || O !== i[m];\n    if (void 0 !== O) {\n      f[m] = O;\n    }\n  }\n  e.partial = e.partial || d;\n  return o && d && !u ? void 0 : p ? f : i;\n};\n\nvar resolveResolverResult = (e, r, t, i, a, n, o, s) => {\n  if (Array.isArray(o)) {\n    var {store: v} = e;\n    var l = v.schema ? isListNullable(v.schema, r, t) : !1;\n    var u = new Array(o.length);\n    var d = !Array.isArray(n) || o.length !== n.length;\n    for (var p = 0, c = o.length; p < c; p++) {\n      e.__internal.path.push(p);\n      var f = resolveResolverResult(e, r, t, joinKeys(i, `${p}`), a, null != n ? n[p] : void 0, o[p], s);\n      e.__internal.path.pop();\n      if (void 0 === f && !l) {\n        return;\n      } else {\n        e.partial = e.partial || void 0 === f && l;\n        u[p] = null != f ? f : null;\n        d = d || u[p] !== n[p];\n      }\n    }\n    return d ? u : n;\n  } else if (null == o) {\n    return o;\n  } else if (s && null === n) {\n    return null;\n  } else if (isDataOrKey(o)) {\n    var y = n || makeData();\n    return \"string\" == typeof o ? readSelection(e, o, a, y) : readSelection(e, i, a, y, o);\n  } else {\n     true && warn(\"Invalid resolver value: The field at `\" + i + \"` is a scalar (number, boolean, etc), but the GraphQL query expects a selection set for this field.\", 9);\n    return;\n  }\n};\n\nvar resolveLink = (e, r, t, i, a, n, o) => {\n  if (Array.isArray(r)) {\n    var {store: s} = e;\n    var v = s.schema ? isListNullable(s.schema, t, i) : !1;\n    var l = new Array(r.length);\n    var u = !Array.isArray(n) || l.length !== n.length;\n    for (var d = 0, p = r.length; d < p; d++) {\n      e.__internal.path.push(d);\n      var c = resolveLink(e, r[d], t, i, a, null != n ? n[d] : void 0, o);\n      e.__internal.path.pop();\n      if (void 0 === c && !v) {\n        return;\n      } else {\n        e.partial = e.partial || void 0 === c && v;\n        l[d] = c || null;\n        u = u || l[d] !== n[d];\n      }\n    }\n    return u ? l : n;\n  } else if (null === r || null === n && o) {\n    return null;\n  }\n  return readSelection(e, r, a, n || makeData());\n};\n\nvar isDataOrKey = e => \"string\" == typeof e || \"object\" == typeof e && \"string\" == typeof e.__typename;\n\nvar addCacheOutcome = (e, r) => (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.makeOperation)(e.kind, e, {\n  ...e.context,\n  meta: {\n    ...e.context.meta,\n    cacheOutcome: r\n  }\n});\n\nvar toRequestPolicy = (e, r) => (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.makeOperation)(e.kind, e, {\n  ...e.context,\n  requestPolicy: r\n});\n\nvar cacheExchange = e => ({forward: r, client: d, dispatchDebug: p}) => {\n  var c = new Store(e);\n  if (e && e.storage) {\n    e.storage.readData().then((r => {\n      ((e, r, t) => {\n        initDataState(\"write\", e, null);\n        for (var i in t) {\n          var a = t[i];\n          if (void 0 !== a) {\n            var {entityKey: n, fieldKey: o} = deserializeKeyInfo(i);\n            if (\":\" === a[0]) {\n              if (void 0 === readLink(n, o)) {\n                writeLink(n, o, JSON.parse(a.slice(1)));\n              }\n            } else if (void 0 === readRecord(n, o)) {\n              writeRecord(n, o, JSON.parse(a));\n            }\n          }\n        }\n        clearDataState();\n        e.storage = r;\n      })(c.data, e.storage, r);\n    }));\n  }\n  var f = new Map;\n  var y = [];\n  var h = new Map;\n  var m = new Map;\n  var g = new Set;\n  var _ = new Set;\n  var N = new Map;\n  var k = new Set;\n  var E = new Set;\n  var isBlockedByOptimisticUpdate = e => {\n    for (var r of e.values()) {\n      if (g.has(r)) {\n        return !0;\n      }\n    }\n    return !1;\n  };\n  var collectPendingOperations = (e, r) => {\n    if (r) {\n      for (var t of r.values()) {\n        var i = N.get(t);\n        if (i) {\n          for (var a of i.values()) {\n            e.add(a);\n          }\n        }\n      }\n    }\n  };\n  var executePendingOperations = (e, r) => {\n    for (var t of r.values()) {\n      if (t !== e.key) {\n        var i = h.get(t);\n        if (i) {\n          if (\"query\" === e.kind) {\n            E.add(t);\n          }\n          h.delete(t);\n          var a = \"cache-first\";\n          if (_.has(t)) {\n            _.delete(t);\n            a = \"cache-and-network\";\n          }\n          d.reexecuteOperation(toRequestPolicy(i, a));\n        }\n      }\n    }\n    var n = k;\n    if (\"query\" === e.kind) {\n      (k = E).add(e.key);\n    }\n    (E = n).clear();\n  };\n  var prepareForwardedOperation = e => {\n    if (\"query\" === e.kind) {\n      reserveLayer(c.data, e.key);\n    } else if (\"teardown\" === e.kind) {\n      h.delete(e.key);\n      m.delete(e.key);\n      noopDataState(c.data, e.key);\n    } else if (\"mutation\" === e.kind && \"network-only\" !== e.context.requestPolicy) {\n      var {dependencies: r} = ((e, r, t) => {\n        if (true) {\n          invariant(\"mutation\" === getMainOperation(r.query).operation,  true ? \"writeOptimistic(...) was called with an operation that is not a mutation.\\nThis case is unsupported and should never occur.\" : 0, 10);\n        }\n        initDataState(\"write\", e.data, t, !0);\n        var i = startWrite(e, r, {}, void 0, !0);\n        clearDataState();\n        return i;\n      })(c, e, e.key);\n      if (r.size) {\n        for (var a of r.values()) {\n          g.add(a);\n        }\n        f.set(e.key, r);\n        var n = new Set;\n        collectPendingOperations(n, r);\n        executePendingOperations(e, n);\n      }\n    }\n    return (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.makeOperation)(e.kind, {\n      key: e.key,\n      query: (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.formatDocument)(e.query),\n      variables: e.variables ? filterVariables(getMainOperation(e.query), e.variables) : e.variables\n    }, e.context);\n  };\n  var updateDependencies = (e, r) => {\n    for (var t of r.values()) {\n      var i = N.get(t);\n      if (!i) {\n        N.set(t, i = new Set);\n      }\n      i.add(e.key);\n    }\n  };\n  var operationResultFromCache = e => {\n    var r = query(c, e, m.get(e.key));\n    var t = r.data ? !r.partial ? \"hit\" : \"partial\" : \"miss\";\n    m.set(e.key, r.data);\n    h.set(e.key, e);\n    updateDependencies(e, r.dependencies);\n    return {\n      outcome: t,\n      operation: e,\n      data: r.data,\n      dependencies: r.dependencies\n    };\n  };\n  var updateCacheWithResult = (e, r) => {\n    var {error: t, extensions: a} = e;\n    var n = h.get(e.operation.key);\n    var o = n ? (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.makeOperation)(n.kind, n, e.operation.context) : e.operation;\n    if (\"mutation\" === o.kind) {\n      var s = f.get(o.key);\n      collectPendingOperations(r, s);\n      f.delete(o.key);\n    }\n    reserveLayer(c.data, o.key, \"subscription\" === o.kind || e.hasNext);\n    var v;\n    var l = e.data;\n    if (l) {\n      var u = write(c, o, l, e.error, o.key).dependencies;\n      collectPendingOperations(r, u);\n      var d = query(c, o, \"query\" === o.kind ? m.get(o.key) || l : l, e.error, o.key);\n      l = d.data;\n      if (\"query\" === o.kind) {\n        collectPendingOperations(r, v = d.dependencies);\n        m.set(o.key, l);\n      }\n    } else {\n      noopDataState(c.data, o.key);\n    }\n    if (v) {\n      h.set(o.key, o);\n      updateDependencies(e.operation, v);\n    }\n    return {\n      data: l,\n      error: t,\n      extensions: a,\n      operation: o\n    };\n  };\n  return e => {\n    var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(e);\n    var i = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(operationResultFromCache)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"query\" === e.kind && \"network-only\" !== e.context.requestPolicy))(t)));\n    var h = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"query\" !== e.kind || \"network-only\" === e.context.requestPolicy))(t);\n    var m = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n       true && p({\n        type: \"cacheMiss\",\n        message: \"The result could not be retrieved from the cache\",\n        operation: e.operation,\n        source: \"cacheExchange\"\n      });\n      return addCacheOutcome(e.operation, \"miss\");\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"miss\" === e.outcome && \"cache-only\" !== e.operation.context.requestPolicy && !isBlockedByOptimisticUpdate(e.dependencies) && !k.has(e.operation.key)))(i));\n    var N = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var {operation: r, outcome: t, dependencies: i} = e;\n      var a = {\n        operation: addCacheOutcome(r, t),\n        data: e.data,\n        error: e.error,\n        extensions: e.extensions\n      };\n      if (\"cache-and-network\" === r.context.requestPolicy || \"cache-first\" === r.context.requestPolicy && \"partial\" === t) {\n        a.stale = !0;\n        if (!isBlockedByOptimisticUpdate(i)) {\n          d.reexecuteOperation(toRequestPolicy(r, \"network-only\"));\n        } else if (\"cache-and-network\" === r.context.requestPolicy) {\n          _.add(r.key);\n        }\n      }\n       true && p({\n        type: \"cacheHit\",\n        message: \"A requested operation was found and returned from the cache.\",\n        operation: e.operation,\n        data: {\n          value: a\n        },\n        source: \"cacheExchange\"\n      });\n      return a;\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => \"miss\" !== e.outcome || \"cache-only\" === e.operation.context.requestPolicy))(i));\n    var E = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(r((0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)(prepareForwardedOperation)((0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ h, m ]))));\n    var O = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.map)((e => {\n      var r = new Set;\n      var t = updateCacheWithResult(e, r);\n      executePendingOperations(e.operation, r);\n      return t;\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => !f.has(e.operation.key)))(E));\n    var w = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.mergeMap)((e => {\n      if (y.push(e) < f.size) {\n        return wonka__WEBPACK_IMPORTED_MODULE_2__.empty;\n      }\n      for (var r = 0; r < y.length; r++) {\n        reserveLayer(c.data, y[r].operation.key);\n      }\n      g.clear();\n      var t = [];\n      var i = new Set;\n      var a;\n      while (a = y.shift()) {\n        t.push(updateCacheWithResult(a, i));\n      }\n      executePendingOperations(e.operation, i);\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.fromArray)(t);\n    }))((0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => f.has(e.operation.key)))(E));\n    return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ O, w, N ]);\n  };\n};\n\nvar isOfflineError = e => e && e.networkError && !e.response && (\"undefined\" != typeof navigator && !1 === navigator.onLine || /request failed|failed to fetch|network\\s?error/i.test(e.networkError.message));\n\nvar offlineExchange = e => t => {\n  var {storage: n} = e;\n  if (n && n.onOnline && n.readMetadata && n.writeMetadata) {\n    var {forward: v, client: l, dispatchDebug: u} = t;\n    var {source: p, next: c} = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.makeSubject)();\n    var y = e.optimistic || {};\n    var h = [];\n    var updateMetadata = () => {\n      var e = [];\n      for (var r = 0; r < h.length; r++) {\n        var t = h[r];\n        if (\"mutation\" === t.kind) {\n          e.push({\n            query: (0,graphql__WEBPACK_IMPORTED_MODULE_0__.print)(t.query),\n            variables: t.variables\n          });\n        }\n      }\n      n.writeMetadata(e);\n    };\n    var m = !1;\n    var flushQueue = () => {\n      if (!m) {\n        m = !0;\n        for (var e = 0; e < h.length; e++) {\n          var r = h[e];\n          if (\"mutation\" === r.kind) {\n            c((0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.makeOperation)(\"teardown\", r));\n          }\n        }\n        for (var t = 0; t < h.length; t++) {\n          l.reexecuteOperation(h[t]);\n        }\n        h.length = 0;\n        m = !1;\n        updateMetadata();\n      }\n    };\n    n.onOnline(flushQueue);\n    n.readMetadata().then((e => {\n      if (e) {\n        for (var t = 0; t < e.length; t++) {\n          h.push(l.createRequestOperation(\"mutation\", (0,_urql_core__WEBPACK_IMPORTED_MODULE_1__.createRequest)(e[t].query, e[t].variables)));\n        }\n        flushQueue();\n      }\n    }));\n    var g = cacheExchange({\n      ...e,\n      storage: {\n        ...n,\n        readData: () => n.readData().finally(flushQueue)\n      }\n    })({\n      client: l,\n      dispatchDebug: u,\n      forward: e => (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => {\n        if (\"mutation\" === e.operation.kind && isOfflineError(e.error) && ((e, r) => {\n          var t = r.variables || {};\n          var i = getFragments(r.query);\n          var a = [ ...getSelectionSet(getMainOperation(r.query)) ];\n          var n;\n          while (n = a.pop()) {\n            if (!shouldInclude(n, t)) {\n              continue;\n            } else if (!isFieldNode(n)) {\n              var o = !isInlineFragment(n) ? i[getName(n)] : n;\n              if (o) {\n                a.push(...getSelectionSet(o));\n              }\n            } else if (e[getName(n)]) {\n              return !0;\n            }\n          }\n          return !1;\n        })(y, e.operation)) {\n          h.push(e.operation);\n          updateMetadata();\n          return !1;\n        }\n        return !0;\n      }))(v(e))\n    });\n    return e => {\n      var r = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.share)(e);\n      var t = (0,wonka__WEBPACK_IMPORTED_MODULE_2__.merge)([ p, r ]);\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_2__.filter)((e => {\n        if (\"query\" === e.operation.kind && isOfflineError(e.error)) {\n          c(toRequestPolicy(e.operation, \"cache-only\"));\n          h.push(e.operation);\n          return !1;\n        }\n        return !0;\n      }))(g(t));\n    };\n  }\n  return cacheExchange(e)(t);\n};\n\n\n//# sourceMappingURL=urql-exchange-graphcache.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHVycWwvZXhjaGFuZ2UtZ3JhcGhjYWNoZS9kaXN0L3VycWwtZXhjaGFuZ2UtZ3JhcGhjYWNoZS5tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBa0g7O0FBRWlCOztBQUV6RDs7QUFFMUU7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsa0NBQWtDLCtDQUFPOztBQUV6Qyx1Q0FBdUMseURBQWlCOztBQUV4RDtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBLGNBQWMsNERBQUM7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE9BQU87QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsT0FBTztBQUM3RDtBQUNBO0FBQ0EsaURBQWlELDREQUFDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFpQjtBQUNsQyxtQ0FBbUMsRUFBRTtBQUNyQyxJQUFJLG9CQUFvQiw4REFBc0I7QUFDOUMsV0FBVyxhQUFhLGFBQWEsZ0JBQWdCLEVBQUUsWUFBWTtBQUNuRSxJQUFJLG9CQUFvQiw2REFBcUI7QUFDN0MsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDLGtDQUFrQyw4REFBc0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLEtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFDO0FBQ2QsS0FBSyxHQUFHLDZDQUFDO0FBQ1QsV0FBVyw0Q0FBQztBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxPQUFPLFlBQVk7QUFDbkI7QUFDQSxTQUFTLHlDQUF5QztBQUNsRCxTQUFTLG9CQUFvQixFQUFFLGtEQUFDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhDQUFDO0FBQ3BCO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0EsY0FBYyx5REFBQztBQUNmO0FBQ0E7QUFDQSx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixjQUFjO0FBQ3RDLHNEQUFzRCx5REFBQztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQkFBb0IsNkNBQUM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLGNBQWMsNENBQUM7QUFDZixjQUFjLDRDQUFDO0FBQ2YsYUFBYSw2Q0FBQztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFK0Q7QUFDL0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B1cnFsL2V4Y2hhbmdlLWdyYXBoY2FjaGUvZGlzdC91cnFsLWV4Y2hhbmdlLWdyYXBoY2FjaGUubWpzP2QzYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyaW5naWZ5VmFyaWFibGVzIGFzIGUsIGNyZWF0ZVJlcXVlc3QgYXMgciwgZm9ybWF0RG9jdW1lbnQgYXMgdCwgbWFrZU9wZXJhdGlvbiBhcyBpIH0gZnJvbSBcIkB1cnFsL2NvcmVcIjtcblxuaW1wb3J0IHsgc2hhcmUgYXMgYSwgbWFwIGFzIG4sIGZpbHRlciBhcyBvLCBtZXJnZSBhcyBzLCBtZXJnZU1hcCBhcyB2LCBlbXB0eSBhcyBsLCBmcm9tQXJyYXkgYXMgdSwgbWFrZVN1YmplY3QgYXMgZCB9IGZyb20gXCJ3b25rYVwiO1xuXG5pbXBvcnQgeyBLaW5kIGFzIHAsIHZhbHVlRnJvbUFTVFVudHlwZWQgYXMgYywgcHJpbnQgYXMgZiB9IGZyb20gXCJncmFwaHFsXCI7XG5cbnZhciBnZXROYW1lID0gZSA9PiBlLm5hbWUudmFsdWU7XG5cbnZhciBnZXRGcmFnbWVudFR5cGVOYW1lID0gZSA9PiBlLnR5cGVDb25kaXRpb24ubmFtZS52YWx1ZTtcblxudmFyIGdldEZpZWxkQWxpYXMgPSBlID0+IGUuYWxpYXMgPyBlLmFsaWFzLnZhbHVlIDogZS5uYW1lLnZhbHVlO1xuXG52YXIgeSA9IFtdO1xuXG52YXIgZ2V0U2VsZWN0aW9uU2V0ID0gZSA9PiBlLnNlbGVjdGlvblNldCA/IGUuc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnMgOiB5O1xuXG52YXIgZ2V0VHlwZUNvbmRpdGlvbiA9IGUgPT4gZS50eXBlQ29uZGl0aW9uID8gZS50eXBlQ29uZGl0aW9uLm5hbWUudmFsdWUgOiBudWxsO1xuXG52YXIgaXNGaWVsZE5vZGUgPSBlID0+IGUua2luZCA9PT0gcC5GSUVMRDtcblxudmFyIGlzSW5saW5lRnJhZ21lbnQgPSBlID0+IGUua2luZCA9PT0gcC5JTkxJTkVfRlJBR01FTlQ7XG5cbnZhciBnZXRGaWVsZEFyZ3VtZW50cyA9IChlLCByKSA9PiB7XG4gIHZhciB0ID0gbnVsbDtcbiAgaWYgKGUuYXJndW1lbnRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGEgPSBlLmFyZ3VtZW50cy5sZW5ndGg7IGkgPCBhOyBpKyspIHtcbiAgICAgIHZhciBuID0gZS5hcmd1bWVudHNbaV07XG4gICAgICB2YXIgbyA9IGMobi52YWx1ZSwgcik7XG4gICAgICBpZiAobnVsbCAhPSBvKSB7XG4gICAgICAgIGlmICghdCkge1xuICAgICAgICAgIHQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0W2dldE5hbWUobildID0gbztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgZmlsdGVyVmFyaWFibGVzID0gKGUsIHIpID0+IHtcbiAgaWYgKCFyIHx8ICFlLnZhcmlhYmxlRGVmaW5pdGlvbnMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGEgPSBlLnZhcmlhYmxlRGVmaW5pdGlvbnMubGVuZ3RoOyBpIDwgYTsgaSsrKSB7XG4gICAgdmFyIG4gPSBnZXROYW1lKGUudmFyaWFibGVEZWZpbml0aW9uc1tpXS52YXJpYWJsZSk7XG4gICAgdFtuXSA9IHJbbl07XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgbm9ybWFsaXplVmFyaWFibGVzID0gKGUsIHIpID0+IHtcbiAgdmFyIHQgPSB7fTtcbiAgaWYgKCFyKSB7XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgaWYgKGUudmFyaWFibGVEZWZpbml0aW9ucykge1xuICAgIGZvciAodmFyIGkgPSAwLCBhID0gZS52YXJpYWJsZURlZmluaXRpb25zLmxlbmd0aDsgaSA8IGE7IGkrKykge1xuICAgICAgdmFyIG4gPSBlLnZhcmlhYmxlRGVmaW5pdGlvbnNbaV07XG4gICAgICB2YXIgbyA9IGdldE5hbWUobi52YXJpYWJsZSk7XG4gICAgICB0W29dID0gdm9pZCAwID09PSByW29dICYmIG4uZGVmYXVsdFZhbHVlID8gYyhuLmRlZmF1bHRWYWx1ZSwgcikgOiByW29dO1xuICAgIH1cbiAgfVxuICBmb3IgKHZhciBzIGluIHIpIHtcbiAgICBpZiAoIShzIGluIHQpKSB7XG4gICAgICB0W3NdID0gcltzXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgaCA9IFwiXFxuaHR0cHM6Ly9iaXQubHkvMlhiVnJwUiNcIjtcblxudmFyIG0gPSBuZXcgU2V0O1xuXG52YXIgZyA9IFtdO1xuXG52YXIgcG9wRGVidWdOb2RlID0gKCkgPT4gZy5wb3AoKTtcblxudmFyIHB1c2hEZWJ1Z05vZGUgPSAoZSwgcikgPT4ge1xuICB2YXIgdCA9IFwiXCI7XG4gIGlmIChyLmtpbmQgPT09IHAuSU5MSU5FX0ZSQUdNRU5UKSB7XG4gICAgdCA9IGUgPyBgSW5saW5lIEZyYWdtZW50IG9uIFwiJHtlfVwiYCA6IFwiSW5saW5lIEZyYWdtZW50XCI7XG4gIH0gZWxzZSBpZiAoci5raW5kID09PSBwLk9QRVJBVElPTl9ERUZJTklUSU9OKSB7XG4gICAgdCA9IGAke3IubmFtZSA/IGBcIiR7ci5uYW1lLnZhbHVlfVwiYCA6IFwiVW5uYW1lZFwifSAke3Iub3BlcmF0aW9ufWA7XG4gIH0gZWxzZSBpZiAoci5raW5kID09PSBwLkZSQUdNRU5UX0RFRklOSVRJT04pIHtcbiAgICB0ID0gYFwiJHtyLm5hbWUudmFsdWV9XCIgRnJhZ21lbnRgO1xuICB9XG4gIGlmICh0KSB7XG4gICAgZy5wdXNoKHQpO1xuICB9XG59O1xuXG52YXIgZ2V0RGVidWdPdXRwdXQgPSAoKSA9PiBnLmxlbmd0aCA/IFwiXFxuKENhdXNlZCBBdDogXCIgKyBnLmpvaW4oXCIsIFwiKSArIFwiKVwiIDogXCJcIjtcblxuZnVuY3Rpb24gaW52YXJpYW50KGUsIHIsIHQpIHtcbiAgaWYgKCFlKSB7XG4gICAgdmFyIGkgPSByIHx8IFwiTWluZmllZCBFcnJvciAjXCIgKyB0ICsgXCJcXG5cIjtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICBpICs9IGdldERlYnVnT3V0cHV0KCk7XG4gICAgfVxuICAgIHZhciBhID0gbmV3IEVycm9yKGkgKyBoICsgdCk7XG4gICAgYS5uYW1lID0gXCJHcmFwaGNhY2hlIEVycm9yXCI7XG4gICAgdGhyb3cgYTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuKGUsIHIpIHtcbiAgaWYgKCFtLmhhcyhlKSkge1xuICAgIGNvbnNvbGUud2FybihlICsgZ2V0RGVidWdPdXRwdXQoKSArIGggKyByKTtcbiAgICBtLmFkZChlKTtcbiAgfVxufVxuXG52YXIgZ2V0TWFpbk9wZXJhdGlvbiA9IGUgPT4ge1xuICBmb3IgKHZhciByID0gMDsgciA8IGUuZGVmaW5pdGlvbnMubGVuZ3RoOyByKyspIHtcbiAgICBpZiAoZS5kZWZpbml0aW9uc1tyXS5raW5kID09PSBwLk9QRVJBVElPTl9ERUZJTklUSU9OKSB7XG4gICAgICByZXR1cm4gZS5kZWZpbml0aW9uc1tyXTtcbiAgICB9XG4gIH1cbiAgaW52YXJpYW50KCExLCBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBcIkludmFsaWQgR3JhcGhRTCBkb2N1bWVudDogQWxsIEdyYXBoUUwgZG9jdW1lbnRzIG11c3QgY29udGFpbiBhbiBPcGVyYXRpb25EZWZpbml0aW9ubm9kZSBmb3IgYSBxdWVyeSwgc3Vic2NyaXB0aW9uLCBvciBtdXRhdGlvbi5cIiA6IFwiXCIsIDEpO1xufTtcblxudmFyIGdldEZyYWdtZW50cyA9IGUgPT4ge1xuICB2YXIgciA9IHt9O1xuICBmb3IgKHZhciB0ID0gMDsgdCA8IGUuZGVmaW5pdGlvbnMubGVuZ3RoOyB0KyspIHtcbiAgICB2YXIgaSA9IGUuZGVmaW5pdGlvbnNbdF07XG4gICAgaWYgKGkua2luZCA9PT0gcC5GUkFHTUVOVF9ERUZJTklUSU9OKSB7XG4gICAgICByW2dldE5hbWUoaSldID0gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG52YXIgc2hvdWxkSW5jbHVkZSA9IChlLCByKSA9PiB7XG4gIGZvciAodmFyIHQgPSAwOyBlLmRpcmVjdGl2ZXMgJiYgdCA8IGUuZGlyZWN0aXZlcy5sZW5ndGg7IHQrKykge1xuICAgIHZhciBpID0gZS5kaXJlY3RpdmVzW3RdO1xuICAgIHZhciBhID0gZ2V0TmFtZShpKTtcbiAgICBpZiAoKFwiaW5jbHVkZVwiID09PSBhIHx8IFwic2tpcFwiID09PSBhKSAmJiBpLmFyZ3VtZW50cyAmJiBpLmFyZ3VtZW50c1swXSAmJiBcImlmXCIgPT09IGdldE5hbWUoaS5hcmd1bWVudHNbMF0pKSB7XG4gICAgICB2YXIgbiA9IGMoaS5hcmd1bWVudHNbMF0udmFsdWUsIHIpO1xuICAgICAgcmV0dXJuIFwiaW5jbHVkZVwiID09PSBhID8gISFuIDogIW47XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn07XG5cbnZhciBpc0RlZmVycmVkID0gKGUsIHIpID0+IHtcbiAgZm9yICh2YXIgdCA9IDA7IGUuZGlyZWN0aXZlcyAmJiB0IDwgZS5kaXJlY3RpdmVzLmxlbmd0aDsgdCsrKSB7XG4gICAgdmFyIGkgPSBlLmRpcmVjdGl2ZXNbdF07XG4gICAgaWYgKFwiZGVmZXJcIiA9PT0gZ2V0TmFtZShpKSkge1xuICAgICAgZm9yICh2YXIgYSA9IDA7IGkuYXJndW1lbnRzICYmIGEgPCBpLmFyZ3VtZW50cy5sZW5ndGg7IGErKykge1xuICAgICAgICB2YXIgbiA9IGkuYXJndW1lbnRzW3RdO1xuICAgICAgICBpZiAoXCJpZlwiID09PSBnZXROYW1lKG4pKSB7XG4gICAgICAgICAgcmV0dXJuICEhYyhuLnZhbHVlLCByKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuXG52YXIgaXNGaWVsZE51bGxhYmxlID0gKGUsIHIsIHQpID0+IHtcbiAgdmFyIGkgPSBnZXRGaWVsZChlLCByLCB0KTtcbiAgcmV0dXJuICEhaSAmJiBcIk5PTl9OVUxMXCIgIT09IGkudHlwZS5raW5kO1xufTtcblxudmFyIGlzTGlzdE51bGxhYmxlID0gKGUsIHIsIHQpID0+IHtcbiAgdmFyIGkgPSBnZXRGaWVsZChlLCByLCB0KTtcbiAgaWYgKCFpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBhID0gXCJOT05fTlVMTFwiID09PSBpLnR5cGUua2luZCA/IGkudHlwZS5vZlR5cGUgOiBpLnR5cGU7XG4gIHJldHVybiBcIkxJU1RcIiA9PT0gYS5raW5kICYmIFwiTk9OX05VTExcIiAhPT0gYS5vZlR5cGUua2luZDtcbn07XG5cbnZhciBpc0ZpZWxkQXZhaWxhYmxlT25UeXBlID0gKGUsIHIsIHQpID0+IDAgPT09IHQuaW5kZXhPZihcIl9fXCIpIHx8IDAgPT09IHIuaW5kZXhPZihcIl9fXCIpIHx8ICEhZ2V0RmllbGQoZSwgciwgdCk7XG5cbnZhciBpc0ludGVyZmFjZU9mVHlwZSA9IChlLCByLCB0KSA9PiB7XG4gIGlmICghdCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgaSA9IGdldFR5cGVDb25kaXRpb24ocik7XG4gIGlmICghaSB8fCB0ID09PSBpKSB7XG4gICAgcmV0dXJuICEwO1xuICB9IGVsc2UgaWYgKGUudHlwZXMuaGFzKGkpICYmIFwiT0JKRUNUXCIgPT09IGUudHlwZXMuZ2V0KGkpLmtpbmQpIHtcbiAgICByZXR1cm4gaSA9PT0gdDtcbiAgfVxuICAhZnVuY3Rpb24gZXhwZWN0QWJzdHJhY3RUeXBlKGUsIHIpIHtcbiAgICBpbnZhcmlhbnQoZS50eXBlcy5oYXMocikgJiYgKFwiSU5URVJGQUNFXCIgPT09IGUudHlwZXMuZ2V0KHIpLmtpbmQgfHwgXCJVTklPTlwiID09PSBlLnR5cGVzLmdldChyKS5raW5kKSwgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gXCJJbnZhbGlkIEFic3RyYWN0IHR5cGU6IFRoZSB0eXBlIGBcIiArIHIgKyBcImAgaXMgbm90IGFuIEludGVyZmFjZSBvciBVbmlvbiB0eXBlIGluIHRoZSBkZWZpbmVkIHNjaGVtYSwgYnV0IGEgZnJhZ21lbnQgaW4gdGhlIEdyYXBoUUwgZG9jdW1lbnQgaXMgdXNpbmcgaXQgYXMgYSB0eXBlIGNvbmRpdGlvbi5cIiA6IFwiXCIsIDUpO1xuICB9KGUsIGkpO1xuICBleHBlY3RPYmplY3RUeXBlKGUsIHQpO1xuICByZXR1cm4gZS5pc1N1YlR5cGUoaSwgdCk7XG59O1xuXG52YXIgZ2V0RmllbGQgPSAoZSwgciwgdCkgPT4ge1xuICBpZiAoMCA9PT0gdC5pbmRleE9mKFwiX19cIikgfHwgMCA9PT0gci5pbmRleE9mKFwiX19cIikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZXhwZWN0T2JqZWN0VHlwZShlLCByKTtcbiAgdmFyIGkgPSBlLnR5cGVzLmdldChyKS5maWVsZHMoKVt0XTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIGlmICghaSkge1xuICAgICAgd2FybihcIkludmFsaWQgZmllbGQ6IFRoZSBmaWVsZCBgXCIgKyB0ICsgXCJgIGRvZXMgbm90IGV4aXN0IG9uIGBcIiArIHIgKyBcImAsIGJ1dCB0aGUgR3JhcGhRTCBkb2N1bWVudCBleHBlY3RzIGl0IHRvIGV4aXN0LlxcblRyYXZlcnNhbCB3aWxsIGNvbnRpbnVlLCBob3dldmVyIHRoaXMgbWF5IGxlYWQgdG8gdW5kZWZpbmVkIGJlaGF2aW9yIVwiLCA0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGk7XG59O1xuXG5mdW5jdGlvbiBleHBlY3RPYmplY3RUeXBlKGUsIHIpIHtcbiAgaW52YXJpYW50KGUudHlwZXMuaGFzKHIpICYmIFwiT0JKRUNUXCIgPT09IGUudHlwZXMuZ2V0KHIpLmtpbmQsIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IFwiSW52YWxpZCBPYmplY3QgdHlwZTogVGhlIHR5cGUgYFwiICsgciArIFwiYCBpcyBub3QgYW4gb2JqZWN0IGluIHRoZSBkZWZpbmVkIHNjaGVtYSwgYnV0IHRoZSBHcmFwaFFMIGRvY3VtZW50IGlzIHRyYXZlcnNpbmcgaXQuXCIgOiBcIlwiLCAzKTtcbn1cblxuZnVuY3Rpb24gd2FybkFib3V0UmVzb2x2ZXIoZSkge1xuICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgd2FybihgSW52YWxpZCByZXNvbHZlcjogXFxgJHtlfVxcYCBpcyBub3QgaW4gdGhlIGRlZmluZWQgc2NoZW1hLCBidXQgdGhlIFxcYHJlc29sdmVyc1xcYCBvcHRpb24gaXMgcmVmZXJlbmNpbmcgaXQuYCwgMjMpO1xufVxuXG52YXIga2V5T2ZGaWVsZCA9IChyLCB0KSA9PiB0ID8gYCR7cn0oJHtlKHQpfSlgIDogcjtcblxudmFyIGpvaW5LZXlzID0gKGUsIHIpID0+IGAke2V9LiR7cn1gO1xuXG52YXIgZmllbGRJbmZvT2ZLZXkgPSBlID0+IHtcbiAgdmFyIHIgPSBlLmluZGV4T2YoXCIoXCIpO1xuICBpZiAociA+IC0xKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpZWxkS2V5OiBlLFxuICAgICAgZmllbGROYW1lOiBlLnNsaWNlKDAsIHIpLFxuICAgICAgYXJndW1lbnRzOiBKU09OLnBhcnNlKGUuc2xpY2UociArIDEsIC0xKSlcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBmaWVsZEtleTogZSxcbiAgICAgIGZpZWxkTmFtZTogZSxcbiAgICAgIGFyZ3VtZW50czogbnVsbFxuICAgIH07XG4gIH1cbn07XG5cbnZhciBkZXNlcmlhbGl6ZUtleUluZm8gPSBlID0+IHtcbiAgdmFyIHIgPSBlLmluZGV4T2YoXCIuXCIpO1xuICByZXR1cm4ge1xuICAgIGVudGl0eUtleTogZS5zbGljZSgwLCByKS5yZXBsYWNlKC8lMmUvZywgXCIuXCIpLFxuICAgIGZpZWxkS2V5OiBlLnNsaWNlKHIgKyAxKVxuICB9O1xufTtcblxudmFyIG1ha2VEaWN0ID0gKCkgPT4gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxudmFyIF8gPSBudWxsO1xuXG52YXIgTiA9IG51bGw7XG5cbnZhciBrID0gbnVsbDtcblxudmFyIEUgPSBudWxsO1xuXG52YXIgTyA9IG51bGw7XG5cbnZhciB3ID0gbnVsbDtcblxudmFyIGIgPSAhMTtcblxudmFyIG1ha2VEYXRhID0gZSA9PiB7XG4gIHZhciByO1xuICBpZiAoZSkge1xuICAgIGlmIChfLmhhcyhlKSkge1xuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHIgPSBOLmdldChlKSB8fCB7XG4gICAgICAuLi5lXG4gICAgfTtcbiAgICBOLnNldChlLCByKTtcbiAgfSBlbHNlIHtcbiAgICByID0ge307XG4gIH1cbiAgXy5hZGQocik7XG4gIHJldHVybiByO1xufTtcblxudmFyIG93bnNEYXRhID0gZSA9PiAhIWUgJiYgXy5oYXMoZSk7XG5cbnZhciBpbml0RGF0YVN0YXRlID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgXyA9IG5ldyBXZWFrU2V0O1xuICBOID0gbmV3IFdlYWtNYXA7XG4gIGsgPSBlO1xuICBFID0gcjtcbiAgTyA9IG5ldyBTZXQ7XG4gIGIgPSAhIWk7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBnLmxlbmd0aCA9IDA7XG4gIH1cbiAgaWYgKCF0KSB7XG4gICAgdyA9IG51bGw7XG4gIH0gZWxzZSBpZiAoXCJyZWFkXCIgPT09IGspIHtcbiAgICB3ID0gdDtcbiAgfSBlbHNlIGlmIChpIHx8IHIub3B0aW1pc3RpY09yZGVyLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoIWkgJiYgIXIuY29tbXV0YXRpdmVLZXlzLmhhcyh0KSkge1xuICAgICAgcmVzZXJ2ZUxheWVyKHIsIHQpO1xuICAgIH0gZWxzZSBpZiAoaSkge1xuICAgICAgaWYgKC0xICE9PSByLm9wdGltaXN0aWNPcmRlci5pbmRleE9mKHQpICYmICFyLmNvbW11dGF0aXZlS2V5cy5oYXModCkpIHtcbiAgICAgICAgci5vcHRpbWlzdGljT3JkZXIuc3BsaWNlKHIub3B0aW1pc3RpY09yZGVyLmluZGV4T2YodCksIDEpO1xuICAgICAgfVxuICAgICAgci5jb21tdXRhdGl2ZUtleXMuZGVsZXRlKHQpO1xuICAgIH1cbiAgICB3ID0gdDtcbiAgICBjcmVhdGVMYXllcihyLCB0KTtcbiAgfSBlbHNlIHtcbiAgICB3ID0gbnVsbDtcbiAgICBkZWxldGVMYXllcihyLCB0KTtcbiAgfVxufTtcblxudmFyIGNsZWFyRGF0YVN0YXRlID0gKCkgPT4ge1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgZ2V0Q3VycmVudERlcGVuZGVuY2llcygpO1xuICB9XG4gIHZhciBlID0gRTtcbiAgdmFyIHIgPSB3O1xuICBiID0gITE7XG4gIHcgPSBudWxsO1xuICBpZiAociAmJiBlLm9wdGltaXN0aWNPcmRlci5pbmRleE9mKHIpID4gLTEpIHtcbiAgICB2YXIgdCA9IGUub3B0aW1pc3RpY09yZGVyLmxlbmd0aDtcbiAgICB3aGlsZSAoLS10ID49IDAgJiYgZS5yZWZMb2NrLmhhcyhlLm9wdGltaXN0aWNPcmRlclt0XSkgJiYgZS5jb21tdXRhdGl2ZUtleXMuaGFzKGUub3B0aW1pc3RpY09yZGVyW3RdKSAmJiAhZS5kZWZlcnJlZEtleXMuaGFzKGUub3B0aW1pc3RpY09yZGVyW3RdKSkge1xuICAgICAgc3F1YXNoTGF5ZXIoZS5vcHRpbWlzdGljT3JkZXJbdF0pO1xuICAgIH1cbiAgfVxuICBfID0gbnVsbDtcbiAgTiA9IG51bGw7XG4gIGsgPSBudWxsO1xuICBFID0gbnVsbDtcbiAgTyA9IG51bGw7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBnLmxlbmd0aCA9IDA7XG4gIH1cbiAgaWYgKFwidGVzdFwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiAhZS5kZWZlcikge1xuICAgIGUuZGVmZXIgPSAhMDtcbiAgICBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICBpbml0RGF0YVN0YXRlKFwicmVhZFwiLCBlLCBudWxsKTtcbiAgICAgIGdjKCk7XG4gICAgICBwZXJzaXN0RGF0YSgpO1xuICAgICAgY2xlYXJEYXRhU3RhdGUoKTtcbiAgICAgIGUuZGVmZXIgPSAhMTtcbiAgICB9KSk7XG4gIH1cbn07XG5cbnZhciBub29wRGF0YVN0YXRlID0gKGUsIHIsIHQpID0+IHtcbiAgaWYgKHIgJiYgIXQpIHtcbiAgICBlLmRlZmVycmVkS2V5cy5kZWxldGUocik7XG4gIH1cbiAgaW5pdERhdGFTdGF0ZShcIndyaXRlXCIsIGUsIHIsIHQpO1xuICBjbGVhckRhdGFTdGF0ZSgpO1xufTtcblxudmFyIGdldEN1cnJlbnRPcGVyYXRpb24gPSAoKSA9PiB7XG4gIGludmFyaWFudChudWxsICE9PSBrLCBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBcIkludmFsaWQgQ2FjaGUgY2FsbDogVGhlIGNhY2hlIG1heSBvbmx5IGJlIGFjY2Vzc2VkIG9yIG11dGF0ZWQgZHVyaW5nb3BlcmF0aW9ucyBsaWtlIHdyaXRlIG9yIHF1ZXJ5LCBvciBhcyBwYXJ0IG9mIGl0cyByZXNvbHZlcnMsIHVwZGF0ZXJzLCBvciBvcHRpbWlzdGljIGNvbmZpZ3MuXCIgOiBcIlwiLCAyKTtcbiAgcmV0dXJuIGs7XG59O1xuXG52YXIgZ2V0Q3VycmVudERlcGVuZGVuY2llcyA9ICgpID0+IHtcbiAgaW52YXJpYW50KG51bGwgIT09IE8sIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IFwiSW52YWxpZCBDYWNoZSBjYWxsOiBUaGUgY2FjaGUgbWF5IG9ubHkgYmUgYWNjZXNzZWQgb3IgbXV0YXRlZCBkdXJpbmdvcGVyYXRpb25zIGxpa2Ugd3JpdGUgb3IgcXVlcnksIG9yIGFzIHBhcnQgb2YgaXRzIHJlc29sdmVycywgdXBkYXRlcnMsIG9yIG9wdGltaXN0aWMgY29uZmlncy5cIiA6IFwiXCIsIDIpO1xuICByZXR1cm4gTztcbn07XG5cbnZhciBzZXROb2RlID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgdmFyIGEgPSB3ID8gZS5vcHRpbWlzdGljLmdldCh3KSA6IGUuYmFzZTtcbiAgdmFyIG4gPSBhLmdldChyKTtcbiAgaWYgKHZvaWQgMCA9PT0gbikge1xuICAgIGEuc2V0KHIsIG4gPSBtYWtlRGljdCgpKTtcbiAgfVxuICBpZiAodm9pZCAwID09PSBpICYmICF3KSB7XG4gICAgZGVsZXRlIG5bdF07XG4gIH0gZWxzZSB7XG4gICAgblt0XSA9IGk7XG4gIH1cbn07XG5cbnZhciBnZXROb2RlID0gKGUsIHIsIHQpID0+IHtcbiAgdmFyIGk7XG4gIHZhciBhID0gIWIgJiYgXCJyZWFkXCIgPT09IGsgJiYgdyAmJiBFLmNvbW11dGF0aXZlS2V5cy5oYXModyk7XG4gIGZvciAodmFyIG4gPSAwLCBvID0gRS5vcHRpbWlzdGljT3JkZXIubGVuZ3RoOyBuIDwgbzsgbisrKSB7XG4gICAgdmFyIHMgPSBFLm9wdGltaXN0aWNPcmRlcltuXTtcbiAgICB2YXIgdiA9IGUub3B0aW1pc3RpYy5nZXQocyk7XG4gICAgYSA9IGEgJiYgcyAhPT0gdztcbiAgICBpZiAodiAmJiAoIWEgfHwgIUUuY29tbXV0YXRpdmVLZXlzLmhhcyhzKSkgJiYgKCFiIHx8IFwid3JpdGVcIiA9PT0gayB8fCBFLmNvbW11dGF0aXZlS2V5cy5oYXMocykpICYmIHZvaWQgMCAhPT0gKGkgPSB2LmdldChyKSkgJiYgdCBpbiBpKSB7XG4gICAgICByZXR1cm4gaVt0XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMCAhPT0gKGkgPSBlLmJhc2UuZ2V0KHIpKSA/IGlbdF0gOiB2b2lkIDA7XG59O1xuXG52YXIgdXBkYXRlUkNGb3JFbnRpdHkgPSAoZSwgciwgdCwgaSkgPT4ge1xuICB2YXIgYSA9IHIuZ2V0KHQpIHx8IDA7XG4gIHZhciBuID0gYSArIGk7XG4gIHIuc2V0KHQsIG4pO1xuICBpZiAoZSkge1xuICAgIGlmIChuIDw9IDApIHtcbiAgICAgIGUuYWRkKHQpO1xuICAgIH0gZWxzZSBpZiAoYSA8PSAwICYmIG4gPiAwKSB7XG4gICAgICBlLmRlbGV0ZSh0KTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciB1cGRhdGVSQ0ZvckxpbmsgPSAoZSwgciwgdCwgaSkgPT4ge1xuICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCkge1xuICAgIHVwZGF0ZVJDRm9yRW50aXR5KGUsIHIsIHQsIGkpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICBmb3IgKHZhciBhID0gMCwgbiA9IHQubGVuZ3RoOyBhIDwgbjsgYSsrKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0W2FdKSkge1xuICAgICAgICB1cGRhdGVSQ0ZvckxpbmsoZSwgciwgdFthXSwgaSk7XG4gICAgICB9IGVsc2UgaWYgKHRbYV0pIHtcbiAgICAgICAgdXBkYXRlUkNGb3JFbnRpdHkoZSwgciwgdFthXSwgaSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgZXh0cmFjdE5vZGVGaWVsZHMgPSAoZSwgciwgdCkgPT4ge1xuICBpZiAodm9pZCAwICE9PSB0KSB7XG4gICAgZm9yICh2YXIgaSBpbiB0KSB7XG4gICAgICBpZiAoIXIuaGFzKGkpKSB7XG4gICAgICAgIGUucHVzaChmaWVsZEluZm9PZktleShpKSk7XG4gICAgICAgIHIuYWRkKGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxudmFyIGV4dHJhY3ROb2RlTWFwRmllbGRzID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgZXh0cmFjdE5vZGVGaWVsZHMoZSwgciwgaS5iYXNlLmdldCh0KSk7XG4gIGZvciAodmFyIGEgPSAwLCBuID0gRS5vcHRpbWlzdGljT3JkZXIubGVuZ3RoOyBhIDwgbjsgYSsrKSB7XG4gICAgdmFyIG8gPSBpLm9wdGltaXN0aWMuZ2V0KEUub3B0aW1pc3RpY09yZGVyW2FdKTtcbiAgICBpZiAodm9pZCAwICE9PSBvKSB7XG4gICAgICBleHRyYWN0Tm9kZUZpZWxkcyhlLCByLCBvLmdldCh0KSk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgZ2MgPSAoKSA9PiB7XG4gIHZhciB7Z2M6IGV9ID0gRTtcbiAgZm9yICh2YXIgciBvZiBlLmtleXMoKSkge1xuICAgIGlmICgoRS5yZWZDb3VudC5nZXQocikgfHwgMCkgPiAwKSB7XG4gICAgICBlLmRlbGV0ZShyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgdCBvZiBFLnJlZkxvY2sua2V5cygpKSB7XG4gICAgICB2YXIgaSA9IEUucmVmTG9jay5nZXQodCk7XG4gICAgICBpZiAoaSkge1xuICAgICAgICBpZiAoKGkuZ2V0KHIpIHx8IDApID4gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpLmRlbGV0ZShyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgRS5yZWZDb3VudC5kZWxldGUocik7XG4gICAgZS5kZWxldGUocik7XG4gICAgRS5yZWNvcmRzLmJhc2UuZGVsZXRlKHIpO1xuICAgIHZhciBhID0gRS5saW5rcy5iYXNlLmdldChyKTtcbiAgICBpZiAoYSkge1xuICAgICAgRS5saW5rcy5iYXNlLmRlbGV0ZShyKTtcbiAgICAgIGZvciAodmFyIG4gaW4gYSkge1xuICAgICAgICB1cGRhdGVSQ0ZvckxpbmsoZSwgRS5yZWZDb3VudCwgYVtuXSwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxudmFyIHVwZGF0ZURlcGVuZGVuY2llcyA9IChlLCByKSA9PiB7XG4gIGlmIChcIl9fdHlwZW5hbWVcIiAhPT0gcikge1xuICAgIGlmIChlICE9PSBFLnF1ZXJ5Um9vdEtleSkge1xuICAgICAgTy5hZGQoZSk7XG4gICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IHIpIHtcbiAgICAgIE8uYWRkKGpvaW5LZXlzKGUsIHIpKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciB1cGRhdGVQZXJzaXN0ID0gKGUsIHIpID0+IHtcbiAgaWYgKCFiICYmIEUuc3RvcmFnZSkge1xuICAgIEUucGVyc2lzdC5hZGQoKChlLCByKSA9PiBgJHtlLnJlcGxhY2UoL1xcLi9nLCBcIiUyZVwiKX0uJHtyfWApKGUsIHIpKTtcbiAgfVxufTtcblxudmFyIHJlYWRSZWNvcmQgPSAoZSwgcikgPT4ge1xuICB1cGRhdGVEZXBlbmRlbmNpZXMoZSwgcik7XG4gIHJldHVybiBnZXROb2RlKEUucmVjb3JkcywgZSwgcik7XG59O1xuXG52YXIgcmVhZExpbmsgPSAoZSwgcikgPT4ge1xuICB1cGRhdGVEZXBlbmRlbmNpZXMoZSwgcik7XG4gIHJldHVybiBnZXROb2RlKEUubGlua3MsIGUsIHIpO1xufTtcblxudmFyIHdyaXRlUmVjb3JkID0gKGUsIHIsIHQpID0+IHtcbiAgdXBkYXRlRGVwZW5kZW5jaWVzKGUsIHIpO1xuICB1cGRhdGVQZXJzaXN0KGUsIHIpO1xuICBzZXROb2RlKEUucmVjb3JkcywgZSwgciwgdCk7XG59O1xuXG52YXIgd3JpdGVMaW5rID0gKGUsIHIsIHQpID0+IHtcbiAgdmFyIGkgPSBFO1xuICB2YXIgYTtcbiAgdmFyIG47XG4gIHZhciBvO1xuICBpZiAodykge1xuICAgIGlmICghKGEgPSBpLnJlZkxvY2suZ2V0KHcpKSkge1xuICAgICAgaS5yZWZMb2NrLnNldCh3LCBhID0gbmV3IE1hcCk7XG4gICAgfVxuICAgIG4gPSBpLmxpbmtzLm9wdGltaXN0aWMuZ2V0KHcpO1xuICB9IGVsc2Uge1xuICAgIGEgPSBpLnJlZkNvdW50O1xuICAgIG4gPSBpLmxpbmtzLmJhc2U7XG4gICAgbyA9IGkuZ2M7XG4gIH1cbiAgdmFyIHMgPSBuICYmIG4uZ2V0KGUpO1xuICB2YXIgdiA9IHMgJiYgc1tyXTtcbiAgdXBkYXRlRGVwZW5kZW5jaWVzKGUsIHIpO1xuICB1cGRhdGVQZXJzaXN0KGUsIHIpO1xuICBzZXROb2RlKGkubGlua3MsIGUsIHIsIHQpO1xuICB1cGRhdGVSQ0ZvckxpbmsobywgYSwgdiwgLTEpO1xuICB1cGRhdGVSQ0ZvckxpbmsobywgYSwgdCwgMSk7XG59O1xuXG52YXIgcmVzZXJ2ZUxheWVyID0gKGUsIHIsIHQpID0+IHtcbiAgaWYgKHQpIHtcbiAgICBlLmRlZmVycmVkS2V5cy5hZGQocik7XG4gIH0gZWxzZSB7XG4gICAgZS5kZWZlcnJlZEtleXMuZGVsZXRlKHIpO1xuICB9XG4gIHZhciBpID0gZS5vcHRpbWlzdGljT3JkZXIuaW5kZXhPZihyKTtcbiAgaWYgKGkgPiAtMSkge1xuICAgIGlmICghZS5jb21tdXRhdGl2ZUtleXMuaGFzKHIpICYmICF0KSB7XG4gICAgICBlLm9wdGltaXN0aWNPcmRlci5zcGxpY2UoaSwgMSk7XG4gICAgICBjbGVhckxheWVyKGUsIHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGZvciAoaSA9IDA7IHQgJiYgaSA8IGUub3B0aW1pc3RpY09yZGVyLmxlbmd0aCAmJiAhZS5kZWZlcnJlZEtleXMuaGFzKGUub3B0aW1pc3RpY09yZGVyW2ldKSAmJiAoIWUucmVmTG9jay5oYXMoZS5vcHRpbWlzdGljT3JkZXJbaV0pIHx8ICFlLmNvbW11dGF0aXZlS2V5cy5oYXMoZS5vcHRpbWlzdGljT3JkZXJbaV0pKTsgaSsrKSB7fVxuICBlLm9wdGltaXN0aWNPcmRlci5zcGxpY2UoaSwgMCwgcik7XG4gIGUuY29tbXV0YXRpdmVLZXlzLmFkZChyKTtcbn07XG5cbnZhciBjcmVhdGVMYXllciA9IChlLCByKSA9PiB7XG4gIGlmICgtMSA9PT0gZS5vcHRpbWlzdGljT3JkZXIuaW5kZXhPZihyKSkge1xuICAgIGUub3B0aW1pc3RpY09yZGVyLnVuc2hpZnQocik7XG4gIH1cbiAgaWYgKCFlLnJlZkxvY2suaGFzKHIpKSB7XG4gICAgZS5yZWZMb2NrLnNldChyLCBuZXcgTWFwKTtcbiAgICBlLmxpbmtzLm9wdGltaXN0aWMuc2V0KHIsIG5ldyBNYXApO1xuICAgIGUucmVjb3Jkcy5vcHRpbWlzdGljLnNldChyLCBuZXcgTWFwKTtcbiAgfVxufTtcblxudmFyIGNsZWFyTGF5ZXIgPSAoZSwgcikgPT4ge1xuICBpZiAoZS5yZWZMb2NrLmhhcyhyKSkge1xuICAgIGUucmVmTG9jay5kZWxldGUocik7XG4gICAgZS5yZWNvcmRzLm9wdGltaXN0aWMuZGVsZXRlKHIpO1xuICAgIGUubGlua3Mub3B0aW1pc3RpYy5kZWxldGUocik7XG4gICAgZS5kZWZlcnJlZEtleXMuZGVsZXRlKHIpO1xuICB9XG59O1xuXG52YXIgZGVsZXRlTGF5ZXIgPSAoZSwgcikgPT4ge1xuICB2YXIgdCA9IGUub3B0aW1pc3RpY09yZGVyLmluZGV4T2Yocik7XG4gIGlmICh0ID4gLTEpIHtcbiAgICBlLm9wdGltaXN0aWNPcmRlci5zcGxpY2UodCwgMSk7XG4gICAgZS5jb21tdXRhdGl2ZUtleXMuZGVsZXRlKHIpO1xuICB9XG4gIGNsZWFyTGF5ZXIoZSwgcik7XG59O1xuXG52YXIgc3F1YXNoTGF5ZXIgPSBlID0+IHtcbiAgdmFyIHIgPSBPO1xuICBPID0gbmV3IFNldDtcbiAgdmFyIHQgPSBFLmxpbmtzLm9wdGltaXN0aWMuZ2V0KGUpO1xuICBpZiAodCkge1xuICAgIGZvciAodmFyIGkgb2YgdC5lbnRyaWVzKCkpIHtcbiAgICAgIHZhciBhID0gaVswXTtcbiAgICAgIHZhciBuID0gaVsxXTtcbiAgICAgIGZvciAodmFyIG8gaW4gbikge1xuICAgICAgICB3cml0ZUxpbmsoYSwgbywgbltvXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBzID0gRS5yZWNvcmRzLm9wdGltaXN0aWMuZ2V0KGUpO1xuICBpZiAocykge1xuICAgIGZvciAodmFyIHYgb2Ygcy5lbnRyaWVzKCkpIHtcbiAgICAgIHZhciBsID0gdlswXTtcbiAgICAgIHZhciB1ID0gdlsxXTtcbiAgICAgIGZvciAodmFyIGQgaW4gdSkge1xuICAgICAgICB3cml0ZVJlY29yZChsLCBkLCB1W2RdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgTyA9IHI7XG4gIGRlbGV0ZUxheWVyKEUsIGUpO1xufTtcblxudmFyIGluc3BlY3RGaWVsZHMgPSBlID0+IHtcbiAgdmFyIHtsaW5rczogciwgcmVjb3JkczogdH0gPSBFO1xuICB2YXIgaSA9IFtdO1xuICB2YXIgYSA9IG5ldyBTZXQ7XG4gIHVwZGF0ZURlcGVuZGVuY2llcyhlKTtcbiAgZXh0cmFjdE5vZGVNYXBGaWVsZHMoaSwgYSwgZSwgcik7XG4gIGV4dHJhY3ROb2RlTWFwRmllbGRzKGksIGEsIGUsIHQpO1xuICByZXR1cm4gaTtcbn07XG5cbnZhciBwZXJzaXN0RGF0YSA9ICgpID0+IHtcbiAgaWYgKEUuc3RvcmFnZSkge1xuICAgIGIgPSAhMDtcbiAgICBrID0gXCJyZWFkXCI7XG4gICAgdmFyIHIgPSBtYWtlRGljdCgpO1xuICAgIGZvciAodmFyIHQgb2YgRS5wZXJzaXN0LmtleXMoKSkge1xuICAgICAgdmFyIHtlbnRpdHlLZXk6IGksIGZpZWxkS2V5OiBhfSA9IGRlc2VyaWFsaXplS2V5SW5mbyh0KTtcbiAgICAgIHZhciBuID0gdm9pZCAwO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gKG4gPSByZWFkTGluayhpLCBhKSkpIHtcbiAgICAgICAgclt0XSA9IGA6JHtlKG4pfWA7XG4gICAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gKG4gPSByZWFkUmVjb3JkKGksIGEpKSkge1xuICAgICAgICByW3RdID0gZShuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJbdF0gPSB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICAgIGIgPSAhMTtcbiAgICBFLnN0b3JhZ2Uud3JpdGVEYXRhKHIpO1xuICAgIEUucGVyc2lzdC5jbGVhcigpO1xuICB9XG59O1xuXG52YXIgRCA9IHtcbiAgY3VycmVudDogbnVsbFxufTtcblxudmFyIHEgPSB7XG4gIGN1cnJlbnQ6ICExXG59O1xuXG52YXIgZ2V0RmllbGRFcnJvciA9IGUgPT4gZS5fX2ludGVybmFsLnBhdGgubGVuZ3RoID4gMCAmJiBlLl9faW50ZXJuYWwuZXJyb3JNYXAgPyBlLl9faW50ZXJuYWwuZXJyb3JNYXBbZS5fX2ludGVybmFsLnBhdGguam9pbihcIi5cIildIDogdm9pZCAwO1xuXG52YXIgbWFrZUNvbnRleHQgPSAoZSwgciwgdCwgaSwgYSwgbiwgbykgPT4ge1xuICB2YXIgcyA9IHtcbiAgICBzdG9yZTogZSxcbiAgICB2YXJpYWJsZXM6IHIsXG4gICAgZnJhZ21lbnRzOiB0LFxuICAgIHBhcmVudDoge1xuICAgICAgX190eXBlbmFtZTogaVxuICAgIH0sXG4gICAgcGFyZW50VHlwZU5hbWU6IGksXG4gICAgcGFyZW50S2V5OiBhLFxuICAgIHBhcmVudEZpZWxkS2V5OiBcIlwiLFxuICAgIGZpZWxkTmFtZTogXCJcIixcbiAgICBlcnJvcjogdm9pZCAwLFxuICAgIHBhcnRpYWw6ICExLFxuICAgIG9wdGltaXN0aWM6ICEhbixcbiAgICBfX2ludGVybmFsOiB7XG4gICAgICBwYXRoOiBbXSxcbiAgICAgIGVycm9yTWFwOiB2b2lkIDBcbiAgICB9XG4gIH07XG4gIGlmIChvICYmIG8uZ3JhcGhRTEVycm9ycykge1xuICAgIGZvciAodmFyIHYgPSAwOyB2IDwgby5ncmFwaFFMRXJyb3JzLmxlbmd0aDsgdisrKSB7XG4gICAgICB2YXIgbCA9IG8uZ3JhcGhRTEVycm9yc1t2XTtcbiAgICAgIGlmIChsLnBhdGggJiYgbC5wYXRoLmxlbmd0aCkge1xuICAgICAgICBpZiAoIXMuX19pbnRlcm5hbC5lcnJvck1hcCkge1xuICAgICAgICAgIHMuX19pbnRlcm5hbC5lcnJvck1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcy5fX2ludGVybmFsLmVycm9yTWFwW2wucGF0aC5qb2luKFwiLlwiKV0gPSBsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcztcbn07XG5cbnZhciB1cGRhdGVDb250ZXh0ID0gKGUsIHIsIHQsIGksIGEsIG4pID0+IHtcbiAgRC5jdXJyZW50ID0gZTtcbiAgZS5wYXJlbnQgPSByO1xuICBlLnBhcmVudFR5cGVOYW1lID0gdDtcbiAgZS5wYXJlbnRLZXkgPSBpO1xuICBlLnBhcmVudEZpZWxkS2V5ID0gYTtcbiAgZS5maWVsZE5hbWUgPSBuO1xuICBlLmVycm9yID0gZ2V0RmllbGRFcnJvcihlKTtcbn07XG5cbnZhciBpc0ZyYWdtZW50SGV1cmlzdGljYWxseU1hdGNoaW5nID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgaWYgKCFyKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBhID0gZ2V0VHlwZUNvbmRpdGlvbihlKTtcbiAgaWYgKCFhIHx8IHIgPT09IGEpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHdhcm4oXCJIZXVyaXN0aWMgRnJhZ21lbnQgTWF0Y2hpbmc6IEEgZnJhZ21lbnQgaXMgdHJ5aW5nIHRvIG1hdGNoIGFnYWluc3QgdGhlIGBcIiArIHIgKyBcImAgdHlwZSwgYnV0IHRoZSB0eXBlIGNvbmRpdGlvbiBpcyBgXCIgKyBhICsgXCJgLiBTaW5jZSBHcmFwaFFMIGFsbG93cyBmb3IgaW50ZXJmYWNlcyBgXCIgKyBhICsgXCJgIG1heSBiZSBhbmludGVyZmFjZS5cXG5BIHNjaGVtYSBuZWVkcyB0byBiZSBkZWZpbmVkIGZvciB0aGlzIG1hdGNoIHRvIGJlIGRldGVybWluaXN0aWMsIG90aGVyd2lzZSB0aGUgZnJhZ21lbnQgd2lsbCBiZSBtYXRjaGVkIGhldXJpc3RpY2FsbHkhXCIsIDE2KTtcbiAgcmV0dXJuIFwid3JpdGVcIiA9PT0gayB8fCAhZ2V0U2VsZWN0aW9uU2V0KGUpLnNvbWUoKGUgPT4ge1xuICAgIGlmICghaXNGaWVsZE5vZGUoZSkpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgdmFyIHIgPSBrZXlPZkZpZWxkKGdldE5hbWUoZSksIGdldEZpZWxkQXJndW1lbnRzKGUsIGkpKTtcbiAgICByZXR1cm4gISgoZSwgcikgPT4gdm9pZCAwICE9PSByZWFkUmVjb3JkKGUsIHIpIHx8IHZvaWQgMCAhPT0gcmVhZExpbmsoZSwgcikpKHQsIHIpO1xuICB9KSk7XG59O1xuXG52YXIgbWFrZVNlbGVjdGlvbkl0ZXJhdG9yID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgdmFyIGEgPSAhMTtcbiAgdmFyIG47XG4gIHZhciBvID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgaWYgKCFxLmN1cnJlbnQgJiYgYSkge1xuICAgICAgcS5jdXJyZW50ID0gYTtcbiAgICB9XG4gICAgaWYgKG4pIHtcbiAgICAgIHZhciBzID0gbigpO1xuICAgICAgaWYgKG51bGwgIT0gcykge1xuICAgICAgICByZXR1cm4gcztcbiAgICAgIH1cbiAgICAgIG4gPSB2b2lkIDA7XG4gICAgICBhID0gITE7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIHBvcERlYnVnTm9kZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAobyA8IHQubGVuZ3RoKSB7XG4gICAgICB2YXIgdiA9IHRbbysrXTtcbiAgICAgIGlmICghc2hvdWxkSW5jbHVkZSh2LCBpLnZhcmlhYmxlcykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKCFpc0ZpZWxkTm9kZSh2KSkge1xuICAgICAgICB2YXIgbCA9ICFpc0lubGluZUZyYWdtZW50KHYpID8gaS5mcmFnbWVudHNbZ2V0TmFtZSh2KV0gOiB2O1xuICAgICAgICBpZiAodm9pZCAwICE9PSBsKSB7XG4gICAgICAgICAgaWYgKGkuc3RvcmUuc2NoZW1hID8gaXNJbnRlcmZhY2VPZlR5cGUoaS5zdG9yZS5zY2hlbWEsIGwsIGUpIDogaXNGcmFnbWVudEhldXJpc3RpY2FsbHlNYXRjaGluZyhsLCBlLCByLCBpLnZhcmlhYmxlcykpIHtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgICAgICAgcHVzaERlYnVnTm9kZShlLCBsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSAhIWlzRGVmZXJyZWQodiwgaS52YXJpYWJsZXMpO1xuICAgICAgICAgICAgaWYgKCFxLmN1cnJlbnQgJiYgYSkge1xuICAgICAgICAgICAgICBxLmN1cnJlbnQgPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChuID0gbWFrZVNlbGVjdGlvbkl0ZXJhdG9yKGUsIHIsIGdldFNlbGVjdGlvblNldChsKSwgaSkpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG52YXIgZW5zdXJlRGF0YSA9IGUgPT4gbnVsbCA9PSBlID8gbnVsbCA6IGU7XG5cbnZhciBlbnN1cmVMaW5rID0gKGUsIHIpID0+IHtcbiAgaWYgKG51bGwgPT0gcikge1xuICAgIHJldHVybiByO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocikpIHtcbiAgICB2YXIgdCA9IG5ldyBBcnJheShyLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGEgPSB0Lmxlbmd0aDsgaSA8IGE7IGkrKykge1xuICAgICAgdFtpXSA9IGVuc3VyZUxpbmsoZSwgcltpXSk7XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG4gIHZhciBuID0gZS5rZXlPZkVudGl0eShyKTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIGlmICghbiAmJiByICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIHIpIHtcbiAgICAgIHdhcm4oXCJDYW4ndCBnZW5lcmF0ZSBhIGtleSBmb3IgbGluayguLi4pIGl0ZW0uXFxuWW91IGhhdmUgdG8gcGFzcyBhbiBgaWRgIG9yIGBfaWRgIGZpZWxkIG9yIGNyZWF0ZSBhIGN1c3RvbSBga2V5c2AgY29uZmlnIGZvciBgXCIgKyByLl9fdHlwZW5hbWUgKyBcImAuXCIsIDEyKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG47XG59O1xuXG52YXIgd3JpdGUgPSAoZSwgciwgdCwgaSwgYSkgPT4ge1xuICBpbml0RGF0YVN0YXRlKFwid3JpdGVcIiwgZS5kYXRhLCBhIHx8IG51bGwpO1xuICB2YXIgbiA9IHN0YXJ0V3JpdGUoZSwgciwgdCwgaSk7XG4gIGNsZWFyRGF0YVN0YXRlKCk7XG4gIHJldHVybiBuO1xufTtcblxudmFyIHN0YXJ0V3JpdGUgPSAoZSwgciwgdCwgaSwgYSkgPT4ge1xuICB2YXIgbiA9IGdldE1haW5PcGVyYXRpb24oci5xdWVyeSk7XG4gIHZhciBvID0ge1xuICAgIGRhdGE6IHQsXG4gICAgZGVwZW5kZW5jaWVzOiBnZXRDdXJyZW50RGVwZW5kZW5jaWVzKClcbiAgfTtcbiAgdmFyIHMgPSBlLnJvb3RGaWVsZHNbbi5vcGVyYXRpb25dO1xuICB2YXIgdiA9IG1ha2VDb250ZXh0KGUsIG5vcm1hbGl6ZVZhcmlhYmxlcyhuLCByLnZhcmlhYmxlcyksIGdldEZyYWdtZW50cyhyLnF1ZXJ5KSwgcywgcywgISFhLCBpKTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHB1c2hEZWJ1Z05vZGUocywgbik7XG4gIH1cbiAgd3JpdGVTZWxlY3Rpb24odiwgcywgZ2V0U2VsZWN0aW9uU2V0KG4pLCB0KTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHBvcERlYnVnTm9kZSgpO1xuICB9XG4gIHJldHVybiBvO1xufTtcblxudmFyIHdyaXRlU2VsZWN0aW9uID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgdmFyIGEgPSByID09PSBlLnN0b3JlLnJvb3RGaWVsZHMucXVlcnk7XG4gIHZhciBuID0gIWEgJiYgISFlLnN0b3JlLnJvb3ROYW1lc1tyXTtcbiAgdmFyIG8gPSBuIHx8IGEgPyByIDogaS5fX3R5cGVuYW1lO1xuICBpZiAoIW8pIHtcbiAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgd2FybihcIkNvdWxkbid0IGZpbmQgX190eXBlbmFtZSB3aGVuIHdyaXRpbmcuXFxuSWYgeW91J3JlIHdyaXRpbmcgdG8gdGhlIGNhY2hlIG1hbnVhbGx5IGhhdmUgdG8gcGFzcyBhIGBfX3R5cGVuYW1lYCBwcm9wZXJ0eSBvbiBlYWNoIGVudGl0eSBpbiB5b3VyIGRhdGEuXCIsIDE0KTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoIW4gJiYgIWEgJiYgcikge1xuICAgIHdyaXRlUmVjb3JkKHIsIFwiX190eXBlbmFtZVwiLCBvKTtcbiAgfVxuICB2YXIgcyA9IG1ha2VTZWxlY3Rpb25JdGVyYXRvcihvLCByIHx8IG8sIHQsIGUpO1xuICB2YXIgdjtcbiAgd2hpbGUgKHYgPSBzKCkpIHtcbiAgICB2YXIgbCA9IGdldE5hbWUodik7XG4gICAgdmFyIHUgPSBnZXRGaWVsZEFyZ3VtZW50cyh2LCBlLnZhcmlhYmxlcyk7XG4gICAgdmFyIGQgPSBrZXlPZkZpZWxkKGwsIHUpO1xuICAgIHZhciBwID0gZ2V0RmllbGRBbGlhcyh2KTtcbiAgICB2YXIgYyA9IGlbZS5vcHRpbWlzdGljID8gbCA6IHBdO1xuICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIGlmICghbiAmJiB2b2lkIDAgPT09IGMgJiYgIXEuY3VycmVudCAmJiAhZS5vcHRpbWlzdGljKSB7XG4gICAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiB3YXJuKFwiSW52YWxpZCB1bmRlZmluZWQ6IFRoZSBmaWVsZCBhdCBgXCIgKyBkICsgXCJgIGlzIGB1bmRlZmluZWRgLCBidXQgdGhlIEdyYXBoUUwgcXVlcnkgZXhwZWN0cyBhIFwiICsgKHZvaWQgMCA9PT0gdi5zZWxlY3Rpb25TZXQgPyBcInNjYWxhciAobnVtYmVyLCBib29sZWFuLCBldGMpXCIgOiBcInNlbGVjdGlvbiBzZXRcIikgKyBcIiBmb3IgdGhpcyBmaWVsZC5cIiwgMTMpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoZS5zdG9yZS5zY2hlbWEgJiYgbyAmJiBcIl9fdHlwZW5hbWVcIiAhPT0gbCkge1xuICAgICAgICBpc0ZpZWxkQXZhaWxhYmxlT25UeXBlKGUuc3RvcmUuc2NoZW1hLCBvLCBsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwiX190eXBlbmFtZVwiID09PSBsIHx8IHZvaWQgMCA9PT0gYyAmJiAocS5jdXJyZW50IHx8IGUub3B0aW1pc3RpYyAmJiAhbikpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBlLl9faW50ZXJuYWwucGF0aC5wdXNoKHApO1xuICAgIHZhciBmID0gdm9pZCAwO1xuICAgIGlmIChlLm9wdGltaXN0aWMgJiYgbikge1xuICAgICAgaWYgKCEoZiA9IGUuc3RvcmUub3B0aW1pc3RpY011dGF0aW9uc1tsXSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlLm9wdGltaXN0aWMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjKSB7XG4gICAgICBmID0gYztcbiAgICB9XG4gICAgaWYgKGYpIHtcbiAgICAgIHVwZGF0ZUNvbnRleHQoZSwgaSwgbywgbywgZCwgbCk7XG4gICAgICBjID0gZW5zdXJlRGF0YShmKHUgfHwge30sIGUuc3RvcmUsIGUpKTtcbiAgICB9XG4gICAgaWYgKHYuc2VsZWN0aW9uU2V0KSB7XG4gICAgICBpZiAociAmJiAhbikge1xuICAgICAgICB2YXIgeSA9IGpvaW5LZXlzKHIsIGQpO1xuICAgICAgICB2YXIgaCA9IHdyaXRlRmllbGQoZSwgZ2V0U2VsZWN0aW9uU2V0KHYpLCBlbnN1cmVEYXRhKGMpLCB5KTtcbiAgICAgICAgd3JpdGVMaW5rKHIgfHwgbywgZCwgaCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cml0ZUZpZWxkKGUsIGdldFNlbGVjdGlvblNldCh2KSwgZW5zdXJlRGF0YShjKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyICYmICFuKSB7XG4gICAgICB3cml0ZVJlY29yZChyIHx8IG8sIGQsIG51bGwgIT09IGMgfHwgIWdldEZpZWxkRXJyb3IoZSkgPyBjIDogdm9pZCAwKTtcbiAgICB9XG4gICAgaWYgKG4pIHtcbiAgICAgIHZhciBtID0gZS5zdG9yZS51cGRhdGVzW29dW2xdO1xuICAgICAgaWYgKG0pIHtcbiAgICAgICAgdXBkYXRlQ29udGV4dChlLCBpLCBvLCBvLCBqb2luS2V5cyhvLCBkKSwgbCk7XG4gICAgICAgIGlbbF0gPSBjO1xuICAgICAgICBtKGksIHUgfHwge30sIGUuc3RvcmUsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBlLl9faW50ZXJuYWwucGF0aC5wb3AoKTtcbiAgfVxufTtcblxudmFyIFYgPSAvXl9ffFBhZ2VJbmZvfChDb25uZWN0aW9ufEVkZ2UpJC87XG5cbnZhciB3cml0ZUZpZWxkID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICB2YXIgYSA9IG5ldyBBcnJheSh0Lmxlbmd0aCk7XG4gICAgZm9yICh2YXIgbiA9IDAsIG8gPSB0Lmxlbmd0aDsgbiA8IG87IG4rKykge1xuICAgICAgZS5fX2ludGVybmFsLnBhdGgucHVzaChuKTtcbiAgICAgIHZhciBzID0gaSA/IGpvaW5LZXlzKGksIGAke259YCkgOiB2b2lkIDA7XG4gICAgICB2YXIgdiA9IHdyaXRlRmllbGQoZSwgciwgdFtuXSwgcyk7XG4gICAgICBhW25dID0gdjtcbiAgICAgIGUuX19pbnRlcm5hbC5wYXRoLnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gYTtcbiAgfSBlbHNlIGlmIChudWxsID09PSB0KSB7XG4gICAgcmV0dXJuIGdldEZpZWxkRXJyb3IoZSkgPyB2b2lkIDAgOiBudWxsO1xuICB9XG4gIHZhciBsID0gZS5zdG9yZS5rZXlPZkVudGl0eSh0KTtcbiAgdmFyIHUgPSB0Ll9fdHlwZW5hbWU7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBpZiAoaSAmJiAhZS5zdG9yZS5rZXlzW3QuX190eXBlbmFtZV0gJiYgbnVsbCA9PT0gbCAmJiBcInN0cmluZ1wiID09IHR5cGVvZiB1ICYmICFWLnRlc3QodSkpIHtcbiAgICAgIHdhcm4oXCJJbnZhbGlkIGtleTogVGhlIEdyYXBoUUwgcXVlcnkgYXQgdGhlIGZpZWxkIGF0IGBcIiArIGkgKyBcImAgaGFzIGEgc2VsZWN0aW9uIHNldCwgYnV0IG5vIGtleSBjb3VsZCBiZSBnZW5lcmF0ZWQgZm9yIHRoZSBkYXRhIGF0IHRoaXMgZmllbGQuXFxuWW91IGhhdmUgdG8gcmVxdWVzdCBgaWRgIG9yIGBfaWRgIGZpZWxkcyBmb3IgYWxsIHNlbGVjdGlvbiBzZXRzIG9yIGNyZWF0ZSBhIGN1c3RvbSBga2V5c2AgY29uZmlnIGZvciBgXCIgKyB1ICsgXCJgLlxcbkVudGl0aWVzIHdpdGhvdXQga2V5cyB3aWxsIGJlIGVtYmVkZGVkIGRpcmVjdGx5IG9uIHRoZSBwYXJlbnQgZW50aXR5LiBJZiB0aGlzIGlzIGludGVudGlvbmFsLCBjcmVhdGUgYSBga2V5c2AgY29uZmlnIGZvciBgXCIgKyB1ICsgXCJgIHRoYXQgYWx3YXlzIHJldHVybnMgbnVsbC5cIiwgMTUpO1xuICAgIH1cbiAgfVxuICB2YXIgZCA9IGwgfHwgaTtcbiAgd3JpdGVTZWxlY3Rpb24oZSwgZCwgciwgdCk7XG4gIHJldHVybiBkIHx8IG51bGw7XG59O1xuXG5jbGFzcyBTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBTdG9yZS5wcm90b3R5cGUuX19pbml0LmNhbGwodGhpcyk7XG4gICAgU3RvcmUucHJvdG90eXBlLl9faW5pdDIuY2FsbCh0aGlzKTtcbiAgICBpZiAoIWUpIHtcbiAgICAgIGUgPSB7fTtcbiAgICB9XG4gICAgdGhpcy5yZXNvbHZlcnMgPSBlLnJlc29sdmVycyB8fCB7fTtcbiAgICB0aGlzLm9wdGltaXN0aWNNdXRhdGlvbnMgPSBlLm9wdGltaXN0aWMgfHwge307XG4gICAgdGhpcy5rZXlzID0gZS5rZXlzIHx8IHt9O1xuICAgIHZhciByID0gXCJRdWVyeVwiO1xuICAgIHZhciB0ID0gXCJNdXRhdGlvblwiO1xuICAgIHZhciBpID0gXCJTdWJzY3JpcHRpb25cIjtcbiAgICBpZiAoZS5zY2hlbWEpIHtcbiAgICAgIHZhciBhID0gKCh7X19zY2hlbWE6IGV9KSA9PiB7XG4gICAgICAgIHZhciByID0gbmV3IE1hcDtcbiAgICAgICAgdmFyIGJ1aWxkTmFtZU1hcCA9IGUgPT4ge1xuICAgICAgICAgIHZhciByO1xuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgciA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgICAgICByW2VbdF0ubmFtZV0gPSBlW3RdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgYnVpbGRUeXBlID0gZSA9PiB7XG4gICAgICAgICAgc3dpdGNoIChlLmtpbmQpIHtcbiAgICAgICAgICAgY2FzZSBcIk9CSkVDVFwiOlxuICAgICAgICAgICBjYXNlIFwiSU5URVJGQUNFXCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBuYW1lOiBlLm5hbWUsXG4gICAgICAgICAgICAgIGtpbmQ6IGUua2luZCxcbiAgICAgICAgICAgICAgaW50ZXJmYWNlczogYnVpbGROYW1lTWFwKGUuaW50ZXJmYWNlcyB8fCBbXSksXG4gICAgICAgICAgICAgIGZpZWxkczogYnVpbGROYW1lTWFwKGUuZmllbGRzLm1hcCgoZSA9PiAoe1xuICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBlLnR5cGUsXG4gICAgICAgICAgICAgICAgYXJnczogYnVpbGROYW1lTWFwKGUuYXJncylcbiAgICAgICAgICAgICAgfSkpKSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgY2FzZSBcIlVOSU9OXCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBuYW1lOiBlLm5hbWUsXG4gICAgICAgICAgICAgIGtpbmQ6IGUua2luZCxcbiAgICAgICAgICAgICAgdHlwZXM6IGJ1aWxkTmFtZU1hcChlLnBvc3NpYmxlVHlwZXMgfHwgW10pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHQgPSB7XG4gICAgICAgICAgcXVlcnk6IGUucXVlcnlUeXBlID8gZS5xdWVyeVR5cGUubmFtZSA6IG51bGwsXG4gICAgICAgICAgbXV0YXRpb246IGUubXV0YXRpb25UeXBlID8gZS5tdXRhdGlvblR5cGUubmFtZSA6IG51bGwsXG4gICAgICAgICAgc3Vic2NyaXB0aW9uOiBlLnN1YnNjcmlwdGlvblR5cGUgPyBlLnN1YnNjcmlwdGlvblR5cGUubmFtZSA6IG51bGwsXG4gICAgICAgICAgdHlwZXM6IHZvaWQgMCxcbiAgICAgICAgICBpc1N1YlR5cGUoZSwgdCkge1xuICAgICAgICAgICAgdmFyIGkgPSByLmdldChlKTtcbiAgICAgICAgICAgIHZhciBhID0gci5nZXQodCk7XG4gICAgICAgICAgICBpZiAoIWkgfHwgIWEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcIlVOSU9OXCIgPT09IGkua2luZCkge1xuICAgICAgICAgICAgICByZXR1cm4gISFpLnR5cGVzKClbdF07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFwiT0JKRUNUXCIgIT09IGkua2luZCAmJiBcIk9CSkVDVFwiID09PSBhLmtpbmQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICEhYS5pbnRlcmZhY2VzKClbZV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gZSA9PT0gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChlLnR5cGVzKSB7XG4gICAgICAgICAgdC50eXBlcyA9IHI7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlLnR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGUudHlwZXNbaV07XG4gICAgICAgICAgICBpZiAoYSAmJiBhLm5hbWUpIHtcbiAgICAgICAgICAgICAgdmFyIG4gPSBidWlsZFR5cGUoYSk7XG4gICAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgci5zZXQoYS5uYW1lLCBuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICAgIH0pKGUuc2NoZW1hKTtcbiAgICAgIHIgPSBhLnF1ZXJ5IHx8IHI7XG4gICAgICB0ID0gYS5tdXRhdGlvbiB8fCB0O1xuICAgICAgaSA9IGEuc3Vic2NyaXB0aW9uIHx8IGk7XG4gICAgICBpZiAoYS50eXBlcykge1xuICAgICAgICB0aGlzLnNjaGVtYSA9IGE7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudXBkYXRlcyA9IHtcbiAgICAgIFt0XTogZS51cGRhdGVzICYmIGUudXBkYXRlcy5NdXRhdGlvbiB8fCB7fSxcbiAgICAgIFtpXTogZS51cGRhdGVzICYmIGUudXBkYXRlcy5TdWJzY3JpcHRpb24gfHwge31cbiAgICB9O1xuICAgIHRoaXMucm9vdEZpZWxkcyA9IHtcbiAgICAgIHF1ZXJ5OiByLFxuICAgICAgbXV0YXRpb246IHQsXG4gICAgICBzdWJzY3JpcHRpb246IGlcbiAgICB9O1xuICAgIHRoaXMucm9vdE5hbWVzID0ge1xuICAgICAgW3JdOiBcInF1ZXJ5XCIsXG4gICAgICBbdF06IFwibXV0YXRpb25cIixcbiAgICAgIFtpXTogXCJzdWJzY3JpcHRpb25cIlxuICAgIH07XG4gICAgdGhpcy5kYXRhID0gKG4gPSByLCB7XG4gICAgICBkZWZlcjogITEsXG4gICAgICBnYzogbmV3IFNldCxcbiAgICAgIHBlcnNpc3Q6IG5ldyBTZXQsXG4gICAgICBxdWVyeVJvb3RLZXk6IG4sXG4gICAgICByZWZDb3VudDogbmV3IE1hcCxcbiAgICAgIHJlZkxvY2s6IG5ldyBNYXAsXG4gICAgICBsaW5rczoge1xuICAgICAgICBvcHRpbWlzdGljOiBuZXcgTWFwLFxuICAgICAgICBiYXNlOiBuZXcgTWFwXG4gICAgICB9LFxuICAgICAgcmVjb3Jkczoge1xuICAgICAgICBvcHRpbWlzdGljOiBuZXcgTWFwLFxuICAgICAgICBiYXNlOiBuZXcgTWFwXG4gICAgICB9LFxuICAgICAgZGVmZXJyZWRLZXlzOiBuZXcgU2V0LFxuICAgICAgY29tbXV0YXRpdmVLZXlzOiBuZXcgU2V0LFxuICAgICAgb3B0aW1pc3RpY09yZGVyOiBbXSxcbiAgICAgIHN0b3JhZ2U6IG51bGxcbiAgICB9KTtcbiAgICB2YXIgbjtcbiAgICBpZiAodGhpcy5zY2hlbWEgJiYgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAhZnVuY3Rpb24gZXhwZWN0VmFsaWRLZXlpbmdDb25maWcoZSwgcikge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgZm9yICh2YXIgdCBpbiByKSB7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgICAgIGlmICghZS50eXBlcy5oYXModCkpIHtcbiAgICAgICAgICAgICAgICB3YXJuKFwiSW52YWxpZCBPYmplY3QgdHlwZTogVGhlIHR5cGUgYFwiICsgdCArIFwiYCBpcyBub3QgYW4gb2JqZWN0IGluIHRoZSBkZWZpbmVkIHNjaGVtYSwgYnV0IHRoZSBga2V5c2Agb3B0aW9uIGlzIHJlZmVyZW5jaW5nIGl0LlwiLCAyMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0odGhpcy5zY2hlbWEsIHRoaXMua2V5cyk7XG4gICAgICAhZnVuY3Rpb24gZXhwZWN0VmFsaWRVcGRhdGVzQ29uZmlnKGUsIHIpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiID09PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5tdXRhdGlvbikge1xuICAgICAgICAgIHZhciB0ID0gZS50eXBlcy5nZXQoZS5tdXRhdGlvbikuZmllbGRzKCk7XG4gICAgICAgICAgdmFyIGkgPSByW2UubXV0YXRpb25dIHx8IHt9O1xuICAgICAgICAgIGZvciAodmFyIGEgaW4gaSkge1xuICAgICAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSB0W2FdKSB7XG4gICAgICAgICAgICAgICAgd2FybihcIkludmFsaWQgbXV0YXRpb24gZmllbGQ6IGBcIiArIGEgKyBcImAgaXMgbm90IGluIHRoZSBkZWZpbmVkIHNjaGVtYSwgYnV0IHRoZSBgdXBkYXRlcy5NdXRhdGlvbmAgb3B0aW9uIGlzIHJlZmVyZW5jaW5nIGl0LlwiLCAyMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUuc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgdmFyIG4gPSBlLnR5cGVzLmdldChlLnN1YnNjcmlwdGlvbikuZmllbGRzKCk7XG4gICAgICAgICAgdmFyIG8gPSByW2Uuc3Vic2NyaXB0aW9uXSB8fCB7fTtcbiAgICAgICAgICBmb3IgKHZhciBzIGluIG8pIHtcbiAgICAgICAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gbltzXSkge1xuICAgICAgICAgICAgICAgIHdhcm4oXCJJbnZhbGlkIHN1YnNjcmlwdGlvbiBmaWVsZDogYFwiICsgcyArIFwiYCBpcyBub3QgaW4gdGhlIGRlZmluZWQgc2NoZW1hLCBidXQgdGhlIGB1cGRhdGVzLlN1YnNjcmlwdGlvbmAgb3B0aW9uIGlzIHJlZmVyZW5jaW5nIGl0LlwiLCAyMik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0odGhpcy5zY2hlbWEsIHRoaXMudXBkYXRlcyk7XG4gICAgICAhZnVuY3Rpb24gZXhwZWN0VmFsaWRSZXNvbHZlcnNDb25maWcoZSwgcikge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgPT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHQgaW4gcikge1xuICAgICAgICAgIGlmIChcIlF1ZXJ5XCIgPT09IHQpIHtcbiAgICAgICAgICAgIGlmIChlLnF1ZXJ5KSB7XG4gICAgICAgICAgICAgIHZhciBpID0gZS50eXBlcy5nZXQoZS5xdWVyeSkuZmllbGRzKCk7XG4gICAgICAgICAgICAgIGZvciAodmFyIGEgaW4gci5RdWVyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaVthXSkge1xuICAgICAgICAgICAgICAgICAgd2FybkFib3V0UmVzb2x2ZXIoXCJRdWVyeS5cIiArIGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgd2FybkFib3V0UmVzb2x2ZXIoXCJRdWVyeVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKCFlLnR5cGVzLmhhcyh0KSkge1xuICAgICAgICAgICAgd2FybkFib3V0UmVzb2x2ZXIodCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcIklOVEVSRkFDRVwiID09PSBlLnR5cGVzLmdldCh0KS5raW5kIHx8IFwiVU5JT05cIiA9PT0gZS50eXBlcy5nZXQodCkua2luZCkge1xuICAgICAgICAgICAgcyA9IHQsIHYgPSBlLnR5cGVzLmdldCh0KS5raW5kLCBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgd2FybihgSW52YWxpZCByZXNvbHZlcjogXFxgJHtzfVxcYCBkb2VzIG5vdCBtYXRjaCB0byBhIGNvbmNyZXRlIHR5cGUgaW4gdGhlIHNjaGVtYSwgYnV0IHRoZSBcXGByZXNvbHZlcnNcXGAgb3B0aW9uIGlzIHJlZmVyZW5jaW5nIGl0LiBJbXBsZW1lbnQgdGhlIHJlc29sdmVyIGZvciB0aGUgdHlwZXMgdGhhdCAke1wiVU5JT05cIiA9PT0gdiA/IFwibWFrZSB1cCB0aGUgdW5pb25cIiA6IFwiaW1wbGVtZW50IHRoZSBpbnRlcmZhY2VcIn0gaW5zdGVhZC5gLCAyNik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuID0gZS50eXBlcy5nZXQodCkuZmllbGRzKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBvIGluIHJbdF0pIHtcbiAgICAgICAgICAgICAgaWYgKCFuW29dKSB7XG4gICAgICAgICAgICAgICAgd2FybkFib3V0UmVzb2x2ZXIodCArIFwiLlwiICsgbyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHMsIHY7XG4gICAgICB9KHRoaXMuc2NoZW1hLCB0aGlzLnJlc29sdmVycyk7XG4gICAgICAhZnVuY3Rpb24gZXhwZWN0VmFsaWRPcHRpbWlzdGljTXV0YXRpb25zQ29uZmlnKGUsIHIpIHtcbiAgICAgICAgaWYgKFwicHJvZHVjdGlvblwiID09PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5tdXRhdGlvbikge1xuICAgICAgICAgIHZhciB0ID0gZS50eXBlcy5nZXQoZS5tdXRhdGlvbikuZmllbGRzKCk7XG4gICAgICAgICAgZm9yICh2YXIgaSBpbiByKSB7XG4gICAgICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgICAgIGlmICghdFtpXSkge1xuICAgICAgICAgICAgICAgIHdhcm4oYEludmFsaWQgb3B0aW1pc3RpYyBtdXRhdGlvbiBmaWVsZDogXFxgJHtpfVxcYCBpcyBub3QgYSBtdXRhdGlvbiBmaWVsZCBpbiB0aGUgZGVmaW5lZCBzY2hlbWEsIGJ1dCB0aGUgXFxgb3B0aW1pc3RpY1xcYCBvcHRpb24gaXMgcmVmZXJlbmNpbmcgaXQuYCwgMjQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KHRoaXMuc2NoZW1hLCB0aGlzLm9wdGltaXN0aWNNdXRhdGlvbnMpO1xuICAgIH1cbiAgfVxuICBfX2luaXQoKSB7XG4gICAgdGhpcy5rZXlPZkZpZWxkID0ga2V5T2ZGaWVsZDtcbiAgfVxuICBrZXlPZkVudGl0eShlKSB7XG4gICAgaWYgKEQuY3VycmVudCAmJiBlID09PSBELmN1cnJlbnQucGFyZW50KSB7XG4gICAgICByZXR1cm4gRC5jdXJyZW50LnBhcmVudEtleTtcbiAgICB9XG4gICAgaWYgKG51bGwgPT0gZSB8fCBcInN0cmluZ1wiID09IHR5cGVvZiBlKSB7XG4gICAgICByZXR1cm4gZSB8fCBudWxsO1xuICAgIH1cbiAgICBpZiAoIWUuX190eXBlbmFtZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLnJvb3ROYW1lc1tlLl9fdHlwZW5hbWVdKSB7XG4gICAgICByZXR1cm4gZS5fX3R5cGVuYW1lO1xuICAgIH1cbiAgICB2YXIgcjtcbiAgICBpZiAodGhpcy5rZXlzW2UuX190eXBlbmFtZV0pIHtcbiAgICAgIHIgPSB0aGlzLmtleXNbZS5fX3R5cGVuYW1lXShlKTtcbiAgICB9IGVsc2UgaWYgKG51bGwgIT0gZS5pZCkge1xuICAgICAgciA9IGAke2UuaWR9YDtcbiAgICB9IGVsc2UgaWYgKG51bGwgIT0gZS5faWQpIHtcbiAgICAgIHIgPSBgJHtlLl9pZH1gO1xuICAgIH1cbiAgICByZXR1cm4gciA/IGAke2UuX190eXBlbmFtZX06JHtyfWAgOiBudWxsO1xuICB9XG4gIHJlc29sdmUoZSwgciwgdCkge1xuICAgIHZhciBpID0ga2V5T2ZGaWVsZChyLCB0KTtcbiAgICB2YXIgYSA9IHRoaXMua2V5T2ZFbnRpdHkoZSk7XG4gICAgaWYgKCFhKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG4gPSByZWFkUmVjb3JkKGEsIGkpO1xuICAgIGlmICh2b2lkIDAgIT09IG4pIHtcbiAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICByZXR1cm4gcmVhZExpbmsoYSwgaSkgfHwgbnVsbDtcbiAgfVxuICBfX2luaXQyKCkge1xuICAgIHRoaXMucmVzb2x2ZUZpZWxkQnlLZXkgPSB0aGlzLnJlc29sdmU7XG4gIH1cbiAgaW52YWxpZGF0ZShlLCByLCB0KSB7XG4gICAgdmFyIGkgPSB0aGlzLmtleU9mRW50aXR5KGUpO1xuICAgIGludmFyaWFudChpLCBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPyBcIkNhbid0IGdlbmVyYXRlIGEga2V5IGZvciBpbnZhbGlkYXRlKC4uLikuXFxuWW91IGhhdmUgdG8gcGFzcyBhbiBpZCBvciBfaWQgZmllbGQgb3IgY3JlYXRlIGEgY3VzdG9tIGBrZXlzYCBmaWVsZCBmb3IgYFwiICsgdHlwZW9mIGUgPT0gXCJvYmplY3RcIiA/IGUuX190eXBlbmFtZSA6IGUgKyBcImAuXCIgOiBcIlwiLCAxOSk7XG4gICAgKChlLCByLCB0KSA9PiB7XG4gICAgICB2YXIgaSA9IHIgPyBbIHtcbiAgICAgICAgZmllbGRLZXk6IGtleU9mRmllbGQociwgdClcbiAgICAgIH0gXSA6IGluc3BlY3RGaWVsZHMoZSk7XG4gICAgICBmb3IgKHZhciBhID0gMCwgbiA9IGkubGVuZ3RoOyBhIDwgbjsgYSsrKSB7XG4gICAgICAgIHZhciB7ZmllbGRLZXk6IG99ID0gaVthXTtcbiAgICAgICAgaWYgKHZvaWQgMCAhPT0gcmVhZExpbmsoZSwgbykpIHtcbiAgICAgICAgICB3cml0ZUxpbmsoZSwgbywgdm9pZCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3cml0ZVJlY29yZChlLCBvLCB2b2lkIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkoaSwgciwgdCk7XG4gIH1cbiAgaW5zcGVjdEZpZWxkcyhlKSB7XG4gICAgdmFyIHIgPSB0aGlzLmtleU9mRW50aXR5KGUpO1xuICAgIHJldHVybiByID8gaW5zcGVjdEZpZWxkcyhyKSA6IFtdO1xuICB9XG4gIHVwZGF0ZVF1ZXJ5KGUsIGkpIHtcbiAgICB2YXIgYSA9IHIoZS5xdWVyeSwgZS52YXJpYWJsZXMpO1xuICAgIGEucXVlcnkgPSB0KGEucXVlcnkpO1xuICAgIHZhciBuID0gaSh0aGlzLnJlYWRRdWVyeShhKSk7XG4gICAgaWYgKG51bGwgIT09IG4pIHtcbiAgICAgIHN0YXJ0V3JpdGUodGhpcywgYSwgbik7XG4gICAgfVxuICB9XG4gIHJlYWRRdWVyeShlKSB7XG4gICAgdmFyIGkgPSByKGUucXVlcnksIGUudmFyaWFibGVzKTtcbiAgICBpLnF1ZXJ5ID0gdChpLnF1ZXJ5KTtcbiAgICByZXR1cm4gcmVhZCh0aGlzLCBpKS5kYXRhO1xuICB9XG4gIHJlYWRGcmFnbWVudChlLCByLCBpLCBhKSB7XG4gICAgcmV0dXJuIHJlYWRGcmFnbWVudCh0aGlzLCB0KGUpLCByLCBpLCBhKTtcbiAgfVxuICB3cml0ZUZyYWdtZW50KGUsIHIsIGksIGEpIHtcbiAgICAoKGUsIHIsIHQsIGksIGEpID0+IHtcbiAgICAgIHZhciBuID0gZ2V0RnJhZ21lbnRzKHIpO1xuICAgICAgdmFyIG87XG4gICAgICBpZiAoYSkge1xuICAgICAgICBpZiAoIShvID0gblthXSkpIHtcbiAgICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgd2FybihcIndyaXRlRnJhZ21lbnQoLi4uKSB3YXMgY2FsbGVkIHdpdGggYSBmcmFnbWVudCBuYW1lIHRoYXQgZG9lcyBub3QgZXhpc3QuXFxuWW91IHByb3ZpZGVkIFwiICsgYSArIFwiIGJ1dCBjb3VsZCBvbmx5IGZpbmQgXCIgKyBPYmplY3Qua2V5cyhuKS5qb2luKFwiLCBcIikgKyBcIi5cIiwgMTEpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEobyA9IG5bT2JqZWN0LmtleXMobilbMF1dKSkge1xuICAgICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgd2FybihcIndyaXRlRnJhZ21lbnQoLi4uKSB3YXMgY2FsbGVkIHdpdGggYW4gZW1wdHkgZnJhZ21lbnQuXFxuWW91IGhhdmUgdG8gY2FsbCBpdCB3aXRoIGF0IGxlYXN0IG9uZSBmcmFnbWVudCBpbiB5b3VyIEdyYXBoUUwgZG9jdW1lbnQuXCIsIDExKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgcyA9IGdldEZyYWdtZW50VHlwZU5hbWUobyk7XG4gICAgICB2YXIgdiA9IHtcbiAgICAgICAgX190eXBlbmFtZTogcyxcbiAgICAgICAgLi4udFxuICAgICAgfTtcbiAgICAgIHZhciBsID0gZS5rZXlPZkVudGl0eSh2KTtcbiAgICAgIGlmICghbCkge1xuICAgICAgICByZXR1cm4gXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WID8gd2FybihcIkNhbid0IGdlbmVyYXRlIGEga2V5IGZvciB3cml0ZUZyYWdtZW50KC4uLikgZGF0YS5cXG5Zb3UgaGF2ZSB0byBwYXNzIGFuIGBpZGAgb3IgYF9pZGAgZmllbGQgb3IgY3JlYXRlIGEgY3VzdG9tIGBrZXlzYCBjb25maWcgZm9yIGBcIiArIHMgKyBcImAuXCIsIDEyKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgICAgcHVzaERlYnVnTm9kZShzLCBvKTtcbiAgICAgIH1cbiAgICAgIHZhciB1ID0gbWFrZUNvbnRleHQoZSwgaSB8fCB7fSwgbiwgcywgbCwgdm9pZCAwKTtcbiAgICAgIHdyaXRlU2VsZWN0aW9uKHUsIGwsIGdldFNlbGVjdGlvblNldChvKSwgdik7XG4gICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgIHBvcERlYnVnTm9kZSgpO1xuICAgICAgfVxuICAgIH0pKHRoaXMsIHQoZSksIHIsIGksIGEpO1xuICB9XG4gIGxpbmsoZSwgciwgdCwgaSkge1xuICAgIHZhciBhID0gdm9pZCAwICE9PSBpID8gdCA6IG51bGw7XG4gICAgdmFyIG4gPSB2b2lkIDAgIT09IGkgPyBpIDogdDtcbiAgICB2YXIgbyA9IGVuc3VyZUxpbmsodGhpcywgZSk7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIG8pIHtcbiAgICAgIHdyaXRlTGluayhvLCBrZXlPZkZpZWxkKHIsIGEpLCBlbnN1cmVMaW5rKHRoaXMsIG4pKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHF1ZXJ5ID0gKGUsIHIsIHQsIGksIGEpID0+IHtcbiAgaW5pdERhdGFTdGF0ZShcInJlYWRcIiwgZS5kYXRhLCBhKTtcbiAgdmFyIG4gPSByZWFkKGUsIHIsIHQsIGkpO1xuICBjbGVhckRhdGFTdGF0ZSgpO1xuICByZXR1cm4gbjtcbn07XG5cbnZhciByZWFkID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgdmFyIGEgPSBnZXRNYWluT3BlcmF0aW9uKHIucXVlcnkpO1xuICB2YXIgbiA9IGUucm9vdEZpZWxkc1thLm9wZXJhdGlvbl07XG4gIHZhciBvID0gZ2V0U2VsZWN0aW9uU2V0KGEpO1xuICB2YXIgcyA9IG1ha2VDb250ZXh0KGUsIG5vcm1hbGl6ZVZhcmlhYmxlcyhhLCByLnZhcmlhYmxlcyksIGdldEZyYWdtZW50cyhyLnF1ZXJ5KSwgbiwgbiwgITEsIGkpO1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgcHVzaERlYnVnTm9kZShuLCBhKTtcbiAgfVxuICBpZiAoIXQpIHtcbiAgICB0ID0gbWFrZURhdGEoKTtcbiAgfVxuICB2YXIgdiA9IG4gIT09IHMuc3RvcmUucm9vdEZpZWxkcy5xdWVyeSA/IHJlYWRSb290KHMsIG4sIG8sIHQpIDogcmVhZFNlbGVjdGlvbihzLCBuLCBvLCB0KTtcbiAgaWYgKFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuICAgIHBvcERlYnVnTm9kZSgpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGVwZW5kZW5jaWVzOiBnZXRDdXJyZW50RGVwZW5kZW5jaWVzKCksXG4gICAgcGFydGlhbDogcy5wYXJ0aWFsIHx8ICF2LFxuICAgIGRhdGE6IHYgfHwgbnVsbFxuICB9O1xufTtcblxudmFyIHJlYWRSb290ID0gKGUsIHIsIHQsIGkpID0+IHtcbiAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIChlLnN0b3JlLnJvb3ROYW1lc1tyXSA/IHIgOiBpLl9fdHlwZW5hbWUpKSB7XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgdmFyIGEgPSBtYWtlU2VsZWN0aW9uSXRlcmF0b3IociwgciwgdCwgZSk7XG4gIHZhciBuO1xuICB2YXIgbyA9ICExO1xuICB2YXIgcyA9IG1ha2VEYXRhKGkpO1xuICB3aGlsZSAobiA9IGEoKSkge1xuICAgIHZhciB2ID0gZ2V0RmllbGRBbGlhcyhuKTtcbiAgICB2YXIgbCA9IGlbdl07XG4gICAgZS5fX2ludGVybmFsLnBhdGgucHVzaCh2KTtcbiAgICB2YXIgdSA9IHZvaWQgMDtcbiAgICBpZiAobi5zZWxlY3Rpb25TZXQgJiYgbnVsbCAhPT0gbCkge1xuICAgICAgdSA9IHJlYWRSb290RmllbGQoZSwgZ2V0U2VsZWN0aW9uU2V0KG4pLCBlbnN1cmVEYXRhKGwpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdSA9IGw7XG4gICAgfVxuICAgIG8gPSBvIHx8IHUgIT09IGw7XG4gICAgaWYgKHZvaWQgMCAhPT0gdSkge1xuICAgICAgc1t2XSA9IHU7XG4gICAgfVxuICAgIGUuX19pbnRlcm5hbC5wYXRoLnBvcCgpO1xuICB9XG4gIHJldHVybiBvID8gcyA6IGk7XG59O1xuXG52YXIgcmVhZFJvb3RGaWVsZCA9IChlLCByLCB0KSA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KHQpKSB7XG4gICAgdmFyIGkgPSBuZXcgQXJyYXkodC5sZW5ndGgpO1xuICAgIHZhciBhID0gITE7XG4gICAgZm9yICh2YXIgbiA9IDAsIG8gPSB0Lmxlbmd0aDsgbiA8IG87IG4rKykge1xuICAgICAgZS5fX2ludGVybmFsLnBhdGgucHVzaChuKTtcbiAgICAgIGlbbl0gPSByZWFkUm9vdEZpZWxkKGUsIHIsIHRbbl0pO1xuICAgICAgYSA9IGEgfHwgaVtuXSAhPT0gdFtuXTtcbiAgICAgIGUuX19pbnRlcm5hbC5wYXRoLnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gYSA/IGkgOiB0O1xuICB9IGVsc2UgaWYgKG51bGwgPT09IHQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcyA9IGUuc3RvcmUua2V5T2ZFbnRpdHkodCk7XG4gIGlmIChudWxsICE9PSBzKSB7XG4gICAgcmV0dXJuIHJlYWRTZWxlY3Rpb24oZSwgcywgciwgdCkgfHwgbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVhZFJvb3QoZSwgdC5fX3R5cGVuYW1lLCByLCB0KTtcbiAgfVxufTtcblxudmFyIHJlYWRGcmFnbWVudCA9IChlLCByLCB0LCBpLCBhKSA9PiB7XG4gIHZhciBuID0gZ2V0RnJhZ21lbnRzKHIpO1xuICB2YXIgbztcbiAgaWYgKGEpIHtcbiAgICBpZiAoIShvID0gblthXSkpIHtcbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiB3YXJuKFwicmVhZEZyYWdtZW50KC4uLikgd2FzIGNhbGxlZCB3aXRoIGEgZnJhZ21lbnQgbmFtZSB0aGF0IGRvZXMgbm90IGV4aXN0LlxcbllvdSBwcm92aWRlZCBcIiArIGEgKyBcIiBidXQgY291bGQgb25seSBmaW5kIFwiICsgT2JqZWN0LmtleXMobikuam9pbihcIiwgXCIpICsgXCIuXCIsIDYpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghKG8gPSBuW09iamVjdC5rZXlzKG4pWzBdXSkpIHtcbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiB3YXJuKFwicmVhZEZyYWdtZW50KC4uLikgd2FzIGNhbGxlZCB3aXRoIGFuIGVtcHR5IGZyYWdtZW50LlxcbllvdSBoYXZlIHRvIGNhbGwgaXQgd2l0aCBhdCBsZWFzdCBvbmUgZnJhZ21lbnQgaW4geW91ciBHcmFwaFFMIGRvY3VtZW50LlwiLCA2KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICB2YXIgcyA9IGdldEZyYWdtZW50VHlwZU5hbWUobyk7XG4gIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiB0ICYmICF0Ll9fdHlwZW5hbWUpIHtcbiAgICB0Ll9fdHlwZW5hbWUgPSBzO1xuICB9XG4gIHZhciB2ID0gZS5rZXlPZkVudGl0eSh0KTtcbiAgaWYgKCF2KSB7XG4gICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHdhcm4oXCJDYW4ndCBnZW5lcmF0ZSBhIGtleSBmb3IgcmVhZEZyYWdtZW50KC4uLikuXFxuWW91IGhhdmUgdG8gcGFzcyBhbiBgaWRgIG9yIGBfaWRgIGZpZWxkIG9yIGNyZWF0ZSBhIGN1c3RvbSBga2V5c2AgY29uZmlnIGZvciBgXCIgKyBzICsgXCJgLlwiLCA3KTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgcHVzaERlYnVnTm9kZShzLCBvKTtcbiAgfVxuICB2YXIgbCA9IG1ha2VDb250ZXh0KGUsIGkgfHwge30sIG4sIHMsIHYpO1xuICB2YXIgdSA9IHJlYWRTZWxlY3Rpb24obCwgdiwgZ2V0U2VsZWN0aW9uU2V0KG8pLCBtYWtlRGF0YSgpKSB8fCBudWxsO1xuICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgcG9wRGVidWdOb2RlKCk7XG4gIH1cbiAgcmV0dXJuIHU7XG59O1xuXG52YXIgcmVhZFNlbGVjdGlvbiA9IChlLCByLCB0LCBpLCBhKSA9PiB7XG4gIHZhciB7c3RvcmU6IG59ID0gZTtcbiAgdmFyIG8gPSByID09PSBuLnJvb3RGaWVsZHMucXVlcnk7XG4gIHZhciBzID0gYSAmJiBuLmtleU9mRW50aXR5KGEpIHx8IHI7XG4gIGlmIChcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBpZiAoIW8gJiYgZS5zdG9yZS5yb290TmFtZXNbc10pIHtcbiAgICAgIHdhcm4oXCJJbnZhbGlkIHJvb3QgdHJhdmVyc2FsOiBBIHNlbGVjdGlvbiB3YXMgYmVpbmcgcmVhZCBvbiBgXCIgKyBzICsgXCJgIHdoaWNoIGlzIGFuIHVuY2FjaGVkIHJvb3QgdHlwZS5cXG5UaGUgYFwiICsgZS5zdG9yZS5yb290RmllbGRzLm11dGF0aW9uICsgXCJgIGFuZCBgXCIgKyBlLnN0b3JlLnJvb3RGaWVsZHMuc3Vic2NyaXB0aW9uICsgXCJgIHR5cGVzIGFyZSBzcGVjaWFsIE9wZXJhdGlvbiBSb290IFR5cGVzIGFuZCBjYW5ub3QgYmUgcmVhZCBiYWNrIGZyb20gdGhlIGNhY2hlLlwiLCAyNSk7XG4gICAgfVxuICB9XG4gIHZhciB2ID0gIW8gPyByZWFkUmVjb3JkKHMsIFwiX190eXBlbmFtZVwiKSB8fCBhICYmIGEuX190eXBlbmFtZSA6IHI7XG4gIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiB2KSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKGEgJiYgdiAhPT0gYS5fX3R5cGVuYW1lKSB7XG4gICAgXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIHdhcm4oXCJJbnZhbGlkIHJlc29sdmVyIGRhdGE6IFRoZSByZXNvbHZlciBhdCBgXCIgKyBzICsgXCJgIHJldHVybmVkIGFuIGludmFsaWQgdHlwZW5hbWUgdGhhdCBjb3VsZCBub3QgYmUgcmVjb25jaWxlZCB3aXRoIHRoZSBjYWNoZS5cIiwgOCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBsID0gbWFrZVNlbGVjdGlvbkl0ZXJhdG9yKHYsIHMsIHQsIGUpO1xuICB2YXIgdSA9ICExO1xuICB2YXIgZCA9ICExO1xuICB2YXIgcCA9IHYgIT09IGkuX190eXBlbmFtZTtcbiAgdmFyIGM7XG4gIHZhciBmID0gbWFrZURhdGEoaSk7XG4gIHdoaWxlICh2b2lkIDAgIT09IChjID0gbCgpKSkge1xuICAgIHZhciB5ID0gZ2V0TmFtZShjKTtcbiAgICB2YXIgaCA9IGdldEZpZWxkQXJndW1lbnRzKGMsIGUudmFyaWFibGVzKTtcbiAgICB2YXIgbSA9IGdldEZpZWxkQWxpYXMoYyk7XG4gICAgdmFyIGcgPSBrZXlPZkZpZWxkKHksIGgpO1xuICAgIHZhciBfID0gam9pbktleXMocywgZyk7XG4gICAgdmFyIE4gPSByZWFkUmVjb3JkKHMsIGcpO1xuICAgIHZhciBrID0gYSA/IGFbeV0gOiB2b2lkIDA7XG4gICAgdmFyIEUgPSBuLnJlc29sdmVyc1t2XTtcbiAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmIG4uc2NoZW1hICYmIHYpIHtcbiAgICAgIGlzRmllbGRBdmFpbGFibGVPblR5cGUobi5zY2hlbWEsIHYsIHkpO1xuICAgIH1cbiAgICBlLl9faW50ZXJuYWwucGF0aC5wdXNoKG0pO1xuICAgIHZhciBPID0gdm9pZCAwO1xuICAgIGlmIChcIl9fdHlwZW5hbWVcIiA9PT0geSkge1xuICAgICAgTyA9IHY7XG4gICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IGsgJiYgdm9pZCAwID09PSBjLnNlbGVjdGlvblNldCkge1xuICAgICAgTyA9IGs7XG4gICAgfSBlbHNlIGlmIChcInJlYWRcIiA9PT0gZ2V0Q3VycmVudE9wZXJhdGlvbigpICYmIEUgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBFW3ldKSB7XG4gICAgICB1cGRhdGVDb250ZXh0KGUsIGYsIHYsIHMsIF8sIHkpO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gTikge1xuICAgICAgICBmW21dID0gTjtcbiAgICAgIH1cbiAgICAgIE8gPSBFW3ldKGYsIGggfHwge30sIG4sIGUpO1xuICAgICAgaWYgKGMuc2VsZWN0aW9uU2V0KSB7XG4gICAgICAgIE8gPSByZXNvbHZlUmVzb2x2ZXJSZXN1bHQoZSwgdiwgeSwgXywgZ2V0U2VsZWN0aW9uU2V0KGMpLCB2b2lkIDAgIT09IGZbbV0gPyBmW21dIDogaVttXSwgTywgb3duc0RhdGEoaSkpO1xuICAgICAgfVxuICAgICAgaWYgKG4uc2NoZW1hICYmIG51bGwgPT09IE8gJiYgIWlzRmllbGROdWxsYWJsZShuLnNjaGVtYSwgdiwgeSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWMuc2VsZWN0aW9uU2V0KSB7XG4gICAgICBPID0gTjtcbiAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gaykge1xuICAgICAgTyA9IHJlc29sdmVSZXNvbHZlclJlc3VsdChlLCB2LCB5LCBfLCBnZXRTZWxlY3Rpb25TZXQoYyksIHZvaWQgMCAhPT0gZlttXSA/IGZbbV0gOiBpW21dLCBrLCBvd25zRGF0YShpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB3ID0gcmVhZExpbmsocywgZyk7XG4gICAgICBpZiAodm9pZCAwICE9PSB3KSB7XG4gICAgICAgIE8gPSByZXNvbHZlTGluayhlLCB3LCB2LCB5LCBnZXRTZWxlY3Rpb25TZXQoYyksIHZvaWQgMCAhPT0gZlttXSA/IGZbbV0gOiBpW21dLCBvd25zRGF0YShpKSk7XG4gICAgICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIE4gJiYgbnVsbCAhPT0gTikge1xuICAgICAgICBPID0gTjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZvaWQgMCA9PT0gTyAmJiBxLmN1cnJlbnQpIHtcbiAgICAgIHUgPSAhMDtcbiAgICB9IGVsc2UgaWYgKHZvaWQgMCA9PT0gTyAmJiAobi5zY2hlbWEgJiYgaXNGaWVsZE51bGxhYmxlKG4uc2NoZW1hLCB2LCB5KSB8fCBnZXRGaWVsZEVycm9yKGUpKSkge1xuICAgICAgZCA9ICEwO1xuICAgICAgTyA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh2b2lkIDAgPT09IE8pIHtcbiAgICAgIGUuX19pbnRlcm5hbC5wYXRoLnBvcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB1ID0gdSB8fCBcIl9fdHlwZW5hbWVcIiAhPT0geTtcbiAgICB9XG4gICAgZS5fX2ludGVybmFsLnBhdGgucG9wKCk7XG4gICAgcCA9IHAgfHwgTyAhPT0gaVttXTtcbiAgICBpZiAodm9pZCAwICE9PSBPKSB7XG4gICAgICBmW21dID0gTztcbiAgICB9XG4gIH1cbiAgZS5wYXJ0aWFsID0gZS5wYXJ0aWFsIHx8IGQ7XG4gIHJldHVybiBvICYmIGQgJiYgIXUgPyB2b2lkIDAgOiBwID8gZiA6IGk7XG59O1xuXG52YXIgcmVzb2x2ZVJlc29sdmVyUmVzdWx0ID0gKGUsIHIsIHQsIGksIGEsIG4sIG8sIHMpID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobykpIHtcbiAgICB2YXIge3N0b3JlOiB2fSA9IGU7XG4gICAgdmFyIGwgPSB2LnNjaGVtYSA/IGlzTGlzdE51bGxhYmxlKHYuc2NoZW1hLCByLCB0KSA6ICExO1xuICAgIHZhciB1ID0gbmV3IEFycmF5KG8ubGVuZ3RoKTtcbiAgICB2YXIgZCA9ICFBcnJheS5pc0FycmF5KG4pIHx8IG8ubGVuZ3RoICE9PSBuLmxlbmd0aDtcbiAgICBmb3IgKHZhciBwID0gMCwgYyA9IG8ubGVuZ3RoOyBwIDwgYzsgcCsrKSB7XG4gICAgICBlLl9faW50ZXJuYWwucGF0aC5wdXNoKHApO1xuICAgICAgdmFyIGYgPSByZXNvbHZlUmVzb2x2ZXJSZXN1bHQoZSwgciwgdCwgam9pbktleXMoaSwgYCR7cH1gKSwgYSwgbnVsbCAhPSBuID8gbltwXSA6IHZvaWQgMCwgb1twXSwgcyk7XG4gICAgICBlLl9faW50ZXJuYWwucGF0aC5wb3AoKTtcbiAgICAgIGlmICh2b2lkIDAgPT09IGYgJiYgIWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5wYXJ0aWFsID0gZS5wYXJ0aWFsIHx8IHZvaWQgMCA9PT0gZiAmJiBsO1xuICAgICAgICB1W3BdID0gbnVsbCAhPSBmID8gZiA6IG51bGw7XG4gICAgICAgIGQgPSBkIHx8IHVbcF0gIT09IG5bcF07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkID8gdSA6IG47XG4gIH0gZWxzZSBpZiAobnVsbCA9PSBvKSB7XG4gICAgcmV0dXJuIG87XG4gIH0gZWxzZSBpZiAocyAmJiBudWxsID09PSBuKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoaXNEYXRhT3JLZXkobykpIHtcbiAgICB2YXIgeSA9IG4gfHwgbWFrZURhdGEoKTtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgbyA/IHJlYWRTZWxlY3Rpb24oZSwgbywgYSwgeSkgOiByZWFkU2VsZWN0aW9uKGUsIGksIGEsIHksIG8pO1xuICB9IGVsc2Uge1xuICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiB3YXJuKFwiSW52YWxpZCByZXNvbHZlciB2YWx1ZTogVGhlIGZpZWxkIGF0IGBcIiArIGkgKyBcImAgaXMgYSBzY2FsYXIgKG51bWJlciwgYm9vbGVhbiwgZXRjKSwgYnV0IHRoZSBHcmFwaFFMIHF1ZXJ5IGV4cGVjdHMgYSBzZWxlY3Rpb24gc2V0IGZvciB0aGlzIGZpZWxkLlwiLCA5KTtcbiAgICByZXR1cm47XG4gIH1cbn07XG5cbnZhciByZXNvbHZlTGluayA9IChlLCByLCB0LCBpLCBhLCBuLCBvKSA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KHIpKSB7XG4gICAgdmFyIHtzdG9yZTogc30gPSBlO1xuICAgIHZhciB2ID0gcy5zY2hlbWEgPyBpc0xpc3ROdWxsYWJsZShzLnNjaGVtYSwgdCwgaSkgOiAhMTtcbiAgICB2YXIgbCA9IG5ldyBBcnJheShyLmxlbmd0aCk7XG4gICAgdmFyIHUgPSAhQXJyYXkuaXNBcnJheShuKSB8fCBsLmxlbmd0aCAhPT0gbi5sZW5ndGg7XG4gICAgZm9yICh2YXIgZCA9IDAsIHAgPSByLmxlbmd0aDsgZCA8IHA7IGQrKykge1xuICAgICAgZS5fX2ludGVybmFsLnBhdGgucHVzaChkKTtcbiAgICAgIHZhciBjID0gcmVzb2x2ZUxpbmsoZSwgcltkXSwgdCwgaSwgYSwgbnVsbCAhPSBuID8gbltkXSA6IHZvaWQgMCwgbyk7XG4gICAgICBlLl9faW50ZXJuYWwucGF0aC5wb3AoKTtcbiAgICAgIGlmICh2b2lkIDAgPT09IGMgJiYgIXYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5wYXJ0aWFsID0gZS5wYXJ0aWFsIHx8IHZvaWQgMCA9PT0gYyAmJiB2O1xuICAgICAgICBsW2RdID0gYyB8fCBudWxsO1xuICAgICAgICB1ID0gdSB8fCBsW2RdICE9PSBuW2RdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdSA/IGwgOiBuO1xuICB9IGVsc2UgaWYgKG51bGwgPT09IHIgfHwgbnVsbCA9PT0gbiAmJiBvKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlYWRTZWxlY3Rpb24oZSwgciwgYSwgbiB8fCBtYWtlRGF0YSgpKTtcbn07XG5cbnZhciBpc0RhdGFPcktleSA9IGUgPT4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSB8fCBcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUuX190eXBlbmFtZTtcblxudmFyIGFkZENhY2hlT3V0Y29tZSA9IChlLCByKSA9PiBpKGUua2luZCwgZSwge1xuICAuLi5lLmNvbnRleHQsXG4gIG1ldGE6IHtcbiAgICAuLi5lLmNvbnRleHQubWV0YSxcbiAgICBjYWNoZU91dGNvbWU6IHJcbiAgfVxufSk7XG5cbnZhciB0b1JlcXVlc3RQb2xpY3kgPSAoZSwgcikgPT4gaShlLmtpbmQsIGUsIHtcbiAgLi4uZS5jb250ZXh0LFxuICByZXF1ZXN0UG9saWN5OiByXG59KTtcblxudmFyIGNhY2hlRXhjaGFuZ2UgPSBlID0+ICh7Zm9yd2FyZDogciwgY2xpZW50OiBkLCBkaXNwYXRjaERlYnVnOiBwfSkgPT4ge1xuICB2YXIgYyA9IG5ldyBTdG9yZShlKTtcbiAgaWYgKGUgJiYgZS5zdG9yYWdlKSB7XG4gICAgZS5zdG9yYWdlLnJlYWREYXRhKCkudGhlbigociA9PiB7XG4gICAgICAoKGUsIHIsIHQpID0+IHtcbiAgICAgICAgaW5pdERhdGFTdGF0ZShcIndyaXRlXCIsIGUsIG51bGwpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHQpIHtcbiAgICAgICAgICB2YXIgYSA9IHRbaV07XG4gICAgICAgICAgaWYgKHZvaWQgMCAhPT0gYSkge1xuICAgICAgICAgICAgdmFyIHtlbnRpdHlLZXk6IG4sIGZpZWxkS2V5OiBvfSA9IGRlc2VyaWFsaXplS2V5SW5mbyhpKTtcbiAgICAgICAgICAgIGlmIChcIjpcIiA9PT0gYVswXSkge1xuICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSByZWFkTGluayhuLCBvKSkge1xuICAgICAgICAgICAgICAgIHdyaXRlTGluayhuLCBvLCBKU09OLnBhcnNlKGEuc2xpY2UoMSkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh2b2lkIDAgPT09IHJlYWRSZWNvcmQobiwgbykpIHtcbiAgICAgICAgICAgICAgd3JpdGVSZWNvcmQobiwgbywgSlNPTi5wYXJzZShhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsZWFyRGF0YVN0YXRlKCk7XG4gICAgICAgIGUuc3RvcmFnZSA9IHI7XG4gICAgICB9KShjLmRhdGEsIGUuc3RvcmFnZSwgcik7XG4gICAgfSkpO1xuICB9XG4gIHZhciBmID0gbmV3IE1hcDtcbiAgdmFyIHkgPSBbXTtcbiAgdmFyIGggPSBuZXcgTWFwO1xuICB2YXIgbSA9IG5ldyBNYXA7XG4gIHZhciBnID0gbmV3IFNldDtcbiAgdmFyIF8gPSBuZXcgU2V0O1xuICB2YXIgTiA9IG5ldyBNYXA7XG4gIHZhciBrID0gbmV3IFNldDtcbiAgdmFyIEUgPSBuZXcgU2V0O1xuICB2YXIgaXNCbG9ja2VkQnlPcHRpbWlzdGljVXBkYXRlID0gZSA9PiB7XG4gICAgZm9yICh2YXIgciBvZiBlLnZhbHVlcygpKSB7XG4gICAgICBpZiAoZy5oYXMocikpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH07XG4gIHZhciBjb2xsZWN0UGVuZGluZ09wZXJhdGlvbnMgPSAoZSwgcikgPT4ge1xuICAgIGlmIChyKSB7XG4gICAgICBmb3IgKHZhciB0IG9mIHIudmFsdWVzKCkpIHtcbiAgICAgICAgdmFyIGkgPSBOLmdldCh0KTtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICBmb3IgKHZhciBhIG9mIGkudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGUuYWRkKGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIGV4ZWN1dGVQZW5kaW5nT3BlcmF0aW9ucyA9IChlLCByKSA9PiB7XG4gICAgZm9yICh2YXIgdCBvZiByLnZhbHVlcygpKSB7XG4gICAgICBpZiAodCAhPT0gZS5rZXkpIHtcbiAgICAgICAgdmFyIGkgPSBoLmdldCh0KTtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICBpZiAoXCJxdWVyeVwiID09PSBlLmtpbmQpIHtcbiAgICAgICAgICAgIEUuYWRkKHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoLmRlbGV0ZSh0KTtcbiAgICAgICAgICB2YXIgYSA9IFwiY2FjaGUtZmlyc3RcIjtcbiAgICAgICAgICBpZiAoXy5oYXModCkpIHtcbiAgICAgICAgICAgIF8uZGVsZXRlKHQpO1xuICAgICAgICAgICAgYSA9IFwiY2FjaGUtYW5kLW5ldHdvcmtcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZC5yZWV4ZWN1dGVPcGVyYXRpb24odG9SZXF1ZXN0UG9saWN5KGksIGEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbiA9IGs7XG4gICAgaWYgKFwicXVlcnlcIiA9PT0gZS5raW5kKSB7XG4gICAgICAoayA9IEUpLmFkZChlLmtleSk7XG4gICAgfVxuICAgIChFID0gbikuY2xlYXIoKTtcbiAgfTtcbiAgdmFyIHByZXBhcmVGb3J3YXJkZWRPcGVyYXRpb24gPSBlID0+IHtcbiAgICBpZiAoXCJxdWVyeVwiID09PSBlLmtpbmQpIHtcbiAgICAgIHJlc2VydmVMYXllcihjLmRhdGEsIGUua2V5KTtcbiAgICB9IGVsc2UgaWYgKFwidGVhcmRvd25cIiA9PT0gZS5raW5kKSB7XG4gICAgICBoLmRlbGV0ZShlLmtleSk7XG4gICAgICBtLmRlbGV0ZShlLmtleSk7XG4gICAgICBub29wRGF0YVN0YXRlKGMuZGF0YSwgZS5rZXkpO1xuICAgIH0gZWxzZSBpZiAoXCJtdXRhdGlvblwiID09PSBlLmtpbmQgJiYgXCJuZXR3b3JrLW9ubHlcIiAhPT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kpIHtcbiAgICAgIHZhciB7ZGVwZW5kZW5jaWVzOiByfSA9ICgoZSwgciwgdCkgPT4ge1xuICAgICAgICBpZiAoXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WKSB7XG4gICAgICAgICAgaW52YXJpYW50KFwibXV0YXRpb25cIiA9PT0gZ2V0TWFpbk9wZXJhdGlvbihyLnF1ZXJ5KS5vcGVyYXRpb24sIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViA/IFwid3JpdGVPcHRpbWlzdGljKC4uLikgd2FzIGNhbGxlZCB3aXRoIGFuIG9wZXJhdGlvbiB0aGF0IGlzIG5vdCBhIG11dGF0aW9uLlxcblRoaXMgY2FzZSBpcyB1bnN1cHBvcnRlZCBhbmQgc2hvdWxkIG5ldmVyIG9jY3VyLlwiIDogXCJcIiwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGluaXREYXRhU3RhdGUoXCJ3cml0ZVwiLCBlLmRhdGEsIHQsICEwKTtcbiAgICAgICAgdmFyIGkgPSBzdGFydFdyaXRlKGUsIHIsIHt9LCB2b2lkIDAsICEwKTtcbiAgICAgICAgY2xlYXJEYXRhU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9KShjLCBlLCBlLmtleSk7XG4gICAgICBpZiAoci5zaXplKSB7XG4gICAgICAgIGZvciAodmFyIGEgb2Ygci52YWx1ZXMoKSkge1xuICAgICAgICAgIGcuYWRkKGEpO1xuICAgICAgICB9XG4gICAgICAgIGYuc2V0KGUua2V5LCByKTtcbiAgICAgICAgdmFyIG4gPSBuZXcgU2V0O1xuICAgICAgICBjb2xsZWN0UGVuZGluZ09wZXJhdGlvbnMobiwgcik7XG4gICAgICAgIGV4ZWN1dGVQZW5kaW5nT3BlcmF0aW9ucyhlLCBuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGkoZS5raW5kLCB7XG4gICAgICBrZXk6IGUua2V5LFxuICAgICAgcXVlcnk6IHQoZS5xdWVyeSksXG4gICAgICB2YXJpYWJsZXM6IGUudmFyaWFibGVzID8gZmlsdGVyVmFyaWFibGVzKGdldE1haW5PcGVyYXRpb24oZS5xdWVyeSksIGUudmFyaWFibGVzKSA6IGUudmFyaWFibGVzXG4gICAgfSwgZS5jb250ZXh0KTtcbiAgfTtcbiAgdmFyIHVwZGF0ZURlcGVuZGVuY2llcyA9IChlLCByKSA9PiB7XG4gICAgZm9yICh2YXIgdCBvZiByLnZhbHVlcygpKSB7XG4gICAgICB2YXIgaSA9IE4uZ2V0KHQpO1xuICAgICAgaWYgKCFpKSB7XG4gICAgICAgIE4uc2V0KHQsIGkgPSBuZXcgU2V0KTtcbiAgICAgIH1cbiAgICAgIGkuYWRkKGUua2V5KTtcbiAgICB9XG4gIH07XG4gIHZhciBvcGVyYXRpb25SZXN1bHRGcm9tQ2FjaGUgPSBlID0+IHtcbiAgICB2YXIgciA9IHF1ZXJ5KGMsIGUsIG0uZ2V0KGUua2V5KSk7XG4gICAgdmFyIHQgPSByLmRhdGEgPyAhci5wYXJ0aWFsID8gXCJoaXRcIiA6IFwicGFydGlhbFwiIDogXCJtaXNzXCI7XG4gICAgbS5zZXQoZS5rZXksIHIuZGF0YSk7XG4gICAgaC5zZXQoZS5rZXksIGUpO1xuICAgIHVwZGF0ZURlcGVuZGVuY2llcyhlLCByLmRlcGVuZGVuY2llcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG91dGNvbWU6IHQsXG4gICAgICBvcGVyYXRpb246IGUsXG4gICAgICBkYXRhOiByLmRhdGEsXG4gICAgICBkZXBlbmRlbmNpZXM6IHIuZGVwZW5kZW5jaWVzXG4gICAgfTtcbiAgfTtcbiAgdmFyIHVwZGF0ZUNhY2hlV2l0aFJlc3VsdCA9IChlLCByKSA9PiB7XG4gICAgdmFyIHtlcnJvcjogdCwgZXh0ZW5zaW9uczogYX0gPSBlO1xuICAgIHZhciBuID0gaC5nZXQoZS5vcGVyYXRpb24ua2V5KTtcbiAgICB2YXIgbyA9IG4gPyBpKG4ua2luZCwgbiwgZS5vcGVyYXRpb24uY29udGV4dCkgOiBlLm9wZXJhdGlvbjtcbiAgICBpZiAoXCJtdXRhdGlvblwiID09PSBvLmtpbmQpIHtcbiAgICAgIHZhciBzID0gZi5nZXQoby5rZXkpO1xuICAgICAgY29sbGVjdFBlbmRpbmdPcGVyYXRpb25zKHIsIHMpO1xuICAgICAgZi5kZWxldGUoby5rZXkpO1xuICAgIH1cbiAgICByZXNlcnZlTGF5ZXIoYy5kYXRhLCBvLmtleSwgXCJzdWJzY3JpcHRpb25cIiA9PT0gby5raW5kIHx8IGUuaGFzTmV4dCk7XG4gICAgdmFyIHY7XG4gICAgdmFyIGwgPSBlLmRhdGE7XG4gICAgaWYgKGwpIHtcbiAgICAgIHZhciB1ID0gd3JpdGUoYywgbywgbCwgZS5lcnJvciwgby5rZXkpLmRlcGVuZGVuY2llcztcbiAgICAgIGNvbGxlY3RQZW5kaW5nT3BlcmF0aW9ucyhyLCB1KTtcbiAgICAgIHZhciBkID0gcXVlcnkoYywgbywgXCJxdWVyeVwiID09PSBvLmtpbmQgPyBtLmdldChvLmtleSkgfHwgbCA6IGwsIGUuZXJyb3IsIG8ua2V5KTtcbiAgICAgIGwgPSBkLmRhdGE7XG4gICAgICBpZiAoXCJxdWVyeVwiID09PSBvLmtpbmQpIHtcbiAgICAgICAgY29sbGVjdFBlbmRpbmdPcGVyYXRpb25zKHIsIHYgPSBkLmRlcGVuZGVuY2llcyk7XG4gICAgICAgIG0uc2V0KG8ua2V5LCBsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbm9vcERhdGFTdGF0ZShjLmRhdGEsIG8ua2V5KTtcbiAgICB9XG4gICAgaWYgKHYpIHtcbiAgICAgIGguc2V0KG8ua2V5LCBvKTtcbiAgICAgIHVwZGF0ZURlcGVuZGVuY2llcyhlLm9wZXJhdGlvbiwgdik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBsLFxuICAgICAgZXJyb3I6IHQsXG4gICAgICBleHRlbnNpb25zOiBhLFxuICAgICAgb3BlcmF0aW9uOiBvXG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGUgPT4ge1xuICAgIHZhciB0ID0gYShlKTtcbiAgICB2YXIgaSA9IGEobihvcGVyYXRpb25SZXN1bHRGcm9tQ2FjaGUpKG8oKGUgPT4gXCJxdWVyeVwiID09PSBlLmtpbmQgJiYgXCJuZXR3b3JrLW9ubHlcIiAhPT0gZS5jb250ZXh0LnJlcXVlc3RQb2xpY3kpKSh0KSkpO1xuICAgIHZhciBoID0gbygoZSA9PiBcInF1ZXJ5XCIgIT09IGUua2luZCB8fCBcIm5ldHdvcmstb25seVwiID09PSBlLmNvbnRleHQucmVxdWVzdFBvbGljeSkpKHQpO1xuICAgIHZhciBtID0gbigoZSA9PiB7XG4gICAgICBcInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiYgcCh7XG4gICAgICAgIHR5cGU6IFwiY2FjaGVNaXNzXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiVGhlIHJlc3VsdCBjb3VsZCBub3QgYmUgcmV0cmlldmVkIGZyb20gdGhlIGNhY2hlXCIsXG4gICAgICAgIG9wZXJhdGlvbjogZS5vcGVyYXRpb24sXG4gICAgICAgIHNvdXJjZTogXCJjYWNoZUV4Y2hhbmdlXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFkZENhY2hlT3V0Y29tZShlLm9wZXJhdGlvbiwgXCJtaXNzXCIpO1xuICAgIH0pKShvKChlID0+IFwibWlzc1wiID09PSBlLm91dGNvbWUgJiYgXCJjYWNoZS1vbmx5XCIgIT09IGUub3BlcmF0aW9uLmNvbnRleHQucmVxdWVzdFBvbGljeSAmJiAhaXNCbG9ja2VkQnlPcHRpbWlzdGljVXBkYXRlKGUuZGVwZW5kZW5jaWVzKSAmJiAhay5oYXMoZS5vcGVyYXRpb24ua2V5KSkpKGkpKTtcbiAgICB2YXIgTiA9IG4oKGUgPT4ge1xuICAgICAgdmFyIHtvcGVyYXRpb246IHIsIG91dGNvbWU6IHQsIGRlcGVuZGVuY2llczogaX0gPSBlO1xuICAgICAgdmFyIGEgPSB7XG4gICAgICAgIG9wZXJhdGlvbjogYWRkQ2FjaGVPdXRjb21lKHIsIHQpLFxuICAgICAgICBkYXRhOiBlLmRhdGEsXG4gICAgICAgIGVycm9yOiBlLmVycm9yLFxuICAgICAgICBleHRlbnNpb25zOiBlLmV4dGVuc2lvbnNcbiAgICAgIH07XG4gICAgICBpZiAoXCJjYWNoZS1hbmQtbmV0d29ya1wiID09PSByLmNvbnRleHQucmVxdWVzdFBvbGljeSB8fCBcImNhY2hlLWZpcnN0XCIgPT09IHIuY29udGV4dC5yZXF1ZXN0UG9saWN5ICYmIFwicGFydGlhbFwiID09PSB0KSB7XG4gICAgICAgIGEuc3RhbGUgPSAhMDtcbiAgICAgICAgaWYgKCFpc0Jsb2NrZWRCeU9wdGltaXN0aWNVcGRhdGUoaSkpIHtcbiAgICAgICAgICBkLnJlZXhlY3V0ZU9wZXJhdGlvbih0b1JlcXVlc3RQb2xpY3kociwgXCJuZXR3b3JrLW9ubHlcIikpO1xuICAgICAgICB9IGVsc2UgaWYgKFwiY2FjaGUtYW5kLW5ldHdvcmtcIiA9PT0gci5jb250ZXh0LnJlcXVlc3RQb2xpY3kpIHtcbiAgICAgICAgICBfLmFkZChyLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBwKHtcbiAgICAgICAgdHlwZTogXCJjYWNoZUhpdFwiLFxuICAgICAgICBtZXNzYWdlOiBcIkEgcmVxdWVzdGVkIG9wZXJhdGlvbiB3YXMgZm91bmQgYW5kIHJldHVybmVkIGZyb20gdGhlIGNhY2hlLlwiLFxuICAgICAgICBvcGVyYXRpb246IGUub3BlcmF0aW9uLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdmFsdWU6IGFcbiAgICAgICAgfSxcbiAgICAgICAgc291cmNlOiBcImNhY2hlRXhjaGFuZ2VcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYTtcbiAgICB9KSkobygoZSA9PiBcIm1pc3NcIiAhPT0gZS5vdXRjb21lIHx8IFwiY2FjaGUtb25seVwiID09PSBlLm9wZXJhdGlvbi5jb250ZXh0LnJlcXVlc3RQb2xpY3kpKShpKSk7XG4gICAgdmFyIEUgPSBhKHIobihwcmVwYXJlRm9yd2FyZGVkT3BlcmF0aW9uKShzKFsgaCwgbSBdKSkpKTtcbiAgICB2YXIgTyA9IG4oKGUgPT4ge1xuICAgICAgdmFyIHIgPSBuZXcgU2V0O1xuICAgICAgdmFyIHQgPSB1cGRhdGVDYWNoZVdpdGhSZXN1bHQoZSwgcik7XG4gICAgICBleGVjdXRlUGVuZGluZ09wZXJhdGlvbnMoZS5vcGVyYXRpb24sIHIpO1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSkpKG8oKGUgPT4gIWYuaGFzKGUub3BlcmF0aW9uLmtleSkpKShFKSk7XG4gICAgdmFyIHcgPSB2KChlID0+IHtcbiAgICAgIGlmICh5LnB1c2goZSkgPCBmLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGw7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciByID0gMDsgciA8IHkubGVuZ3RoOyByKyspIHtcbiAgICAgICAgcmVzZXJ2ZUxheWVyKGMuZGF0YSwgeVtyXS5vcGVyYXRpb24ua2V5KTtcbiAgICAgIH1cbiAgICAgIGcuY2xlYXIoKTtcbiAgICAgIHZhciB0ID0gW107XG4gICAgICB2YXIgaSA9IG5ldyBTZXQ7XG4gICAgICB2YXIgYTtcbiAgICAgIHdoaWxlIChhID0geS5zaGlmdCgpKSB7XG4gICAgICAgIHQucHVzaCh1cGRhdGVDYWNoZVdpdGhSZXN1bHQoYSwgaSkpO1xuICAgICAgfVxuICAgICAgZXhlY3V0ZVBlbmRpbmdPcGVyYXRpb25zKGUub3BlcmF0aW9uLCBpKTtcbiAgICAgIHJldHVybiB1KHQpO1xuICAgIH0pKShvKChlID0+IGYuaGFzKGUub3BlcmF0aW9uLmtleSkpKShFKSk7XG4gICAgcmV0dXJuIHMoWyBPLCB3LCBOIF0pO1xuICB9O1xufTtcblxudmFyIGlzT2ZmbGluZUVycm9yID0gZSA9PiBlICYmIGUubmV0d29ya0Vycm9yICYmICFlLnJlc3BvbnNlICYmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBuYXZpZ2F0b3IgJiYgITEgPT09IG5hdmlnYXRvci5vbkxpbmUgfHwgL3JlcXVlc3QgZmFpbGVkfGZhaWxlZCB0byBmZXRjaHxuZXR3b3JrXFxzP2Vycm9yL2kudGVzdChlLm5ldHdvcmtFcnJvci5tZXNzYWdlKSk7XG5cbnZhciBvZmZsaW5lRXhjaGFuZ2UgPSBlID0+IHQgPT4ge1xuICB2YXIge3N0b3JhZ2U6IG59ID0gZTtcbiAgaWYgKG4gJiYgbi5vbk9ubGluZSAmJiBuLnJlYWRNZXRhZGF0YSAmJiBuLndyaXRlTWV0YWRhdGEpIHtcbiAgICB2YXIge2ZvcndhcmQ6IHYsIGNsaWVudDogbCwgZGlzcGF0Y2hEZWJ1ZzogdX0gPSB0O1xuICAgIHZhciB7c291cmNlOiBwLCBuZXh0OiBjfSA9IGQoKTtcbiAgICB2YXIgeSA9IGUub3B0aW1pc3RpYyB8fCB7fTtcbiAgICB2YXIgaCA9IFtdO1xuICAgIHZhciB1cGRhdGVNZXRhZGF0YSA9ICgpID0+IHtcbiAgICAgIHZhciBlID0gW107XG4gICAgICBmb3IgKHZhciByID0gMDsgciA8IGgubGVuZ3RoOyByKyspIHtcbiAgICAgICAgdmFyIHQgPSBoW3JdO1xuICAgICAgICBpZiAoXCJtdXRhdGlvblwiID09PSB0LmtpbmQpIHtcbiAgICAgICAgICBlLnB1c2goe1xuICAgICAgICAgICAgcXVlcnk6IGYodC5xdWVyeSksXG4gICAgICAgICAgICB2YXJpYWJsZXM6IHQudmFyaWFibGVzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG4ud3JpdGVNZXRhZGF0YShlKTtcbiAgICB9O1xuICAgIHZhciBtID0gITE7XG4gICAgdmFyIGZsdXNoUXVldWUgPSAoKSA9PiB7XG4gICAgICBpZiAoIW0pIHtcbiAgICAgICAgbSA9ICEwO1xuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IGgubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICB2YXIgciA9IGhbZV07XG4gICAgICAgICAgaWYgKFwibXV0YXRpb25cIiA9PT0gci5raW5kKSB7XG4gICAgICAgICAgICBjKGkoXCJ0ZWFyZG93blwiLCByKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgaC5sZW5ndGg7IHQrKykge1xuICAgICAgICAgIGwucmVleGVjdXRlT3BlcmF0aW9uKGhbdF0pO1xuICAgICAgICB9XG4gICAgICAgIGgubGVuZ3RoID0gMDtcbiAgICAgICAgbSA9ICExO1xuICAgICAgICB1cGRhdGVNZXRhZGF0YSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgbi5vbk9ubGluZShmbHVzaFF1ZXVlKTtcbiAgICBuLnJlYWRNZXRhZGF0YSgpLnRoZW4oKGUgPT4ge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgaC5wdXNoKGwuY3JlYXRlUmVxdWVzdE9wZXJhdGlvbihcIm11dGF0aW9uXCIsIHIoZVt0XS5xdWVyeSwgZVt0XS52YXJpYWJsZXMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZmx1c2hRdWV1ZSgpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICB2YXIgZyA9IGNhY2hlRXhjaGFuZ2Uoe1xuICAgICAgLi4uZSxcbiAgICAgIHN0b3JhZ2U6IHtcbiAgICAgICAgLi4ubixcbiAgICAgICAgcmVhZERhdGE6ICgpID0+IG4ucmVhZERhdGEoKS5maW5hbGx5KGZsdXNoUXVldWUpXG4gICAgICB9XG4gICAgfSkoe1xuICAgICAgY2xpZW50OiBsLFxuICAgICAgZGlzcGF0Y2hEZWJ1ZzogdSxcbiAgICAgIGZvcndhcmQ6IGUgPT4gbygoZSA9PiB7XG4gICAgICAgIGlmIChcIm11dGF0aW9uXCIgPT09IGUub3BlcmF0aW9uLmtpbmQgJiYgaXNPZmZsaW5lRXJyb3IoZS5lcnJvcikgJiYgKChlLCByKSA9PiB7XG4gICAgICAgICAgdmFyIHQgPSByLnZhcmlhYmxlcyB8fCB7fTtcbiAgICAgICAgICB2YXIgaSA9IGdldEZyYWdtZW50cyhyLnF1ZXJ5KTtcbiAgICAgICAgICB2YXIgYSA9IFsgLi4uZ2V0U2VsZWN0aW9uU2V0KGdldE1haW5PcGVyYXRpb24oci5xdWVyeSkpIF07XG4gICAgICAgICAgdmFyIG47XG4gICAgICAgICAgd2hpbGUgKG4gPSBhLnBvcCgpKSB7XG4gICAgICAgICAgICBpZiAoIXNob3VsZEluY2x1ZGUobiwgdCkpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0ZpZWxkTm9kZShuKSkge1xuICAgICAgICAgICAgICB2YXIgbyA9ICFpc0lubGluZUZyYWdtZW50KG4pID8gaVtnZXROYW1lKG4pXSA6IG47XG4gICAgICAgICAgICAgIGlmIChvKSB7XG4gICAgICAgICAgICAgICAgYS5wdXNoKC4uLmdldFNlbGVjdGlvblNldChvKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZVtnZXROYW1lKG4pXSkge1xuICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfSkoeSwgZS5vcGVyYXRpb24pKSB7XG4gICAgICAgICAgaC5wdXNoKGUub3BlcmF0aW9uKTtcbiAgICAgICAgICB1cGRhdGVNZXRhZGF0YSgpO1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9KSkodihlKSlcbiAgICB9KTtcbiAgICByZXR1cm4gZSA9PiB7XG4gICAgICB2YXIgciA9IGEoZSk7XG4gICAgICB2YXIgdCA9IHMoWyBwLCByIF0pO1xuICAgICAgcmV0dXJuIG8oKGUgPT4ge1xuICAgICAgICBpZiAoXCJxdWVyeVwiID09PSBlLm9wZXJhdGlvbi5raW5kICYmIGlzT2ZmbGluZUVycm9yKGUuZXJyb3IpKSB7XG4gICAgICAgICAgYyh0b1JlcXVlc3RQb2xpY3koZS5vcGVyYXRpb24sIFwiY2FjaGUtb25seVwiKSk7XG4gICAgICAgICAgaC5wdXNoKGUub3BlcmF0aW9uKTtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfSkpKGcodCkpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGNhY2hlRXhjaGFuZ2UoZSkodCk7XG59O1xuXG5leHBvcnQgeyBTdG9yZSwgY2FjaGVFeGNoYW5nZSwgb2ZmbGluZUV4Y2hhbmdlLCBxdWVyeSwgd3JpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVycWwtZXhjaGFuZ2UtZ3JhcGhjYWNoZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs\n"));

/***/ })

});